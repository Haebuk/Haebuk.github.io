<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>지식 공유, 협업 ✈️ 성장</title>
        <link>https://Haebuk.github.io/</link>
        <description>Recent content on 지식 공유, 협업 ✈️ 성장</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>ko-kr</language>
        <lastBuildDate>Thu, 10 Nov 2022 19:03:39 +0900</lastBuildDate><atom:link href="https://Haebuk.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>AWS Secrets Manager를 사용해 Local Runner와 MWAA Secrets backend 통일하기</title>
        <link>https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/</link>
        <pubDate>Thu, 10 Nov 2022 19:03:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/AirflowLogo.png" alt="Featured image of post AWS Secrets Manager를 사용해 Local Runner와 MWAA Secrets backend 통일하기" /&gt;&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Local Runner(개발 환경)에서 개발한 dag(코드)를 MWAA(프로덕션 환경)에 업로드하는 경우, 개발 과정에서 프로덕션 환경의 Connections(연결) 및 Variables(변수)를 개발 환경에도 적용시키고 싶은 경우가 있다.&lt;/p&gt;
&lt;p&gt;가장 단순하게는 Web UI나 CLI를 사용해 Airflow의 메타 저장소에 등록하여 사용해도 된다. 그러나 같은 두 환경 간 차이가 발생할 수 있으며 특히 개발 환경의 경우 reset-db를 하는 경우가 빈번하므로 그때마다 휘발된 변수 및 연결을 다시 등록하는 것은 매우 번거로울 것이다.&lt;/p&gt;
&lt;p&gt;이 글에서는 Web UI나 CLI를 사용하여 Airflow의 연결과 변수를 등록하지 않고 Secrets Backend, 그 중에서도 AWS Secrets Manager를 사용해 개발과 프로덕션 환경의 연결과 변수를 통일하는 방법을 소개한다.&lt;/p&gt;
&lt;h2 id=&#34;setting-config&#34;&gt;Setting Config&lt;/h2&gt;
&lt;p&gt;먼저 이 글에서는 Local Runner와 MWAA는 이미 실행이 가능한 상태로 가정한다.&lt;/p&gt;
&lt;h3 id=&#34;secrets-backend&#34;&gt;secrets backend&lt;/h3&gt;
&lt;p&gt;Airflow의 secrets backend를 AWS Secret Manager로 사용하기 위해서는 아래와 같은 두 줄을 추가해야한다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;airflow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;providers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;aws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets_manager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SecretsManagerBackend&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend_kwargs&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;connections_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;airflow/connections&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;variables_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;airflow/variables&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;여기서 주목해야할 것은 &lt;code&gt;*_prefix&lt;/code&gt;인데, Airflow가 secrets backend에서 연결 및 변수를 가져오기 위해서는 각각의 id에 정확한 prefix를 붙여야 가져올 수 있다.&lt;/p&gt;
&lt;p&gt;연결과 변수 구성에 대한 예를 들어보자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;secrets backend에 &lt;code&gt;airflow/connections/my_conn_id&lt;/code&gt;를 정의한 경우 operator에서 &lt;code&gt;Connection(conn_id=&amp;quot;my_conn_id&amp;quot;)&lt;/code&gt;로 불러올 수 있다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airflow/variables/my_var&lt;/code&gt;를 정의한 경우 &lt;code&gt;Variable.get(&amp;quot;my_var&amp;quot;)&lt;/code&gt;로 내부에 저장된 값을 가져올 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;오타가 나면 &lt;code&gt;airflow.exceptions.AirflowNotFoundException: The conn_id isn&#39;t defined&lt;/code&gt; 에러가 발생하므로 주의하자.&lt;/p&gt;
&lt;p&gt;만약 프로덕션에 사용되는 환경이 여러개고 각 환경마다 config를 다르게 구성하고 싶으면 다음과 같은 방식으로 prefix를 변경하여 사용 가능하다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;airflow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;providers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;aws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets_manager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SecretsManagerBackend&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend_kwargs&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;connections_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;my_airflow_env/connections&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;variables_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;my_airflow_env/variables&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;MWAA와 Local Runner에서 위 config을 추가하는 방식은 약간 상이하기 때문에 나눠서 살펴보자.&lt;/p&gt;
&lt;h3 id=&#34;mwaa&#34;&gt;MWAA&lt;/h3&gt;
&lt;p&gt;본인의 MWAA 환경에서 편집버튼을 누르면 두 번째 페이지에 “Airflow 구성 옵션 - 선택 사항” 항목이 있다. 여기서 두 가지 옵션을 입력한다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/0.png&#34;
	width=&#34;1342&#34;
	height=&#34;1016&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/0_hu0ad25c698639f5abf6451dfd36cad1ae_150808_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/0_hu0ad25c698639f5abf6451dfd36cad1ae_150808_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MWAA 구성 옵션 화면&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;132&#34;
		data-flex-basis=&#34;317px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;이 구성 옵션 항목에 입력하는 파라미터들이 &lt;code&gt;airflow.cfg&lt;/code&gt; 에 들어간다고 이해하면 편하다. 이후 저장하며 환경 구성을 업데이트한다. (약 10여분 소요된다.)&lt;/p&gt;
&lt;p&gt;추가로 MWAA 환경의 실행 역할에 Secrets Manager 권한을 추가해야 한다. 여기서는 SecretsManagerReadWrite 정책을 추가했다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/p.png&#34;
	width=&#34;1356&#34;
	height=&#34;820&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/p_hu67ea218e20cb296b82cf0f2e41cb60d2_105952_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/p_hu67ea218e20cb296b82cf0f2e41cb60d2_105952_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MWAA 실행 역할의 권한 정책 사진&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;165&#34;
		data-flex-basis=&#34;396px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;만약 SecretsManagerReadWrite가 아닌 최소 정책을 추가하고 싶다면 아래와 같은 커스텀 정책을 추가하도록 한다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2012-10-17&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Statement&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretsmanager:GetResourcePolicy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretsmanager:GetSecretValue&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretsmanager:DescribeSecret&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretsmanager:ListSecretVersionIds&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:aws:secretsmanager:us-west-2:012345678910:secret:*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretsmanager:ListSecrets&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;local-runner&#34;&gt;Local Runner&lt;/h3&gt;
&lt;p&gt;Local Runner의 경우 local-runner/docker/config/airflow.cfg에서 &lt;code&gt;[secret]&lt;/code&gt;항목의 다음 두 줄을 수정한다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;airflow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;providers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;amazon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;aws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;secrets_manager&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;SecretsManagerBackend&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;backend_kwargs&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;connections_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;airflow/connections&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;variables_prefix&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;airflow/variables&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;region_name&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ap-northeast-2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/1.png&#34;
	width=&#34;1104&#34;
	height=&#34;850&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/1_hu5d89e5495c4e8e53a4e9d40e93f6e182_179930_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/1_hu5d89e5495c4e8e53a4e9d40e93f6e182_179930_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;129&#34;
		data-flex-basis=&#34;311px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;2-1 MWAA 항목과 거의 유사하지만 &lt;code&gt;&amp;quot;region_name&amp;quot;: ap-northeast-2&lt;/code&gt; 항목이 추가되었다. local runner의 s3 sync를 사용하는 경우 local-runner/docker/config/.env.localrunner에 &lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt; 와 &lt;code&gt;AWS_SECERT_ACCESS_KEY&lt;/code&gt; 가 입력되어 있을 것이므로 &lt;code&gt;backend_kwargs&lt;/code&gt; 에서 생략이 가능하다. 만약 .env.localrunner 에 상기 항목을 등록하지 않은 경우 &lt;code&gt;backend_kwargs&lt;/code&gt; 에 추가해야한다.&lt;/p&gt;
&lt;h2 id=&#34;create-secrets&#34;&gt;Create Secrets&lt;/h2&gt;
&lt;p&gt;이제 Secrets Manager에 샘플 변수와 연결을 만들고 개발 및 프로덕션 환경에서 모두 적용되는지 확인해보자.&lt;/p&gt;
&lt;h3 id=&#34;variables&#34;&gt;Variables&lt;/h3&gt;
&lt;p&gt;AWS Secrets Manager - 암호 생성 - 다른 유형의 보안 암호 선택  - 일반 텍스트에 &lt;code&gt;hello i&#39;m variable&lt;/code&gt; 을 입력했다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/2.png&#34;
	width=&#34;2092&#34;
	height=&#34;1022&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/2_huf0a66c5aff7554ba490cd0498894011b_113209_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/2_huf0a66c5aff7554ba490cd0498894011b_113209_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;204&#34;
		data-flex-basis=&#34;491px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;하단의 암호화 키 - 사용하고 있거나 새로 생성한다. 다음을 누른다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/3.png&#34;
	width=&#34;1384&#34;
	height=&#34;282&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/3_hu09b99c01bd45c06a694d332ff104c1c9_32333_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/3_hu09b99c01bd45c06a694d332ff104c1c9_32333_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;490&#34;
		data-flex-basis=&#34;1177px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/4.png&#34;
	width=&#34;1726&#34;
	height=&#34;834&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/4_hu9c26525f65b0338bf1fe999d880b130f_80242_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/4_hu9c26525f65b0338bf1fe999d880b130f_80242_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;206&#34;
		data-flex-basis=&#34;496px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;보안 암호 이름을 2에서 주었던 prefix와 동일하게 작성한다. 나는 &lt;code&gt;airflow/variables/sample_var_1&lt;/code&gt; 로 등록하였다. 설명은 옵션이므로 생략 가능하다. 다음을 선택한다.&lt;/p&gt;
&lt;p&gt;교체 구성은 따로 건드리지 않고 다음을 누르고 저장한다. 완료 후 새로고침 시 생성이 된 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/5.png&#34;
	width=&#34;2610&#34;
	height=&#34;478&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/5_hu530f44b09e9101e1521a569b09ddf4a9_73014_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/5_hu530f44b09e9101e1521a569b09ddf4a9_73014_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;생성 완료 모습&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;546&#34;
		data-flex-basis=&#34;1310px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;connections&#34;&gt;Connections&lt;/h3&gt;
&lt;p&gt;연결은 변수와 거의 비슷하지만 다른 점이 있다. 시크릿 값을 URI string으로 줄 것인가 key-value pair로 줄 것인지를 정해야 한다.&lt;/p&gt;
&lt;p&gt;이 글을 따라왔다면 URI string으로 구성해야한다. key-value pair로 구성하기 위해서는 &lt;code&gt;backend-kwargs&lt;/code&gt; 구성에 &lt;code&gt;&amp;quot;full_url&amp;quot;: &amp;quot;true&amp;quot;&lt;/code&gt; 옵션을 추가로 줘야 한다. 자세한 설명은 &lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow-providers-amazon/stable/secrets-backends/aws-secrets-manager.html#storing-and-retrieving-connections&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Storing and Retrieving Connection&lt;/a&gt; 을 참고한다.&lt;/p&gt;
&lt;p&gt;이해를 돕기 위해 sample connection은 mysqlOperator에 connection을 연결한다 가정하고 생성해보겠다.(데이터베이스는 따로 구성하지 않겠다.)&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow-providers-mysql/stable/operators.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MySqlOperator&lt;/a&gt;는 다음과 같은 파라미터를 받는다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/6.png&#34;
	width=&#34;1738&#34;
	height=&#34;600&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/6_hu43fe47f20819c14dd0fe2b9a00dcf4a5_66402_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/6_hu43fe47f20819c14dd0fe2b9a00dcf4a5_66402_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;289&#34;
		data-flex-basis=&#34;695px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;위 파라미터를 URI string으로 구성한다. Airflow의 URI string은 다음과 같이 구성된다. (&lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow/stable/howto/connection.html#uri-format-example&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;URI format example&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;my-conn-type&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;login&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;schema&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;param1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val1&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;param2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;val2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;이를 참조해 sample connection URI string을 다음과 같이 작성할 수 있다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;PW&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;HostUrl&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3306&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dbName&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;utf8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;3-1. Variable과 동일하게 AWS Secrets Manager에 새 보안 암호를 생성한다. 키/값 페어 항목에서 일반 텍스트에 연결 URI string을 입력한다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/7.png&#34;
	width=&#34;2042&#34;
	height=&#34;972&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/7_huacd28fb039bf9435a63435fd26d024a7_118031_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/7_huacd28fb039bf9435a63435fd26d024a7_118031_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;210&#34;
		data-flex-basis=&#34;504px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;보안 암호 이름을 &lt;code&gt;airflow/connections/sample_connection_1&lt;/code&gt; 과 같이 작성하고 저장한다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/8.png&#34;
	width=&#34;1686&#34;
	height=&#34;864&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/8_hu276da0f07367ef6ab29a2a7ffa70a38d_81914_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/8_hu276da0f07367ef6ab29a2a7ffa70a38d_81914_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;195&#34;
		data-flex-basis=&#34;468px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;연결과 변수를 모두 생성하였다.&lt;/p&gt;
&lt;h2 id=&#34;run-examples&#34;&gt;Run Examples&lt;/h2&gt;
&lt;p&gt;이제 개발 환경과 프로덕션 환경에서 두 시크릿을 가져올 수 있는지 확인해보자.&lt;/p&gt;
&lt;p&gt;연결과 변수를 가져오는 두 task를 정의하는 dag(&lt;code&gt;sample_read_secret_manager_dag&lt;/code&gt;)를 작성한다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;airflow.decorators&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;task&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;airflow.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Variable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;airflow.models.connection&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Connection&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;airflow.utils.dates&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;days_ago&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;default_args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;owner&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;airflow&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;start_date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;days_ago&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;depends_on_past&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;catchup&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@dag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;default_args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;default_args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;schedule_interval&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;@once&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;read_secrets_manager&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sample_read_secret_manager_dag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@task&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_variable_from_sm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Variable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sample_var_1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@task&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_connection_from_sm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Connection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;conn_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sample_connection_1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;uri&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;print_variable_from_sm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;print_connection_from_sm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sample_read_secret_manager_dag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;dag를 작성 후 실행시켜보면 개발 환경과 프로덕션 환경 모두 성공한 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/10.png&#34;
	width=&#34;2170&#34;
	height=&#34;830&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/10_hu00e7d79088f480881e57ba4cea2c3080_106881_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/10_hu00e7d79088f480881e57ba4cea2c3080_106881_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;local runner Web UI&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;261&#34;
		data-flex-basis=&#34;627px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/11.png&#34;
	width=&#34;2016&#34;
	height=&#34;826&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/11_hua838c231f49a858da2d89aa2fd61639c_101198_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/11_hua838c231f49a858da2d89aa2fd61639c_101198_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MWAA Web UI&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;244&#34;
		data-flex-basis=&#34;585px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;개발 환경과 프로덕션 환경 모두 두 task 로그를 확인해봤을 때 AWS Secrets Manager에 저장한 값을 잘 받아오는 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/12.png&#34;
	width=&#34;2810&#34;
	height=&#34;1190&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/12_hufc5caedee98de8da8dc4408b3b615bb5_446493_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/12_hufc5caedee98de8da8dc4408b3b615bb5_446493_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;print_variable_from_sm task log. 변수값을 제대로 가져온 것을 알 수 있다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;236&#34;
		data-flex-basis=&#34;566px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/13.png&#34;
	width=&#34;2826&#34;
	height=&#34;1176&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/13_hudbe204a5040cddaa8ef839fb5ebdef52_573736_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-secrets-manager%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-local-runner%EC%99%80-mwaa-secrets-backend-%ED%86%B5%EC%9D%BC%ED%95%98%EA%B8%B0/13_hudbe204a5040cddaa8ef839fb5ebdef52_573736_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;print_connection_from_sm task log. URI string을 잘 가져오고, 패스워드는 마스킹 처리되서 출력된다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;240&#34;
		data-flex-basis=&#34;576px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;마치며&#34;&gt;마치며&lt;/h2&gt;
&lt;p&gt;Airflow secrets backend, 그 중에서도 AWS Secrets Manager를 사용하여 Airflow의 연결 및 변수를 통일하는 작업을 살펴봤다. 연결 및 변수 정보를 외부에 한 번 저장하는 것으로 두 환경에서 받아올 수 있었다. 이를 통해 좀 더 빠른 개발을 가능하게 할 수 있을 것으로 기대 된다.&lt;/p&gt;
&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/mwaa/latest/userguide/connections-secrets-manager.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Configuring an Apache Airflow connection using a Secrets Manager secret&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow-providers-amazon/stable/secrets-backends/aws-secrets-manager.html#aws-secrets-manager-backend&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS Secrets Manager Backend&lt;/a&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>진화된 마케팅, 그로스해킹 후기</title>
        <link>https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/</link>
        <pubDate>Fri, 04 Nov 2022 07:02:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/Untitled.png" alt="Featured image of post 진화된 마케팅, 그로스해킹 후기" /&gt;&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/Untitled.png&#34;
	width=&#34;844&#34;
	height=&#34;1200&#34;
	srcset=&#34;https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/Untitled_hu2de9d0fd70d2718c6f985d582005644f_661356_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/%EC%A7%84%ED%99%94%EB%90%9C-%EB%A7%88%EC%BC%80%ED%8C%85-%EA%B7%B8%EB%A1%9C%EC%8A%A4%ED%95%B4%ED%82%B9-%ED%9B%84%EA%B8%B0/Untitled_hu2de9d0fd70d2718c6f985d582005644f_661356_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;출처: yes24.com&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;70&#34;
		data-flex-basis=&#34;168px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;총평: 그로스 해킹을 적용하고 있는 사람들에게 내비게이션이 될 수 있는 책&lt;/p&gt;
&lt;p&gt;사내에서 그로스 해킹을 접목한 지 1년이 되어간다. 유의미한 결과도 있었지만 무의미한 결과도 있었다. 우리는 작은 회사니 우리 인원으로 한 달에 한 번 실험이면 충분하다는 생각을 가지고, 이 정도면 잘하고 있다고 생각하며 어느 정도 안일하게 지내온 것 같다.&lt;/p&gt;
&lt;p&gt;그러나 이 책을 읽으며 반성을 많이 했다. 책에서는 우선순위와 함께 다양한 상황에 맞는 가이드를 제공한다. 수도 없이 ‘어, 이거 우리 서비스에서도 적용할 수 있는 이야기인데, 왜 못했지?’라는 생각을 했던 것 같다. 어쩌면 잘못 나아가고 있는 방향에 대해 짚어주고, ‘경로가 잘못되었으니 돌아가라’라는 조언을 방법과 함께 들은 것 같다.&lt;/p&gt;
&lt;p&gt;이 책을 입사 당시 한 번, 지금, 총 두 번 읽었다. 부끄럽지만 처음 읽었을 때는 조금 지루한 책이라고 생각했다. 뭔가 당연한 얘기를 늘어뜨려 하는 것 같았다. 그래서 다른 그로스 해킹 책이 낫다고 생각했었다.&lt;/p&gt;
&lt;p&gt;그러나 서비스에 좀 더 몰두하고 그로스 해킹에 대해 고민을 많이 하고 나니, 이 책에는 정말 많은 서비스의 성장에 대한 고민과 해결 과정의 노하우가 담겨 있다고 생각했다. 내년에 한 번 더 읽으면 또 어떤 충격을 가져올지 기대가 되었다. 책에는 적용할 수 있는 사례가 너무 많아 한 번 읽은 것으로는 모든 것을 개선할 수 없다고 느꼈다. 내비게이션이 알려주는 처음 가는 먼 길을 내비게이션 없이 다음에 또 올 수 있을까? 정말 성공적인 그로스 해킹을 위해서라면 이 책이 주는 조언을 체화해야겠다고 생각한다.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 클라우드 여정 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%97%AC%EC%A0%95-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sun, 23 Oct 2022 23:21:30 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%97%AC%EC%A0%95-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;aws-well-architected-프레임워크&#34;&gt;AWS Well-Architected 프레임워크&lt;/h2&gt;
&lt;h3 id=&#34;운영-우수성&#34;&gt;운영 우수성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;시스템을 실행 및 모니터링하여 비즈니스 가치를 제공, 지속적으로 지원 프로세스 및 절차를 개선하는 능력&lt;/li&gt;
&lt;li&gt;코드로 작업 수행, 문서에 주석 추가, 실패 예측, 되돌릴 수 있는 소규모 변경을 자주 수행이 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;보안성&#34;&gt;보안성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;위험 평가 및 완화 전략을 통해 비즈니스 가치를 제공하는 동시에 정보, 시스템, 자산을 보호하는 능력&lt;/li&gt;
&lt;li&gt;가능한 보안 모범 사례 자동화, 모든 계층에 보안 적용, 전송 중/저장 시 데이터 보호가 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;안정성&#34;&gt;안정성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;인프라 또는 서비스 중단으로부타 복수, 컴퓨터 리소스 동적 확보로 수요 충족, 잘못된 구성 또는 일시적 네트워크 문제와 같은 중단 완화가 포함&lt;/li&gt;
&lt;li&gt;복구 절차 테스트, 전체 시스템 가용성을 높이기 위한 수평 확장, 장애 발생 시 자동 복구가 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;성능-효율성&#34;&gt;성능 효율성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;컴퓨팅 리소스의 효율적인 사용으로 시스템 요구 사항을 충족하고, 수요 변화와 기술 진화에 따라 효율성을 유지하는 능력&lt;/li&gt;
&lt;li&gt;실험 빈도 증가, 서버리스 아키텍처 사용, 몇 분 만에 전세계 배포가 가능한 시스템 설계 등이 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;비용-최적화&#34;&gt;비용 최적화&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;가장 낮은 가격으로 비즈니스 가치를 제공하도록 시스템을 실행하는 능력&lt;/li&gt;
&lt;li&gt;소비 모델 채택, 비용 분석 및 귀속, 관리형 서비스를 사용해 소유 비용 절감이 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-클라우드의-이점&#34;&gt;AWS 클라우드의 이점&lt;/h2&gt;
&lt;h3 id=&#34;선행-비용을-가변-비용으로-대체&#34;&gt;선행 비용을 가변 비용으로 대체&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;컴퓨팅 리소스를 사용할 때만 비용 지불&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;거대한-규모의-경제로-얻는-이점&#34;&gt;거대한 규모의 경제로 얻는 이점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;인프라를 소유할 때보다 가변 비용 낮아짐&lt;/li&gt;
&lt;li&gt;수많은 고객의 사용량이 클라우드에 누적되므로 AWS와 같은 공급자는 더 높은 규모의 경제 달성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;용량-추정-불필요&#34;&gt;용량 추정 불필요&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;필요한 용량에만 액세스하고 수요에 따라 확장 또는 축소&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;속도-및-민첩성-개선&#34;&gt;속도 및 민첩성 개선&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;클라우드 컴퓨팅의 유연성 덕에 애플리케이션을 더 쉽게 개발하고 배포할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;데이터-센터-운영-및-유지-관리에-비용-투자-불필요&#34;&gt;데이터 센터 운영 및 유지 관리에 비용 투자 불필요&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;인프라 및 서버 관리에 신경을 덜 쓰고 애플리케이션과 고객에 더 집중할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;몇-분-만에-전-세계에-배포&#34;&gt;몇 분 만에 전 세계에 배포&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;전 세계 고객에게 짧은 지연 시간을 제공하면서 애플리케이션을 신속히 배포&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 마이그레이션 및 혁신 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%EB%B0%8F-%ED%98%81%EC%8B%A0-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sun, 23 Oct 2022 20:21:30 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%EB%B0%8F-%ED%98%81%EC%8B%A0-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;aws-cloud-adoption-frameworkaws-caf&#34;&gt;AWS Cloud Adoption Framework(AWS CAF)&lt;/h2&gt;
&lt;h3 id=&#34;6가지-주요-관점&#34;&gt;6가지 주요 관점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;비즈니스 관점: IT가 비즈니스 요구 사항을 반영하고 IT 투자가 주요 비즈니스 결과와 연계되도록 보장&lt;/li&gt;
&lt;li&gt;인력 관점: 클라우드 채택을 성공하기 위한 조직 전반의 변화 관리 전략 개발 지원&lt;/li&gt;
&lt;li&gt;거버넌스 관점: IT 전략이 비즈니스 전략에 부합하도록 조정하는 기술 및 프로세스에 중점
&lt;ul&gt;
&lt;li&gt;비즈니스 가치를 극대화하고 위험 최소화&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;플랫폼 관점: 클라우드 기반으로 새로운 솔루션 구축, 온프레미스 워크로드를 클라우드로 마이그레이션하기 위한 원칙과 패턴 포함&lt;/li&gt;
&lt;li&gt;보안 관점: 조직이 가시성, 감사 가능성, 제어 및 민첩성에 대한 보안 목표를 충족하도록 보장&lt;/li&gt;
&lt;li&gt;운영 관점: 비즈니스 이해당사자와 합의된 수준까지 IT 워크로드를 구현, 실행, 사용, 운영 및 복구하는 데 도움&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;마이그레이션-전략&#34;&gt;마이그레이션 전략&lt;/h2&gt;
&lt;h3 id=&#34;6가지-마이그레이션-전략&#34;&gt;6가지 마이그레이션 전략&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;리호스팅(Rehosting): 애플리케이션을 변경 없이 이전&lt;/li&gt;
&lt;li&gt;리플랫포밍(Replatforming): 몇 가지 클라우드 최적화 수행.
&lt;ul&gt;
&lt;li&gt;최적화는 애플리케이션의 핵심 아키텍처를 변경하지 않고 달성&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;리팩터링(Refactoring)/아키텍처 재설계(Re-architecting): 클라우드 네이티브 기능을 사용해 애플리케이션을 설계하고 개발하는 방식을 재구성
&lt;ul&gt;
&lt;li&gt;다른 방법으로는 기존 환경의 애플리케이션에서 실현하기 까다로운 기능 추가, 확장 또는 성능 개선의 필요성이 클 때 활용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;재구매(Repurchasing): 기존 라이선스를 SaaS 모델로 전환&lt;/li&gt;
&lt;li&gt;유지(Retaining): 비즈니스에 중요한 애플리케이션을 소스 환경에 유지
&lt;ul&gt;
&lt;li&gt;마이그레이션하려면 대규모 리팩토링이 필요한 애플리케이션 또는 이후로 연기할 수 있는 워크로드&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;폐기(Retiring): 더 이상 필요하지 않은 애플리케이션을 제거&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-snow-패밀리&#34;&gt;AWS Snow 패밀리&lt;/h2&gt;
&lt;p&gt;AWS와 고객 간 최대 엑사바이트 규모의 데이터를 물리적으로 이동할 수 있는 물리적 디바이스 모음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;각 디바이스는 각각 다른 용량 포인트를 제공, 대부분 내장 컴퓨팅 기능 포함&lt;/li&gt;
&lt;li&gt;AWS는 Snow 패밀리 디바이스를 소유 및 관리하고 보안, 모니터링, 스토리지 관리 및 컴퓨팅 기능과 통합&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-snowcone&#34;&gt;AWS Snowcone&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;작고 견고하며 안전한 엣지 컴퓨팅 및 데이터 전송 디바이스&lt;/li&gt;
&lt;li&gt;CPU 2개, 4GB 메모리 및 8TB 가용 스토리지&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-snowball&#34;&gt;AWS Snowball&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Snowball Edge Storage Optimized: 대규모 데이터 마이그레이션 및 반복 전송 워크플로뿐 아니라 큰 용량이 필요한 로컬 컴퓨팅에 적합
&lt;ul&gt;
&lt;li&gt;스토리지: 블록 볼륨 및 S3 호환을 위한 80TB HDD, 블록 볼륨을 위한 1TB의 SSD&lt;/li&gt;
&lt;li&gt;컴퓨팅: EC2 sbe1 인스턴스(C5와 동등)를 지원하기 위한 40개의 vCPU와 80GiB의 메모리&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Snowball Edge Compute Optimized: 기계 학습, 풀 모션 비디오 분석, 분석 및 로컬 컴퓨팅 스택과 같은 사용 사례에 적합
&lt;ul&gt;
&lt;li&gt;스토리지: 블록 볼륨 및 S3 호환을 위한 42TB HDD, EBS 호환 블록 볼륨을 위한 7.68TB의 가용 SSD&lt;/li&gt;
&lt;li&gt;컴퓨팅: 52개의 vCPU, 208GiB 메모리 및 NVIDIA Tesla V100 GPU 옵션, 디바이스는 C5, M5a, G3 및 P3 인스턴스와 동등한 EC2 sbe-c 및 sbe-g 인스턴스 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-snowmobile&#34;&gt;AWS Snowmobile&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;대용량 데이터를 AWS에 이동하는 데 사용하는 엑사바이트 규모의 데이터 전송 서비스&lt;/li&gt;
&lt;li&gt;세미 트레일러 트럭으로 견인되며, 1대당 최대 100페타바이트의 데이터 전송 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws를-통한-혁신&#34;&gt;AWS를 통한 혁신&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;현재 상태, 원하는 상태, 해결하려는 문제를 명확히 설명할 수 있다면 클라우드에서 혁신을 추진할 수 있음&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 요금 및 지원 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%9A%94%EA%B8%88-%EB%B0%8F-%EC%A7%80%EC%9B%90-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sun, 23 Oct 2022 17:27:30 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%9A%94%EA%B8%88-%EB%B0%8F-%EC%A7%80%EC%9B%90-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;aws-프리-티어&#34;&gt;AWS 프리 티어&lt;/h2&gt;
&lt;p&gt;지정된 기간 동안 비용을 신경 쓸 필요 없이 특정 서비스 사용 가능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;제공되는 상품은 다음과 같은 세 가지 유형이 존재
&lt;ul&gt;
&lt;li&gt;상시 무료: 만료되지 않으며 모든 AWS고객에게 제공&lt;/li&gt;
&lt;li&gt;12개월 무료: 처음 AWS에 가입한 날로부터 12개월간 무료 제공&lt;/li&gt;
&lt;li&gt;평가판: 특정 서비스를 활성화한 날짜부터 시작&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-요금-개념&#34;&gt;AWS 요금 개념&lt;/h2&gt;
&lt;h3 id=&#34;aws-요금-적용-방식&#34;&gt;AWS 요금 적용 방식&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;실제 사용한 만큼만 지불&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;장기 계약 또는 복잡한 라이선스 없이 각 서비스에서 실제로 사용한 리소스의 양에 대해 정확히 지불&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;예약하는 경우 비용 감소&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;온디맨드 인스턴스 요금에 비해 상당한 할인을 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;많이 사용할수록 볼륨 기반 할인으로 비용 감소&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;일부 서비스는 계층화된 요금을 제공&lt;/li&gt;
&lt;li&gt;사용량이 증가함에 따라 점차 단위 비용 감소&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-요금-계산기&#34;&gt;AWS 요금 계산기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://calculator.aws/#/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS 요금 계산기&lt;/a&gt;를 사용하면 AWS 서비스를 탐색하고 AWS 기반 사용 사례에 대한 비용 추정 가능&lt;/li&gt;
&lt;li&gt;AWS 비용 추정을 정의된 그룹별 구성 가능&lt;/li&gt;
&lt;li&gt;생성된 비용 추정을 저장하고 링크를 생성해 다른 사용자와 공유 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;결제-대시보드&#34;&gt;결제 대시보드&lt;/h2&gt;
&lt;p&gt;AWS 청구서를 결제하고, 사용량을 모니터링하고, 비용을 분석 및 제어할 수 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이번 달 누계 금액을 지난 달과 비교, 현재 사용량을 기준으로 내달 사용량 예측&lt;/li&gt;
&lt;li&gt;서비스별 월 누계 지출 확인&lt;/li&gt;
&lt;li&gt;서비스별 프리 티어 사용량 확인&lt;/li&gt;
&lt;li&gt;Cost Explorer에 액세스해 예산 생성&lt;/li&gt;
&lt;li&gt;Savings Plans 구매 및 관리&lt;/li&gt;
&lt;li&gt;AWS 비용 및 사용 보고서 게시&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;통합-결제&#34;&gt;통합 결제&lt;/h2&gt;
&lt;p&gt;조직의 모든 AWS 계정에 대한 단일 청구서 발행 가능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조직에 허용되는 최대 계정 수는 기본적으로 4개지만, 할당량 늘릴 수 있음&lt;/li&gt;
&lt;li&gt;조직의 계정 전체에서 대량 할인 요금, Savings Plans 및 예약 인스턴스 공유 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-예산&#34;&gt;AWS 예산&lt;/h2&gt;
&lt;p&gt;서비스 사용, 서비스 비용 및 인스턴스 예약을 계획할 수 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;정보가 하루에 세 번 업데이트됨&lt;/li&gt;
&lt;li&gt;사용량이 예산 금액을 초과하거나 초과할 것으로 예상되면 알려주는 사용자 지정 알림 설정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-cost-explorer&#34;&gt;AWS Cost Explorer&lt;/h2&gt;
&lt;p&gt;시간 경과에 따라 AWS 비용 및 사용량을 시각화, 이해, 관리할 수 있는 도구&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;발생 비용 기준 상위 5개 AWS 서비스의 비용 및 사용량에 대한 기본 보고서 포함&lt;/li&gt;
&lt;li&gt;사용자 지정 필터 및 그룹을 적용해 데이터 분석 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-support-플랜&#34;&gt;AWS Support 플랜&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Basic Support
&lt;ol&gt;
&lt;li&gt;모든 고객에게 무료 제공&lt;/li&gt;
&lt;li&gt;백서, 설명서 및 지원 커뮤니티에 대한 액세스 포함&lt;/li&gt;
&lt;li&gt;AWS에 결제 관련 질문 및 서비스 한도 증가에 대해 문의 가능&lt;/li&gt;
&lt;li&gt;제한된 AWS Trusted Advisor 검사에 액세스 가능&lt;/li&gt;
&lt;li&gt;사용자에게 영향을 줄 수 있는 이벤트가 발생할 때 알림 및 수정 지침을 제공하는 도구인 AWS Personal Health Dashboard 사용 가능&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Developer Support
&lt;ol&gt;
&lt;li&gt;모범 사례 지침 액세스&lt;/li&gt;
&lt;li&gt;클라이언트 측 진단 도구 액세스&lt;/li&gt;
&lt;li&gt;AWS 제품, 기능 및 서비스를 함께 사용하는 방법에 대한 지침으로 구성된 빌딩 블록 아키텍처 지원&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Business Support
&lt;ol&gt;
&lt;li&gt;특정 요구 사항을 가장 잘 지원해줄 수 있는 AWS 제품, 기능 및 서비스를 식별하기 위한 사용 사례 지침 액세스&lt;/li&gt;
&lt;li&gt;모든 AWS Trusted Advisor 검사&lt;/li&gt;
&lt;li&gt;일반적인 운영 체제 및 애플리케이션 스택 구성 요소와 같은 타사 소프트웨어에 대한 제한된 지원&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Enterprise Support
&lt;ol&gt;
&lt;li&gt;회사의 특정 사용 사례 및 애플리케이션을 지원하기 위한 컨설팅 관계인 애플리케이션 아키텍처 지침&lt;/li&gt;
&lt;li&gt;인프라 이벤트 관리 지원&lt;/li&gt;
&lt;li&gt;기술 계정 관리자 지원&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;기술-지원-관리자-tam&#34;&gt;기술 지원 관리자 (TAM)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;애플리케이션을 계획, 배포, 최적화할 때 TAM이 지속적으로 권장 사항, 아키텍처 검토를 제공&lt;/li&gt;
&lt;li&gt;모든 AWS 서비스에 대한 전문 지식 제공&lt;/li&gt;
&lt;li&gt;여러 서비스를 함께 효율적으로 사용하는 솔루션을 설계하는 과정 지원&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-marketplace&#34;&gt;AWS Marketplace&lt;/h2&gt;
&lt;p&gt;Independent Software Vendor(ISV)의 소프트웨어가 포함된 디지털 카탈로그&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS에서 실행되는 소프트웨어를 검색하고 평가, 구매할 수 있음&lt;/li&gt;
&lt;li&gt;산업 및 사용 사례별로 소프트웨어 솔루션 탐색 가능&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 모니터링 및 분석 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EB%B0%8F-%EB%B6%84%EC%84%9D-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sun, 23 Oct 2022 16:05:30 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EB%B0%8F-%EB%B6%84%EC%84%9D-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;amazon-cloudwatch&#34;&gt;Amazon CloudWatch&lt;/h2&gt;
&lt;p&gt;다양한 지표를 모니터링 및 관리하고 해당 지표의 데이터를 기반으로 경보 작업을 구성할 수 있는 웹 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;지표를 사용해 리소스의 데이터 포인트를 나타냄&lt;/li&gt;
&lt;li&gt;AWS 서비스는 지표를 CloudWatch로 전송&lt;/li&gt;
&lt;li&gt;CloudWatch가 이 지표를 사용해 시간 경과에 따라 어떻게 성능이 변화했는지 보여주는 그래프를 자동 생성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cloudwatch-경보&#34;&gt;CloudWatch 경보&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;지표의 값이 미리 정의된 임계값을 상회 또는 하회할 경우 자동으로 작업을 수행&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cloudwatch-대시보드&#34;&gt;CloudWatch 대시보드&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;단일 위치에서 리소스에 대한 모든 지표에 액세스 가능&lt;/li&gt;
&lt;li&gt;다양한 비즈니스 용도, 애플리케이션 또는 리소스에 따라 별도의 대시보드를 사용자 지정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-cloudtrail&#34;&gt;AWS CloudTrail&lt;/h2&gt;
&lt;p&gt;계정에 대한 API 호출을 기록&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;기록되는 정보에는 API 호출자 ID, API 호출 시간, API 호출자의 소스 IP 주소 등이 포함&lt;/li&gt;
&lt;li&gt;누군가 남긴 이동 경로(작업 로그)의 ‘추적’으로 생각하면 됨&lt;/li&gt;
&lt;li&gt;애플리케이션 및 리소스에 대한 사용자 활동 및 API 호출의 전체 내역 열람 가능&lt;/li&gt;
&lt;li&gt;일반적으로 API 호출 후 15분 이내에 업데이트 됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cloudtrail-insights&#34;&gt;CloudTrail Insights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AWS 계정에서 비정상적인 API 활동을 자동으로 감지할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-trusted-advisor&#34;&gt;AWS Trusted Advisor&lt;/h2&gt;
&lt;p&gt;AWS 환경을 검사하고 AWS 모범 사례에 따라 실시간 권장 사항을 제시하는 웹 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;비용 최적화, 성능, 보안, 내결함성, 서비스 한도라는 5개 범주에서 결과를 모범 사례와 비교&lt;/li&gt;
&lt;li&gt;각 범주의 검사에 대해 권장 작업 목록 제공, AWS 모범 사례를 알아볼 수 있는 추가 자료 제공&lt;/li&gt;
&lt;li&gt;AWS Trusted Advisor가 제공하는 권장 사항은 배포의 모든 단계에서도 유용&lt;/li&gt;
&lt;li&gt;기존 애플리케이션 및 리소스를 지속적으로 개선하는데 활용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-trusted-advisor-대시보드&#34;&gt;AWS Trusted Advisor 대시보드&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;위에서 언급한 5개 범주에서 완료된 검사 검토 가능&lt;/li&gt;
&lt;li&gt;녹색 체크 표시: 문제가 감지되지 않은 항목 수&lt;/li&gt;
&lt;li&gt;주황색 삼각형: 권장 조사 항목 수&lt;/li&gt;
&lt;li&gt;빨간색 원: 권장 조치 수&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 보안 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%B3%B4%EC%95%88-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sun, 23 Oct 2022 14:55:30 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%B3%B4%EC%95%88-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;공동-책임-모델&#34;&gt;공동 책임 모델&lt;/h2&gt;
&lt;p&gt;리소를 안전하게 유지할 책임은 AWS와 고객 둘 다 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS 환경을 단일 객체로 취급하지 않기 때문&lt;/li&gt;
&lt;li&gt;공동 책임 모델은 고객 책임(일반적으로 ‘클라우드 내부의 보안’)과 AWS 책임(일반적으로 ‘클라우드 자체의 보안’)으로 분류됨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%B3%B4%EC%95%88-%EC%A0%95%EB%A6%AC/Untitled.png&#34;
	width=&#34;856&#34;
	height=&#34;317&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%B3%B4%EC%95%88-%EC%A0%95%EB%A6%AC/Untitled_hu9e49296d6ea090f7a9655be17b01c10d_93084_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%B3%B4%EC%95%88-%EC%A0%95%EB%A6%AC/Untitled_hu9e49296d6ea090f7a9655be17b01c10d_93084_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;공동 책임 모델&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;270&#34;
		data-flex-basis=&#34;648px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;고객: 클라우드 내부의 보안
&lt;ul&gt;
&lt;li&gt;클라우드 내에서 생성하고 배치하는 모든 것의 보안 책임&lt;/li&gt;
&lt;li&gt;저장하는 콘텐츠, 사용하는 AWS 서비스, 액세스 사용자 및 콘텐츠 보안 요구 사항 같은 영역 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AWS: 클라우드 자체의 보안
&lt;ul&gt;
&lt;li&gt;인프라의 모든 계층에서 구성 요소를 운영, 관리 및 제어&lt;/li&gt;
&lt;li&gt;호스트 운영 체제, 가상화 계층, 데이터 센터의 물리적 보안 같은 영역 포함&lt;/li&gt;
&lt;li&gt;리소스를 호스팅하는 물리적 인프라 관리&lt;/li&gt;
&lt;li&gt;고객이 AWS 데이터 센터를 방문해 확인할 수는 없지만 외부 감사 기관이 작성한 여러 보고서를 확인할 수는 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;사용자-권한-및-액세스&#34;&gt;사용자 권한 및 액세스&lt;/h2&gt;
&lt;h3 id=&#34;identity-and-access-managementiam&#34;&gt;Identity and Access Management(IAM)&lt;/h3&gt;
&lt;p&gt;AWS 서비스와 리소스에 대한 액세스를 안전하게 관리&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;회사의 고유한 운영 및 보안 요구 사항에 따라 액세스 권한을 구성할 수 있는 유연성 제공&lt;/li&gt;
&lt;li&gt;다음과 같은 IAM 기능을 조합하여 사용
&lt;ul&gt;
&lt;li&gt;IAM 사용자, 그룹 및 역할&lt;/li&gt;
&lt;li&gt;IAM 정책&lt;/li&gt;
&lt;li&gt;Multi-Factor Authentication&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;aws-계정-루트-사용자&#34;&gt;AWS 계정 루트 사용자&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;AWS 계정을 처음 만들면 루트 사용자라는 자격 증명으로 시작&lt;/li&gt;
&lt;li&gt;모든 AWS 서비스 및 리소스에 대한 전체 액세스 권한 가짐&lt;/li&gt;
&lt;li&gt;일상 작업에서는 루트 사용자를 사용하지 말 것
&lt;ul&gt;
&lt;li&gt;루트 사용자로 첫 번째 IAM 사용자 생성 후, 이 사용자에게 다른 사용자를 생성할 수 있는 권한 할당&lt;/li&gt;
&lt;li&gt;루트 사용자만 사용할 수 있는 제한된 종류의 작업(루트 사용자 이메일 변경, AWS Support Plan 변경)에만 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;iam-사용자&#34;&gt;IAM 사용자&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;사용자가 AWS에서 생성하는 자격 증명&lt;/li&gt;
&lt;li&gt;AWS 서비스 및 리소스와 상호 작용하는 사람 또는 애플리케이션&lt;/li&gt;
&lt;li&gt;IAM 사용자가 특정 작업을 수행할 수 있도록 허용하려면 IAM 사용자에게 필요한 권한을 부여&lt;/li&gt;
&lt;li&gt;AWS에 액세스하는 사용자별로 개별 IAM 사용자를 생성하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;iam-정책&#34;&gt;IAM 정책&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;AWS 서비스 및 리소스에 대한 권한을 허용하거나 거부하는 문서&lt;/li&gt;
&lt;li&gt;사용자가 리소스에 액세스할 수 있는 수준을 지정 가능&lt;/li&gt;
&lt;li&gt;권한 부여 시 &lt;strong&gt;최소 권한&lt;/strong&gt; 보안 ********************************원칙을 따를 것&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;iam-그룹&#34;&gt;IAM 그룹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;IAM 사용자 모음&lt;/li&gt;
&lt;li&gt;그룹에 IAM 정책을 할당하면 해당 그룹의 모든 사용자에게 정책에 지정된 권한이 부여됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;iam-역할&#34;&gt;IAM 역할&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;임시로 권한에 액세스하기 위해 수임할 수 있는 자격 증명&lt;/li&gt;
&lt;li&gt;서비스 또는 리소스에 대해 액세스 권한을 장기적이 아닌 일시적으로 부여하는 상황에 이상적&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;multi-factor-authentication&#34;&gt;Multi-Factor Authentication&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;AWS 계정에 추가 보안 계층 제공&lt;/li&gt;
&lt;li&gt;루트 사용자 및 계정 내 모든 IAM 사용자에 대해 MFA를 활성화하는 것이 가장 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-organizations&#34;&gt;AWS Organizations&lt;/h2&gt;
&lt;p&gt;중앙 위치에서 여러 AWS 계정을 통합하고 관리할 수 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조직 생성 시 AWS Organizations가 조직 모든 계정에 대한 상위 컨테이너 루트 자동 생성&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/ko_kr/organizations/latest/userguide/orgs_manage_policies_scps.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;서비스 제어 정책(SCP)&lt;/a&gt;을 사용해 조직의 계정에 대한 권한을 중앙에서 제어 가능
&lt;ul&gt;
&lt;li&gt;개별 멤버 계정 및 조직 단위(OU)에 적용&lt;/li&gt;
&lt;li&gt;각 계정의 사용자 및 역할이 액세스할 수 있는 AWS 서비스, 리소스 및 개별 API 작업 제한 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;조직-단위&#34;&gt;조직 단위&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AWS Organizations에서는 계정을 조직 단위(OU)로 그룹화해 비슷한 비즈니스 또는 보안 요구 사항이 있는 계정을 손쉽게 관리할 수 있음&lt;/li&gt;
&lt;li&gt;OU에 정책을 적용하면 OU에 모든 계정이 정책에 지정된 권한을 자동으로 상속&lt;/li&gt;
&lt;li&gt;개별 계정을 OU로 구성하면 특정 보안 요구 사항이 있는 워크로드 또는 애플리케이션을 보다 간편하게 격리 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;규정-준수&#34;&gt;규정 준수&lt;/h2&gt;
&lt;h3 id=&#34;aws-artifact&#34;&gt;AWS Artifact&lt;/h3&gt;
&lt;p&gt;AWS 보안 및 규정 준수 보고서 및 일부 온라인 계약에 대한 온디맨드 액세스를 제공하는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS Artifact Agreements와 AWS Artifact Reports 두 가지 기본 섹션으로 구성&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;aws-artifact-agreements&#34;&gt;AWS Artifact Agreements&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;회사에서 AWS 서비스 전체에서 특정 유형의 정보를 사용하기 위해 AWS와 계약 체결 할 경우&lt;/li&gt;
&lt;li&gt;개별 계정 및 AWS Organizations 내 모든 계정에 대한 계약을 검토, 수락 및 관리 가능&lt;/li&gt;
&lt;li&gt;특정 규정의 적용을 받는 고객의 니즈를 해결하기 위한 다양한 유형의 계약 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;aws-artifact-reports&#34;&gt;AWS Artifact Reports&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;회사의 팀원 중 한 명이 특정 규제 표준을 준수하기 위한 책임에 대한 추가 정보가 필요할 경우&lt;/li&gt;
&lt;li&gt;외부 감사 기관이 작성한 규정 준수 보고서 제공&lt;/li&gt;
&lt;li&gt;감사 또는 규제 기관에 AWS 보안 제어 항목의 증거로서 AWS 감사 아티팩트를 제공하면 됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;고객-규정-준수-센터&#34;&gt;고객 규정 준수 센터&lt;/h3&gt;
&lt;p&gt;AWS 규정 준수에 대해 자세히 알아볼 수 있는 리소스가 포함&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;고객 규정 준수 사례를 읽고 규제 대상 업종의 기업들이 다양한 규정 준수, 거버넌스 및 감사 과제를 어떻게 해결했는지 확인 가능&lt;/li&gt;
&lt;li&gt;다음과 같은 주제에 액세스 가능
&lt;ul&gt;
&lt;li&gt;주요 규정 준수 질문에 대한 AWS 답변&lt;/li&gt;
&lt;li&gt;AWS 위험 및 규정 준수 개요&lt;/li&gt;
&lt;li&gt;보안 감사 체크리스트&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;감사자 학습 경로 포함
&lt;ul&gt;
&lt;li&gt;내부 운영에서 AWS 클라우드를 사용한 규정 준수를 입증할 수 있는 방법을 자세히 알아보려는 감사, 규정 준수 및 법무 담당자를 위해 고안&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;서비스-거부-공격&#34;&gt;서비스 거부 공격&lt;/h2&gt;
&lt;h3 id=&#34;서비스-거부-공격dos&#34;&gt;서비스 거부 공격(DoS)&lt;/h3&gt;
&lt;p&gt;사용자들이 웹 사이트 또는 애플리케이션을 이용할 수 없게 만드려는 의도적인 시도&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;공격이 단일 소스로부터 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;분산-서비스-거부ddos-공격&#34;&gt;분산 서비스 거부(DDoS) 공격&lt;/h3&gt;
&lt;p&gt;여러 소스를 사용해 웹 사이트 또는 애플리케이션을 사용할 수 없게 만드는 공격&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;감염된 여러 컴퓨터(봇)를 사용해 과도한 트래픽을 웹 사이트 또는 애플리케이션으로 전송할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-shield&#34;&gt;AWS Shield&lt;/h3&gt;
&lt;p&gt;DDoS 공격으로부터 애플리케이션을 보호하는 서비스&lt;/p&gt;
&lt;h4 id=&#34;aws-shield-standard&#34;&gt;AWS Shield Standard&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;모든 AWS 고객을 자동으로 보호하는 무료 서비스&lt;/li&gt;
&lt;li&gt;가장 자주 발생하는 일반적인 DDoS 공격으로부터 보호&lt;/li&gt;
&lt;li&gt;네트워크 트래픽이 애플리케이션으로 들어오면 다양한 분석 기법을 사용해 실시간으로 악성 트래픽을 탐지하고 자동으로 완화&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;aws-shield-advanced&#34;&gt;AWS Shield Advanced&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;상세한 공격 진단 및 정교한 DDoS 공격을 탐지하고 완화할 수 있는 기능을 제공하는 유료 서비스&lt;/li&gt;
&lt;li&gt;CloudFront, Route 53, ELB과 같은 다른 서비스와도 통합 가능&lt;/li&gt;
&lt;li&gt;복잡한 DDoS 공격을 완화하기 위한 사용자 지정 규칙을 작성해 AWS Shield를 AWS WAF와 통합 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;추가-보안-서비스&#34;&gt;추가 보안 서비스&lt;/h2&gt;
&lt;h3 id=&#34;aws-key-management-servicekms&#34;&gt;AWS Key Management Service(KMS)&lt;/h3&gt;
&lt;p&gt;암호화 키를 사용해 암호화 작업 수행&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;암호화 키는 데이터 잠금(암호화) 및 잠금 해제(암호 해독)에 사용되는 임의의 숫자 문자열&lt;/li&gt;
&lt;li&gt;암호화 키를 생성, 관리 및 사용 가능&lt;/li&gt;
&lt;li&gt;광범위한 서비스 및 애플리케이션에서 키 사용 제어 가능&lt;/li&gt;
&lt;li&gt;키에 필요한 액세스 제어를 특정 수준으로 선택 가능
&lt;ul&gt;
&lt;li&gt;키를 관리하는 IAM 사용자 및 역할 지정 가능&lt;/li&gt;
&lt;li&gt;더 이상 사용되지 않도록 비활성화 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-waf&#34;&gt;AWS WAF&lt;/h3&gt;
&lt;p&gt;웹 애플리케이션으로 들어오는 네트워크 요청을 모니터링할 수 있는 웹 애플리케이션 방화벽&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CloudFront 및 ALB와 함께 작동&lt;/li&gt;
&lt;li&gt;NACL과 유사한 방식으로 트래픽을 차단 및 허용하나, AWS 리소스를 보호하기 위해 웹 ACL을 사용
&lt;ul&gt;
&lt;li&gt;요청이 차단된 IP 주소 중 하나에서 나온 것이 아니면 애플리케이션에 대한 액세스 허용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;amazon-inspector&#34;&gt;Amazon Inspector&lt;/h3&gt;
&lt;p&gt;자동화된 보안 평가를 실행해 애플리케이션의 보안 및 규정 준수를 개선할 수 있는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EC2 인스턴스에 대한 오픈 액세스, 취약한 소프트웨어 버전 설치와 같은 보안 모범 사례 위반 및 보안 취약성을 애플리케이션에서 검사&lt;/li&gt;
&lt;li&gt;심각도 수준에 따라 우선 순위 결정, 각 문제에 대한 자세한 설명 및 권장 해결 방법 포함
&lt;ul&gt;
&lt;li&gt;그러나 제공된 권장 사항으로 모든 잠재적 문제가 해결됨을 AWS는 보장하지 않음&lt;/li&gt;
&lt;li&gt;공동 책임 모델에 따라 고객은 AWS에서 실행되는 애플리케이션, 프로세스 및 도구의 보안에 대한 책임이 있기 때문&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;amazon-guardduty&#34;&gt;Amazon GuardDuty&lt;/h3&gt;
&lt;p&gt;AWS 인프라 및 리소스에 대한 지능형 위협 탐지 기능을 제공하는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS 환경 내의 네트워크 활동 및 계정 동작을 지속적으로 모니터링하여 위협 식별&lt;/li&gt;
&lt;li&gt;추가 보안 소프트웨어를 배포하거나 관리할 필요 없음&lt;/li&gt;
&lt;li&gt;VPC Flow Logs 및 DNS 로그를 비롯한 여러 AWS 소스의 데이터를 지속적으로 분석&lt;/li&gt;
&lt;li&gt;위협을 탐지한 경우 AWS Management Console에서 위협에 대한 자세한 탐지 결과 검토 가능
&lt;ul&gt;
&lt;li&gt;문제 해결을 위한 권장 단계 포함&lt;/li&gt;
&lt;li&gt;탐지 결과에 대한 응답으로 자동으로 문제 해결 단계를 수행하도록 Lambda 함수 구성도 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 스토리지 및 데이터베이스 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sat, 22 Oct 2022 22:53:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;인스턴스-스토어-및-elastic-block-storeebs&#34;&gt;인스턴스 스토어 및 Elastic Block Store(EBS)&lt;/h2&gt;
&lt;h3 id=&#34;인스턴스-스토어&#34;&gt;인스턴스 스토어&lt;/h3&gt;
&lt;p&gt;EC2 인스턴스에 임시 블록 수준 스토리지 제공&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;물리적으로 EC2 인스턴스의 호스트 컴퓨터와 연결&lt;/li&gt;
&lt;li&gt;인스턴스와 수명이 동일&lt;/li&gt;
&lt;li&gt;인스턴스가 종료되면 인스턴스 스토어의 데이터 손실
&lt;ul&gt;
&lt;li&gt;장기적으로 필요하지 않은 임시 데이터가 포함된 사용 사례에 적합&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;elastic-block-storeebs&#34;&gt;Elastic Block Store(EBS)&lt;/h3&gt;
&lt;p&gt;EC2 인스턴스에서 사용할 수 있는 블록 수준 스토리지 볼륨을 제공하는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EC2 인스턴스를 중지 또는 종료해도 연결된 EBS 볼륨의 모든 데이터 사용 가능&lt;/li&gt;
&lt;li&gt;EBS 볼륨을 생성하려면 구성을 정의하고 프로비저닝
&lt;ul&gt;
&lt;li&gt;EBS 볼륨 생성 후 볼륨을 EC2 인스턴스에 연결할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;EBS 스냅샷을 통해 EBS 볼륨을 증분 백업할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ebs-스냅샷&#34;&gt;EBS 스냅샷&lt;/h4&gt;
&lt;p&gt;증분 백업&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%95%EB%A6%AC/Untitled.png&#34;
	width=&#34;845&#34;
	height=&#34;363&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%95%EB%A6%AC/Untitled_hubb10b2717ffaa75cf8ce00484845afdb_60519_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-cloud-practitioner-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%A0%95%EB%A6%AC/Untitled_hubb10b2717ffaa75cf8ce00484845afdb_60519_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;EBS 스냅샷 예시&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;232&#34;
		data-flex-basis=&#34;558px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;처음 볼륨을 백업하면 모든 데이터가 복사&lt;/li&gt;
&lt;li&gt;이후의 백업은 가장 최근 스냅샷 이후의 변경된 데이터 블록만 저장&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;simple-storage-services3&#34;&gt;Simple Storage Service(S3)&lt;/h2&gt;
&lt;h3 id=&#34;객체-스토리지&#34;&gt;객체 스토리지&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;각 객체는 데이터, 메타데이터, 키로 구성
&lt;ul&gt;
&lt;li&gt;데이터: 이미지, 동영상 또는 기타 유형의 파일&lt;/li&gt;
&lt;li&gt;메타데이터: 데이터의 내용, 사용 방법, 객체 크기 등에 대한 정보&lt;/li&gt;
&lt;li&gt;키: 고유 식별자&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;블록 스토리지와 달리 파일 수정 시 전체 개체가 업데이트&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;simple-storage-services3-1&#34;&gt;Simple Storage Service(S3)&lt;/h3&gt;
&lt;p&gt;객체 수준 스토리지를 제공하는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;데이터를 버킷에 객체로 저장&lt;/li&gt;
&lt;li&gt;저장 공간 무제한&lt;/li&gt;
&lt;li&gt;저장할 수 있는 객체의 최대 파일 크기는 5TB&lt;/li&gt;
&lt;li&gt;파일 업로드 시 권한 설정하여 파일에 대한 표시 여부 및 액세스 제어 가능&lt;/li&gt;
&lt;li&gt;버전 관리 기능을 사용해 시간 경과에 따른 객체 변경 사항 추적 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;s3-스토리지-클래스&#34;&gt;S3 스토리지 클래스&lt;/h4&gt;
&lt;p&gt;비즈니스 및 비용 요구 사항에 맞춰 다양한 스토리지 클래스 중 선택 가능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;데이터 검색 빈도와 필요한 데이터 가용성을 고려&lt;/li&gt;
&lt;li&gt;클래스 종류
&lt;ol&gt;
&lt;li&gt;S3 Standard
&lt;ol&gt;
&lt;li&gt;자주 액세스하는 데이터&lt;/li&gt;
&lt;li&gt;최소 3개의 가용 영역에 데이터 저장&lt;/li&gt;
&lt;li&gt;다른 스토리지 클래스보다 비용 높음&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S3 Standard-Infrequent Access(S3 Standard-IA)
&lt;ol&gt;
&lt;li&gt;자주 액세스하지 않는 데이터&lt;/li&gt;
&lt;li&gt;최소 3개의 가용 영역에 데이터 저장&lt;/li&gt;
&lt;li&gt;S3 Standard에 비해 스토리지 가격 저렴, 검색 가격 높음&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S3 One Zone-Infrequent Access(S3 One Zone-IA)
&lt;ol&gt;
&lt;li&gt;단일 가용 영역에 데이터 저장&lt;/li&gt;
&lt;li&gt;S3 Standard-IA보다 낮은 스토리지 가격&lt;/li&gt;
&lt;li&gt;스토리지 비용 절감, 가용 영역 장애 발생 시 데이터를 손쉽게 재현할 수 있는 경우 적합&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S3 Intelligent-Tiering
&lt;ol&gt;
&lt;li&gt;액세스 패턴을 알 수 없거나 자주 변화하는 데이터에 적합&lt;/li&gt;
&lt;li&gt;객체당 소량의 월별 모니터링 및 자동화 요금 부과&lt;/li&gt;
&lt;li&gt;사용자가 30일 연속 객체에 액세스하지 않으면 자동으로 해당 객체를 S3 Standard-IA로 이동&lt;/li&gt;
&lt;li&gt;이 객체에 다시 액세스하면 자동으로 S3 Standard로 이동&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S3 Glacier
&lt;ol&gt;
&lt;li&gt;데이터 보관용으로 설계된 저비용 스토리지&lt;/li&gt;
&lt;li&gt;객체를 몇 분에서 몇 시간 이내에 검색&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;S3 Glacier Deep Archive
&lt;ol&gt;
&lt;li&gt;보관에 이상적인 가장 저렴한 객체 스토리지 클래스&lt;/li&gt;
&lt;li&gt;객체를 12시간 내에 검색&lt;/li&gt;
&lt;li&gt;얼마나 빨리 검색해야 하는지 고려하여 두 Glacier 서비스 간에 어떤 서비스 사용할 지 결정&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;elastic-file-systemefs&#34;&gt;Elastic File System(EFS)&lt;/h2&gt;
&lt;h3 id=&#34;파일-스토리지&#34;&gt;파일 스토리지&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;여러 클라이언트가 공유 파일 폴더에 저장된 데이터에 액세스 가능&lt;/li&gt;
&lt;li&gt;스토리지 서버가 블록 스토리지를 로컬 파일 시스템과 함께 사용하여 파일 구성&lt;/li&gt;
&lt;li&gt;클라이언트는 파일 경로를 통해 데이터에 액세스&lt;/li&gt;
&lt;li&gt;많은 수의 서비스 및 리소스가 동시에 동일한 데이터에 액세스해야 하는 사례에 적합&lt;/li&gt;
&lt;li&gt;파일을 추가 또는 제거하면 EFS는 자동으로 확장되거나 축소됨
&lt;ul&gt;
&lt;li&gt;애플리케이션을 중단하지 않고 온디맨드로 페타바이트 규모로 확장 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ebs와-efs-비교&#34;&gt;EBS와 EFS 비교&lt;/h3&gt;
&lt;h4 id=&#34;ebs&#34;&gt;EBS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;단일 가용 영역에 데이터 저장&lt;/li&gt;
&lt;li&gt;EC2 인스턴스를 EBS 볼륨에 연결하려면 둘 다 동일한 가용 영역에 상주해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;efs&#34;&gt;EFS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;리전별 서비스. 여러 가용 영역에 걸쳐 데이터 저장&lt;/li&gt;
&lt;li&gt;온프레미스 서버는 AWS Direct Connect를 사용해 EFS에 액세스 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;relational-database-servicerds&#34;&gt;Relational Database Service(RDS)&lt;/h2&gt;
&lt;p&gt;AWS 클라우드에서 관계형 데이터베이스를 실행할 수 있는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;하드웨어 프로비저닝, 데이터베이스 설정, 패치 적용 백업과 같은 작업을 자동화&lt;/li&gt;
&lt;li&gt;Lambda를 사용하여 서버리스 애플리케이션에서 데이터베이스를 쿼리하는 등 다른 서비스와 통합하여 비즈니스 및 운영 요구 사항 충족 가능&lt;/li&gt;
&lt;li&gt;다양한 보안 옵션 제공
&lt;ul&gt;
&lt;li&gt;저장 시 암호화(데이터가 저장되는 동안 데이터 보호)&lt;/li&gt;
&lt;li&gt;전송 중 암호화(데이터를 전송 및 수신하는 동안 데이터 보호)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;rds-데이터베이스-엔진&#34;&gt;RDS 데이터베이스 엔진&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;메모리, 성능 또는 입출력에 최적화된 6개의 데이터베이스 엔진에서 사용 가능
&lt;ul&gt;
&lt;li&gt;Amazon Aurora&lt;/li&gt;
&lt;li&gt;PostgreSQL&lt;/li&gt;
&lt;li&gt;MySQL&lt;/li&gt;
&lt;li&gt;MariaDB&lt;/li&gt;
&lt;li&gt;Oracle Database&lt;/li&gt;
&lt;li&gt;Microsoft SQL Server&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;amazon-aurora&#34;&gt;Amazon Aurora&lt;/h4&gt;
&lt;p&gt;엔터프라이즈급 관계형 데이터 베이스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MySQL, PostgreSQL 관계형 데이터베이스와 호환&lt;/li&gt;
&lt;li&gt;표준 MySQL 데이터베이스보다 최대 5배 빠르며 표준 PostgreSQL 데이터베이스보다 최대 3배 빠름&lt;/li&gt;
&lt;li&gt;데이터베이스 리소스의 안정성 및 가용성을 유지하면서 불필요한 입출력 작업을 줄여 데이터베이스 비용 절감&lt;/li&gt;
&lt;li&gt;워크로드에 고가용성이 필요한 경우 적합
&lt;ul&gt;
&lt;li&gt;6개의 데이터 복사본을 3개의 가용 영역에 복제하고 지속적으로 S3에 백업함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;dynamodb&#34;&gt;DynamoDB&lt;/h2&gt;
&lt;p&gt;키-값 데이터베이스 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 규모에서 한 자릿수 밀리초 성능 제공&lt;/li&gt;
&lt;li&gt;서버리스 데이터베이스&lt;/li&gt;
&lt;li&gt;데이터베이스 크기가 축소 또는 확장되면 용량 변화에 맞춰 자동으로 크기를 조정하면서 일관된 성능 유지
&lt;ul&gt;
&lt;li&gt;크기를 조정하는 동안 고성능이 필요한 경우에 적합&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redshift&#34;&gt;Redshift&lt;/h2&gt;
&lt;p&gt;빅 데이터 분석에 사용할 수 있는 데이터 웨어하우징 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;여러 원본에서 데이터를 수집해 데이터 간 관계 및 추세를 파악하는데 도움이 되는 기능 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;aws-database-migration-servicedms&#34;&gt;AWS Database Migration Service(DMS)&lt;/h2&gt;
&lt;p&gt;관계형 데이터베이스, 비관계형 데이터베이스 및 기타 유형의 데이터 저장소를 마이그레이션 하는 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DMS 를 사용하면 원본 데이터베이스와 대상 데이터베이스 간에 데이터 이동 가능&lt;/li&gt;
&lt;li&gt;원본 데이터베이스와 대상 데이터베이스는 유형이 같을 필요 없음&lt;/li&gt;
&lt;li&gt;마이그레이션동안 원본 데이터베이스가 계속 작동하므로 다운타임 최소화&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dms-사용-사례&#34;&gt;DMS 사용 사례&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;개발 및 테스트 데이터베이스 마이그레이션: 프로덕션 사용자에게 영향을 주지 않고 개발자가 프로덕션 데이터에서 테스트할 수 있도록 지원&lt;/li&gt;
&lt;li&gt;데이터베이스 통합: 여러 데이터베이스를 단일 데이터베이스로 통합&lt;/li&gt;
&lt;li&gt;연속 복제: 일회성 마이그레이션이 아닌 데이터의 진행 중 복제본을 다른 대상 원본으로 전송&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;추가-데이터베이스-서비스&#34;&gt;추가 데이터베이스 서비스&lt;/h2&gt;
&lt;h4 id=&#34;documentdb&#34;&gt;DocumentDB&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;MongoDB 워크로드를 지원하는 문서 데이터베이스 서비스&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;neptune&#34;&gt;Neptune&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;그래프 데이터베이스 서비스&lt;/li&gt;
&lt;li&gt;추천 엔진, 사기 탐지, 지식 그래프와 같이 고도로 연결된 데이터 세트로 작동하는 애플리케이션 빌드 및 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;quantum-ledger-databaseqldb&#34;&gt;Quantum Ledger Database(QLDB)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;원장 데이터베이스 서비스&lt;/li&gt;
&lt;li&gt;애플리케이션 데이터에 발생한 모든 변경 사항의 전체 기록 검토 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;managed-blockchain&#34;&gt;Managed Blockchain&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;오픈소스 프레임워크를 사용해 블록체인 네트워크를 생성하고 관리하는 데 사용할 수 있는 서비스&lt;/li&gt;
&lt;li&gt;블록체인은 여러 당사자가 중앙 기관없이 거래를 실행하고 데이터를 공유할 수 있는 분산형 원장 시스템&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;elasticache&#34;&gt;ElastiCache&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;자주 사용되는 요청의 읽기 시간을 향상시키기 위해 데이터베이스 위에 캐싱 계층을 추가하는 서비스&lt;/li&gt;
&lt;li&gt;Redis, Memcached 지원&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dynamodb-acceleratordax&#34;&gt;DynamoDB Accelerator(DAX)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;DynamoDB용 인 메모리 캐시&lt;/li&gt;
&lt;li&gt;응답 시간을 한 자릿수 밀리초에서 마이크로초까지 향상 가능&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 네트워킹 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sat, 22 Oct 2022 21:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;aws와의-연결&#34;&gt;AWS와의 연결&lt;/h2&gt;
&lt;h3 id=&#34;virtual-private-cloudvpc&#34;&gt;Virtual Private Cloud(VPC)&lt;/h3&gt;
&lt;p&gt;AWS 리소스에 경계를 설정하는 데 사용할 수 있는 네트워킹 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VPC를 사용해 AWS 클라우드의 격리된 섹션을 프로비저닝할 수 있음&lt;/li&gt;
&lt;li&gt;한 VPC 내에서 여러 서브넷으로 리소스를 구성할 수 있음&lt;/li&gt;
&lt;li&gt;서브넷: 리소스를 포함할 수 있는 VPC 섹션&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;인터넷-게이트웨이&#34;&gt;인터넷 게이트웨이&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;인터넷의 퍼블릭 트래픽이 VPC에 액세스하도록 허용하려면 인터넷 게이트웨이를 VPC에 연결해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%A0%95%EB%A6%AC/Untitled.png&#34;
	width=&#34;873&#34;
	height=&#34;437&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%A0%95%EB%A6%AC/Untitled_hu337136f0b1d54151d697a9c2ba8cd248_74051_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-cloud-practitioner-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9-%EC%A0%95%EB%A6%AC/Untitled_hu337136f0b1d54151d697a9c2ba8cd248_74051_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;인터넷 게이트웨이&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;199&#34;
		data-flex-basis=&#34;479px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;인터넷 게이트웨이가 없으면 아무도 VPC내의 리소스에 접근 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;가상-프라이빗-게이트웨이&#34;&gt;가상 프라이빗 게이트웨이&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;VPC내의 비공개 리소스에 액세스하려면 가상 프라이빗 게이트웨이를 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/Untitled%201.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;가상 프라이빗 게이트웨이&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;보호된 인터넷 트래픽이 VPC로 들어오도록 허용하는 구성 요소
&lt;ul&gt;
&lt;li&gt;다른 트래픽과 동일한 네트워크를 사용하기 때문에 체증 발생 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VPC와 프라이빗 네트워크간에 가상 프라이빗 네트워크(VPN) 연결 설정 가능&lt;/li&gt;
&lt;li&gt;승인된 네트워크에서 나오는 트래픽만 VPC로 들어가도록 허용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-direct-connect&#34;&gt;AWS Direct Connect&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;데이터 센터와 VPC간에 비공개 전용 연결을 설정하는 서비스&lt;/li&gt;
&lt;li&gt;다른 트래픽과 네트워크를 공유하지 않고 바로(Direct) 연결&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/Untitled%202.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Direct Connect&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;네트워크 비용을 절감하고 대역폭을 놀리는데 도움이 됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;서브넷-및-네트워크-액세스-제어-목록&#34;&gt;서브넷 및 네트워크 액세스 제어 목록&lt;/h2&gt;
&lt;h3 id=&#34;서브넷&#34;&gt;서브넷&lt;/h3&gt;
&lt;p&gt;보안 또는 운영 요구 사항에 따라 리소스를 그룹화할 수 있는 VPC 내의 한 섹션&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;서브넷은 퍼블릭 또는 프라이빗일 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/Untitled%203.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;서브넷&#34;
	
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;퍼블릭 서브넷: 누구나 액세스할 수 있어야 하는 리소스가 포함&lt;/li&gt;
&lt;li&gt;프라이빗 서브넷: 데이터베이스와 같이 프라이빗 네트워크를 통해서만 액세스할 수 있는 리소스가 포함&lt;/li&gt;
&lt;li&gt;VPC내에서 서브넷은 서로 통신할 수 있음.
&lt;ul&gt;
&lt;li&gt;예: 퍼블릭 서브넷에 있는 EC2 인스턴스가 프라이빗 서브넷에 있는 데이터베이스와 통신 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vpc의-네트워크-트래픽&#34;&gt;VPC의 네트워크 트래픽&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AWS 클라우드에서 호스팅되는 애플리케이션에 데이터를 요청하면 이 요청은 패킷으로 전송됨
&lt;ul&gt;
&lt;li&gt;패킷: 인터넷이나 네트워크를 통해 전송되는 데이터의 단위&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;패킷은 인터넷 게이트웨이를 통해 VPC로 들어간다.
&lt;ul&gt;
&lt;li&gt;패킷이 서브넷으로 들어가거나 나오려면 먼저 권한을 확인해야 함&lt;/li&gt;
&lt;li&gt;이를 확인하는 VPC 구성 요소는 네트워크 ACL(액세스 제어 목록)임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;네트워크-acl액세스-제어-목록&#34;&gt;네트워크 ACL(액세스 제어 목록)&lt;/h3&gt;
&lt;p&gt;서브넷 수준에서 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;각 AWS 계정에는 기본 네트워크 ACL이 포함
&lt;ul&gt;
&lt;li&gt;VPC를 구성할 때 계정의 기본 기본 네트워크 ACL을 사용하거나 사용자 지정 네트워크 ACL을 생성 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;계정의 기본 기본 네트워크 ACL: 기본적으로 &lt;strong&gt;모든&lt;/strong&gt; 인바운드 및 아웃바운드 트래픽 &lt;strong&gt;허용&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;사용자 자체 규칙 추가 수정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;사용자 지정 네트워크 ACL: 사용자가 허용할 트래픽을 지정하는 규칙을 추가할 때까지 &lt;strong&gt;모든&lt;/strong&gt; 인바운드 및 아웃바운드 트래픽 &lt;strong&gt;거부&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;모든 네트워크 ACL에는 명시적 거부 규칙 존재
&lt;ul&gt;
&lt;li&gt;패킷이 목록의 다른 모든 규칙과 일치하지 않으면 해당 패킷 거부&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;상태-비저장-패킷-필터링&#34;&gt;상태 비저장 패킷 필터링&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;네트워크 ACL은 상태 비저장 패킷 필터링을 수행
&lt;ul&gt;
&lt;li&gt;아무것도 기억하지 않음. 각 방향(인바운드, 아웃바운드)으로 서브넷 경계를 통과하는 패킷만 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;해당 요청에 대한 패킷이 서브넷으로 반환될 때 네트워크 ACL은 이전 요청 기억하지 못함
&lt;ul&gt;
&lt;li&gt;네트워크 ACL은 규칙 목록에 따라 패킷 응답 확인 → 허용 또는 거부 결정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;패킷이 서브넷에 들어간 후에는 서브넷 내 리소스(예:EC2 인스턴스)에 대한 권한이 평가되어야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;보안-그룹&#34;&gt;보안 그룹&lt;/h3&gt;
&lt;p&gt;Amazon EC2 인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;기본적으로 보안 그룹은 모든 인바운드 트래픽 거부, 아웃바운드 트래픽 허용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;상태-저장-패킷-필터링&#34;&gt;상태 저장 패킷 필터링&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;보안 그룹은 상태 저장 패킷 필터링을 수행
&lt;ul&gt;
&lt;li&gt;들어오는 패킷에 대한 이전 결정을 기억&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;해당 요청에 대한 패킷 응답이 인스턴스로 반환될 때 보안 그룹이 이전 요청을 기억
&lt;ul&gt;
&lt;li&gt;보안 그룹은 인바운드 보안 그룹 규칙에 관계 없이 응답이 진행하도록 허용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/Untitled%204.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;VPC 구성도&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;글로벌-네트워킹&#34;&gt;글로벌 네트워킹&lt;/h2&gt;
&lt;h3 id=&#34;route-53&#34;&gt;Route 53&lt;/h3&gt;
&lt;p&gt;DNS 웹 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;개발자와 비즈니스가 최종 사용자를 AWS에서 호스팅되는 인터넷 어플리케이션으로 라우팅할 수 있는 안정적인 방법 제공&lt;/li&gt;
&lt;li&gt;사용자 요청을 AWS에서 실행되는 인프라(예: EC2 or ELB)에 연결&lt;/li&gt;
&lt;li&gt;사용자를 AWS 외부 인프라로 라우팅 가능&lt;/li&gt;
&lt;li&gt;도메인 이름의 DNS 레코드 관리하는 기능도 존재
&lt;ul&gt;
&lt;li&gt;새 도메인 이름을 직접 등록 가능&lt;/li&gt;
&lt;li&gt;다른 도메인 등록 대행자가 관리하는 기존 도메인 이름의 DNS 레코드 전송 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;route-53-및-cloudfront가-콘텐츠를-전송하는-방식&#34;&gt;Route 53 및 CloudFront가 콘텐츠를 전송하는 방식&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/Untitled%205.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Route 53과 CloudFront가 콘텐츠를 전송하는 방식 예시&#34;
	
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;고객이 웹 사이트로 이동하여 애플리케이션에서 데이터 요청&lt;/li&gt;
&lt;li&gt;Route53은 DNS 확인을 사용해 IP를 식별, 이 정보는 고객에게 다시 전송&lt;/li&gt;
&lt;li&gt;고객의 요청은 CloudFront를 통해 가장 가까운 엣지 로케이션으로 전송&lt;/li&gt;
&lt;li&gt;CloudFront는 수신 패킷을 EC2 인스턴스로 전송하는 Application Load Balancer(ALB)에 연결&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 글로벌 인프라 및 안정성 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%8F-%EC%95%88%EC%A0%95%EC%84%B1-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sat, 22 Oct 2022 17:21:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%8F-%EC%95%88%EC%A0%95%EC%84%B1-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;aws-글로벌-인프라&#34;&gt;AWS 글로벌 인프라&lt;/h2&gt;
&lt;h3 id=&#34;aws-리전&#34;&gt;AWS 리전&lt;/h3&gt;
&lt;p&gt;적합한 리전을 결정할 때 다음 네 가지 요소를 고려해야 함&lt;/p&gt;
&lt;h4 id=&#34;1-데이터-거버넌스-및-법적-요구-사항-준수&#34;&gt;1. 데이터 거버넌스 및 법적 요구 사항 준수&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;회사와 위치에 따라 특정 영역에서 데이터를 실행해야 하는 경우&lt;/li&gt;
&lt;li&gt;모든 회사에 위치 기반 데이터 규정이 있는 것은 아니므로 다음 세 가지 요소에 더 집중해야 할 수도 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-고객과의-근접성&#34;&gt;2. 고객과의 근접성&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;고객과 가까운 리전을 선택하면 콘텐츠를 더 빠르게 제공할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-리전-내에서-사용-가능한-서비스&#34;&gt;3. 리전 내에서 사용 가능한 서비스&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;고객에게 제공하려는 기능이 가장 가까운 리전에 없을수도 있음&lt;/li&gt;
&lt;li&gt;제공하려면 이 서비스를 제공하는 리전 중 하나에서 실행해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-요금&#34;&gt;4. 요금&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;리전마다 비용이 다를 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;가용-영역&#34;&gt;가용 영역&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%8F-%EC%95%88%EC%A0%95%EC%84%B1-%EC%A0%95%EB%A6%AC/Untitled.png&#34;
	width=&#34;1294&#34;
	height=&#34;672&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%8F-%EC%95%88%EC%A0%95%EC%84%B1-%EC%A0%95%EB%A6%AC/Untitled_hu2f1a092e069d292293e0a342c5b302f4_435117_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-cloud-practitioner-%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%8F-%EC%95%88%EC%A0%95%EC%84%B1-%EC%A0%95%EB%A6%AC/Untitled_hu2f1a092e069d292293e0a342c5b302f4_435117_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;가용 영역&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;192&#34;
		data-flex-basis=&#34;462px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;리전 내의 단일 데이터 센터 또는 데이터 센터 그룹&lt;/li&gt;
&lt;li&gt;가용 영역은 서로 수십 마일 떨어져 있음
&lt;ul&gt;
&lt;li&gt;가용 영역 간 지연 시간은 짧을 정도로 충분히 가까우면서&lt;/li&gt;
&lt;li&gt;한 곳에서 재해가 발생할 경우 다른 가용 영역이 영향을 받을 가능성을 줄일 만큼 멀리 떨어져 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;엣지-로케이션&#34;&gt;엣지 로케이션&lt;/h3&gt;
&lt;h4 id=&#34;cloudfront&#34;&gt;CloudFront&lt;/h4&gt;
&lt;p&gt;글로벌 콘텐츠 전송 서비스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;더 빠른 콘텐츠 전송을 위해 고객과 가까운 위치에 콘텐츠 사본을 캐시하는 데 사용하는 사이트&lt;/li&gt;
&lt;li&gt;본사는 브라질, 고객은 중국에 있는 경우 브라질에 있는 모든 콘텐츠를 중국 리전중 하나로 이동할 필요 없음
&lt;ul&gt;
&lt;li&gt;중국 내 고객과 가까운 엣지 로케이션에 사본을 로컬로 캐시&lt;/li&gt;
&lt;li&gt;중국 내 고객이 파일을 요청하면 엣지 로케이션의 캐시에서 해당 파일을 검색하여 고객에게 전송 → 원본이 아닌 중국 근처에서 가져온 것이므로 더 빠르게 전달&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;aws-리소스를-프로비저닝하는-방법&#34;&gt;AWS 리소스를 프로비저닝하는 방법&lt;/h3&gt;
&lt;h4 id=&#34;aws-서비스와-상호-작용하는-방법&#34;&gt;AWS 서비스와 상호 작용하는 방법&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;AWS Management Console
&lt;ul&gt;
&lt;li&gt;웹 기반 인터페이스&lt;/li&gt;
&lt;li&gt;콘솔 모바일 애플리케이션을 사용해 리소스 모니터링, 경보 보기, 결제 정보 확인 등의 작업 수행 가능&lt;/li&gt;
&lt;li&gt;여러 ID가 동시에 AWS 콘솔 모바일 앱에 로그인 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AWS 명령줄 인터페이스
&lt;ul&gt;
&lt;li&gt;명령줄에서 여러 AWS 서비스 제어 가능&lt;/li&gt;
&lt;li&gt;스크립트를 통해 서비스 및 애플리케이션이 수행하는 작업을 자동화할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;소프트웨어 개발 키트
&lt;ul&gt;
&lt;li&gt;프로그래밍 언어 또는 플랫폼용으로 설계된 API를 통해 보다 서비스를 간편하게 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;elastic-beanstalk&#34;&gt;Elastic Beanstalk&lt;/h4&gt;
&lt;p&gt;사용자가 코드 및 구성 설정을 제공하면 다음 작업을 수행하는 데 필요한 리소스 배포&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;용량 조정&lt;/li&gt;
&lt;li&gt;로드 밸런싱&lt;/li&gt;
&lt;li&gt;자동 조정&lt;/li&gt;
&lt;li&gt;애플리케이션 상태 모니터링&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;cloudformation&#34;&gt;CloudFormation&lt;/h4&gt;
&lt;p&gt;인프라를 코드로 취급할 수 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;리소스를 안전하고 반복 가능한 방식으로 프로비저닝하므로 수작업을 수행하거나 사용자 지정 스크립트를 작성할 필요 없이 인프라 및 애플리케이션을 빈번히 구축할 수 있음&lt;/li&gt;
&lt;li&gt;스택을 관리할 때 수행해야 할 적절한 작업을 결정하고 오류를 감지하면 변경 사항을 자동으로 롤백함&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[AWS Cloud Practitioner] 클라우드 컴퓨팅 정리</title>
        <link>https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Sat, 22 Oct 2022 16:05:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h2 id=&#34;클라우드-컴퓨팅&#34;&gt;클라우드 컴퓨팅&lt;/h2&gt;
&lt;p&gt;💡 인터넷을 통해 IT 리소스와 애플리케이션을 온디맨드로 제공하는 것&lt;/p&gt;
&lt;h3 id=&#34;클라우드-컴퓨팅-배포-모델&#34;&gt;클라우드 컴퓨팅 배포 모델&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;클라우드 기반 배포
&lt;ul&gt;
&lt;li&gt;모든 애플리케이션을 클라우드에서 실행&lt;/li&gt;
&lt;li&gt;기존 애플리케이션을 클라우드로 마이그레이션&lt;/li&gt;
&lt;li&gt;클라우드에서 새 애플리케이션 설계 및 빌드&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;온프레미스 배포(프라이빗 클라우드 배포)
&lt;ul&gt;
&lt;li&gt;가상화 및 리소스 관리 도구를 사용하여 리소스 배포&lt;/li&gt;
&lt;li&gt;애플리케이션 관리 및 가상화 기술을 사용하여 &lt;strong&gt;리소스 활용도 높임&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;하이브리드 배포
&lt;ul&gt;
&lt;li&gt;클라우드 기반 리소스를 온프레미스 인프라에 연결&lt;/li&gt;
&lt;li&gt;클라우드 기반 리소스를 레거시 IT 애플리케이션과 통합&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;이점&#34;&gt;이점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;선행 비용을 가변 비용으로 대체&lt;/li&gt;
&lt;li&gt;데이터 센터 운영 및 유지 관리에 비용 투자 불필요&lt;/li&gt;
&lt;li&gt;용량 추정 불필요&lt;/li&gt;
&lt;li&gt;규모의 경제로 얻게 되는 이점&lt;/li&gt;
&lt;li&gt;속도 및 민첩성 향상&lt;/li&gt;
&lt;li&gt;몇 분 만에 전 세계 배포&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;elastic-compute-cloudec2&#34;&gt;Elastic Compute Cloud(EC2)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;안전하고 크기 조정이 가능한 컴퓨팅 용량을 클라우드에서 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ec2-작동-방식&#34;&gt;EC2 작동 방식&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;시작
&lt;ul&gt;
&lt;li&gt;인스턴스 시작&lt;/li&gt;
&lt;li&gt;기본 구성(운영 체제, 애플리케이션 서버 또는 애플리케이션) 인스턴스가 포함되어 있는 템플릿을 선택하여 시작&lt;/li&gt;
&lt;li&gt;인스턴스 유형 선택&lt;/li&gt;
&lt;li&gt;보안 설정 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;연결
&lt;ul&gt;
&lt;li&gt;여러가지 방법으로 연결 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;사용
&lt;ul&gt;
&lt;li&gt;명령을 실행하여 소프트웨어 설치, 스토리지 추가, 파일 복사 및 정리 등의 작업 수행&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ec2-인스턴스-유형&#34;&gt;EC2 인스턴스 유형&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;유형 선택시 워크로드 및 애플리케이션의 구체적 요구 사항을 고려해야 함&lt;/li&gt;
&lt;li&gt;범용 인스턴스
&lt;ul&gt;
&lt;li&gt;컴퓨팅, 메모리, 네트워킹 균형 제공&lt;/li&gt;
&lt;li&gt;애플리케이션, 게임, 엔터프라이즈 애플리케이션용 백엔드 서버, 중소 규모 데이터베이스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;컴퓨팅 최적화 인스턴스
&lt;ul&gt;
&lt;li&gt;고성능 프로세서를 활용하는 컴퓨팅 집약적인 애플리케이션에 적합&lt;/li&gt;
&lt;li&gt;고성능 웹서버, 컴퓨팅 집약적 애플리케이션 서버, 게임 전용 서버에 적합&lt;/li&gt;
&lt;li&gt;단일 그룹에서 많은 트랜잭션을 처리해야 하는 일괄 처리 워크로드에 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;메모리 최적화 인스턴스
&lt;ul&gt;
&lt;li&gt;메모리에서 대규모 데이터 셋을 처리하는 워크로드를 위한 빠른 성능을 제공&lt;/li&gt;
&lt;li&gt;많은 데이터를 미리 로드해야 하는 워크로드에 적합&lt;/li&gt;
&lt;li&gt;고성능 데이터베이스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;엑셀러레이티드 컴퓨팅 인스턴스
&lt;ul&gt;
&lt;li&gt;하드웨어 엑셀러레이터 또는 코프로세서를 사용하여 일부 기능을 CPU보다 더 효율적으로 수행&lt;/li&gt;
&lt;li&gt;부동 소수점 수 계산, 그래픽 처리, 데이터 패턴 일치 등&lt;/li&gt;
&lt;li&gt;데이터 처리를 가속화 할 수 있는 구성 요소&lt;/li&gt;
&lt;li&gt;그래픽 애플리케이션, 게임 스트리밍, 애플리케이션 스트리밍에 적합&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;스토리지 최적화 인스턴스
&lt;ul&gt;
&lt;li&gt;로컬 스토리지의 대규모 데이터 셋에 대한 순차적 읽기 및 쓰기 액세스가 많이 필요한 워크로드에 적합&lt;/li&gt;
&lt;li&gt;분산 파일 시스템, 데이터 웨어하우징 애플리케이션, OLTP 시스템&lt;/li&gt;
&lt;li&gt;짧은 임의 IOPS(초당 입출력 작업 수) 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ec2-요금&#34;&gt;EC2 요금&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;온디맨드
&lt;ul&gt;
&lt;li&gt;중단할 수 없는 불규칙한 단기 워크로드가 있는 애플리케이션에 적합&lt;/li&gt;
&lt;li&gt;선결제 비용, 최소 약정은 적용되지 않음&lt;/li&gt;
&lt;li&gt;개발 및 테스트와 예측할 수 없는 사용 패턴이 있는 애플리케이션 실행 사례에 적합&lt;/li&gt;
&lt;li&gt;1년 이상 지속되는 워크로드에는 권장되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Savings Plans
&lt;ul&gt;
&lt;li&gt;1년또는 3년 기간 동안 일정한 컴퓨팅 사용량을 약정하여 컴퓨팅 비용 절감 (최대 72%)&lt;/li&gt;
&lt;li&gt;약정 사용량까지는 할인된 Savings Plan 요금 청구. 초과 시 일반 온디맨드 요금 부과&lt;/li&gt;
&lt;li&gt;AWS Cost Explorer를 통해 EC2 사용량 분석 가능, Savings Plans를 위한 맞춤형 권장 사항 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;예약 인스턴스
&lt;ul&gt;
&lt;li&gt;온디맨드 인스턴스를 사용할 때 적용되는 결제 할인 옵션&lt;/li&gt;
&lt;li&gt;표준 예약 및 컨버터블 예약 인스턴스는 1년 또는 3년 약정&lt;/li&gt;
&lt;li&gt;정기 예약 인스턴스는 1년 약정&lt;/li&gt;
&lt;li&gt;3년 약정 옵션을 통해 더 큰 비용 절감 실현 가능&lt;/li&gt;
&lt;li&gt;약정 기간이 끝나면 중단없이 사용가능하나, 종료 또는 인스턴스 속성(유형, 리전, 테넌시, 플랫폼)과 일ㅊ하는 새 예약 인스턴스 구입 전 까지는 온디맨드 요금 부과&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;스팟 인스턴스
&lt;ul&gt;
&lt;li&gt;시작 및 종료 시간이 자유롭거나 중단을 견딜 수 있는 워크로드에 적합&lt;/li&gt;
&lt;li&gt;미사용 EC2 컴퓨팅 용량을 사용하며 온디맨드 요금의 최대 90%까지 비용 절감 가능&lt;/li&gt;
&lt;li&gt;스팟 요청을 하고 EC2 용량을 사용할 수 없는 경우 용량을 사용할 수 있을 때 까지 요청 성공 하지 않음&lt;/li&gt;
&lt;li&gt;스팟 인스턴스 시작 후 용량을 더 이상 사용할 수 없거나 수요가 늘면 중단될 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;전용 호스트
&lt;ul&gt;
&lt;li&gt;사용자 전용의 EC2 인스턴스 용량을 갖춘 물리적 서버&lt;/li&gt;
&lt;li&gt;가장 비용이 많이 듦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ec2-확장auto-scaling&#34;&gt;EC2 확장(Auto Scaling)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;변화하는 애플리케이션 수요에 따라 EC2 인스턴스를 자동으로 추가하거나 제거 → 가용성을 효과적으로 유지&lt;/li&gt;
&lt;li&gt;동적 조정: 수요 변화에 대응&lt;/li&gt;
&lt;li&gt;예측 조정: 예측된 수요에 따라 적절한 수의 EC2 인스턴스를 자동으로 예약&lt;/li&gt;
&lt;li&gt;두 조정은 함께 사용하면 더 빠르게 조정할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%A0%95%EB%A6%AC/auto-scaling-group.png&#34;
	width=&#34;1166&#34;
	height=&#34;1090&#34;
	srcset=&#34;https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%A0%95%EB%A6%AC/auto-scaling-group_hu84b315bc0745296b525a08abe6ab77f5_175689_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/aws-cloud-practitioner-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%BB%B4%ED%93%A8%ED%8C%85-%EC%A0%95%EB%A6%AC/auto-scaling-group_hu84b315bc0745296b525a08abe6ab77f5_175689_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Auto Scaling 그룹&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;106&#34;
		data-flex-basis=&#34;256px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;최소 용량: Auto Scaling 그룹을 생성한 직후 시작되는 EC2 인스턴스의 수&lt;/li&gt;
&lt;li&gt;희망 용량: 유지되었으면 하는 EC2 인스턴스의 수. 지정하지 않으면 최소 용량이 기본값&lt;/li&gt;
&lt;li&gt;최대 용량: Auto Scaling 그룹을 구성하되 EC2 인스턴스의 최대 수 제한&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;elastic-load-balancing&#34;&gt;Elastic Load Balancing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;들어오는 애플리케이션 트래픽을 Amazon EC2 인스턴스와 같은 여러 리소스에 자동으로 분산하는 서비스&lt;/li&gt;
&lt;li&gt;Auto Scaling 그룹으로 들어오는 모든 웹 트래픽의 단일 접점 역할.&lt;/li&gt;
&lt;li&gt;들어오는 트래픽 양에 맞춰 EC2 인스턴스를 추가하거나 제거하므로 요청이 로드 밸런서로 먼저 라우팅된 후 요청을 처리할 여러 리소스로 분산&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;메시징-및-대기열&#34;&gt;메시징 및 대기열&lt;/h3&gt;
&lt;h4 id=&#34;simple-notification-servicesns&#34;&gt;Simple Notification Service(SNS)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;게시/구독 서비스&lt;/li&gt;
&lt;li&gt;게시자는 SNS 주제를 사용하며 구독자에게 메시지 게시&lt;/li&gt;
&lt;li&gt;구독자는 웹 서버, 이메일 주소, Lambda 함수 등등의 옵션 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;simple-queue-servicesqs&#34;&gt;Simple Queue Service(SQS)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;메시지 손실이나 다른 서비스 사용 없이 소프트웨어 구성 요소 간에 메시지를 전송, 저장, 수신할 수 있음&lt;/li&gt;
&lt;li&gt;애플리케이션이 메시지를 대기열로 전송&lt;/li&gt;
&lt;li&gt;사용자 또는 서비스는 대기열에서 메시지를 검색, 처리 후 대기열에서 삭제&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;추가-컴퓨팅-서비스&#34;&gt;추가 컴퓨팅 서비스&lt;/h3&gt;
&lt;h4 id=&#34;서버리스-컴퓨팅&#34;&gt;서버리스 컴퓨팅&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;서버를 프로비저닝하거나 관리할 필요가 없음&lt;/li&gt;
&lt;li&gt;처리량 및 메모리와 같은 소비 단위를 수정하여 애플리케이션의 용량 조정&lt;/li&gt;
&lt;li&gt;Lambda&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;컨테이너&#34;&gt;컨테이너&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;애플리케이션의 코드와 종속성을 하나의 객체로 패키징하는 표준 방식 제공&lt;/li&gt;
&lt;li&gt;보안성, 안정성, 확장성이 매우 중요한 프로세스 및 워크플로에도 사용&lt;/li&gt;
&lt;li&gt;Elastic Container Service(ECS)
&lt;ul&gt;
&lt;li&gt;컨테이너식 애플리케이션을 실행하고 확장할 수 있는 고성능 컨테이너 관리 시스템&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Elastic Kubernetes Service(EKS)
&lt;ul&gt;
&lt;li&gt;AWS에서 쿠버네티스를 실행하는 데 사용할 수 있는 완전 관리형 서비스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Fargate
&lt;ul&gt;
&lt;li&gt;컨테이너용 서버리스 컴퓨팅 엔진&lt;/li&gt;
&lt;li&gt;ECS와 EKS에서 작동&lt;/li&gt;
&lt;li&gt;서버를 프로비저닝하거나 관리할 필요 없음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Airflow 정리</title>
        <link>https://Haebuk.github.io/p/airflow-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Fri, 14 Oct 2022 20:15:22 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/airflow-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/airflow-%EC%A0%95%EB%A6%AC/AirflowLogo.png" alt="Featured image of post Airflow 정리" /&gt;&lt;h2 id=&#34;what-is-airflow&#34;&gt;What is Airflow?&lt;/h2&gt;
&lt;h3 id=&#34;core-components&#34;&gt;Core Components&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Web server: UI 담당 웹 서버&lt;/li&gt;
&lt;li&gt;Scheduler: 워크플로우 스케줄링&lt;/li&gt;
&lt;li&gt;Metastore: 메타데이터가 저장되는 데이터 베이스&lt;/li&gt;
&lt;li&gt;Executor: 작업이 어디서 실행될지 정의&lt;/li&gt;
&lt;li&gt;Worker: 작업이 실행되는 프로세스&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dag&#34;&gt;DAG&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dag_id&lt;/code&gt;: 유니크한 dag 이름&lt;/li&gt;
&lt;li&gt;&lt;code&gt;start_date&lt;/code&gt;: dag가 처음 스케줄되는 시간. &lt;code&gt;datetime&lt;/code&gt; 모듈로 정의&lt;/li&gt;
&lt;li&gt;&lt;code&gt;schedule_interval&lt;/code&gt;: 스케줄되는 간격. cron으로 정의하거나 &lt;code&gt;&amp;quot;@daily&amp;quot;&lt;/code&gt;와 같이 정의&lt;/li&gt;
&lt;li&gt;&lt;code&gt;default_args&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;owner&lt;/code&gt;: &lt;code&gt;str&lt;/code&gt;, &lt;code&gt;&amp;quot;airflow&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email_on_failure&lt;/code&gt;: &lt;code&gt;bool&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email_on_retry&lt;/code&gt;: &lt;code&gt;bool&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email&lt;/code&gt;: &lt;code&gt;str&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;retries&lt;/code&gt;: &lt;code&gt;int&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;retry_delay&lt;/code&gt;: &lt;code&gt;datetime.timedelta&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;catchup&lt;/code&gt;: airflow가 트리거하지 않았던 날짜에 대해 실행 여부, &lt;code&gt;False&lt;/code&gt;로 하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dagrun&#34;&gt;DAGrun&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;스케줄러가 DAGrun object 생성&lt;/li&gt;
&lt;li&gt;주어진 시간의 dag 정보를 담고 있는 인스턴스&lt;/li&gt;
&lt;li&gt;실행될 task들을 가지고 있음&lt;/li&gt;
&lt;li&gt;원자성, 멱등성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;operator&#34;&gt;Operator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Operator = Task&lt;/li&gt;
&lt;li&gt;실행하고자 하는 작업을 캡슐화했다고 생각하면 된다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;task_id&lt;/code&gt;: 하나의 dag내에서 유니크한 이름을 가져야 한다.&lt;/li&gt;
&lt;li&gt;종류
&lt;ul&gt;
&lt;li&gt;Action Operator: 실행 (bash)&lt;/li&gt;
&lt;li&gt;Transfer Operator: 전송 (mysql, postgres)&lt;/li&gt;
&lt;li&gt;Sensor Operator: 감지&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;how-airflow-works&#34;&gt;How Airflow works?&lt;/h2&gt;
&lt;h3 id=&#34;one-node-architecture&#34;&gt;One Node Architecture&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Web server가 metastore에서 메타데이터 정보를 가져온다.&lt;/li&gt;
&lt;li&gt;Schduler가 Metastore와 Executor에서 DAG, 작업을 트리거한다.&lt;/li&gt;
&lt;li&gt;Executor가 작업 업데이트를 metastore에 완료되었다고 업데이트한다.&lt;/li&gt;
&lt;li&gt;Executor에는 큐가 있는데, 실행이 정해진 순서대로 되게 한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;multi-nodes-architecture-celery&#34;&gt;Multi Nodes Architecture (Celery)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Node1에는 웹서버, 스케줄러, 익스큐터가 있음&lt;/li&gt;
&lt;li&gt;Node2에는 메타스토어와 큐가 있음. 큐는 rabbit MQ나 redis 같은 서비스를 사용함&lt;/li&gt;
&lt;li&gt;워커 노드들에는 Airflow 워커들이 있음&lt;/li&gt;
&lt;li&gt;실행 방식은 1 노드 구조와 유사하나, 익스큐터는 외부 큐에 작업을 푸시한다.&lt;/li&gt;
&lt;li&gt;큐 내부에 있는 작업은 워커에 의해 풀 된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;folder-dags&#34;&gt;folder dags&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;dags 폴더에 파일이 저장&lt;/li&gt;
&lt;li&gt;웹 서버와 스케쥴러가 이를 파싱함&lt;/li&gt;
&lt;li&gt;스케쥴러가 메타스토어에 dagrun object를 생성&lt;/li&gt;
&lt;li&gt;dag가 실행이 되어야 할 경우 스케줄러가 TaskInstance object를 메타스토어에 스케줄함&lt;/li&gt;
&lt;li&gt;TaskInstance를 익스큐터에 보냄&lt;/li&gt;
&lt;li&gt;실행 중에 메타스토어의 정보를 실행중으로 업데이트&lt;/li&gt;
&lt;li&gt;완료되면 메타스토어의 정보를 완료로 업데이트&lt;/li&gt;
&lt;li&gt;dagrun이 종료되었는지 검증&lt;/li&gt;
&lt;li&gt;웹서버가 metastore의 정보를 ui에 업데이트&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;caution&#34;&gt;caution&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dag에 파일이 업데이트 되면 &lt;code&gt;dag_dir_list_interval&lt;/code&gt; 주기 후 (기본 5분) UI상에서 확인 가능하다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;min_file_process_interval&lt;/code&gt; (기본 30초) dag를 파싱하는 시간. dag 코드가 업데이트 되도 해당 시간 후 반영된다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;commands&#34;&gt;Commands&lt;/h2&gt;
&lt;h3 id=&#34;useful-commands&#34;&gt;useful commands&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;airflow run&lt;/code&gt;: 하나의 task 인스턴스 실행&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airflow list_dags&lt;/code&gt;: dag 목록&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airflow dag_state&lt;/code&gt;: dag 상태&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airflow task_state&lt;/code&gt;: task 상태&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airflow test&lt;/code&gt;: 테스트&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;test&#34;&gt;test&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$ airflow tasks test DAG_ID TASK_ID DATE&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dependencies&#34;&gt;dependencies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;task 디펜던시 줄 때 줄바꾸기&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;task1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;task2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;task3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;task3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;task4&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;task5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;dag-details&#34;&gt;DAG Details&lt;/h2&gt;
&lt;h3 id=&#34;date-options&#34;&gt;date options&lt;/h3&gt;
&lt;h4 id=&#34;start_date&#34;&gt;&lt;code&gt;start_date&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;DAG의 task들이 언제부터 트리거되고 스케줄되는지 시간을 정의.
&lt;ul&gt;
&lt;li&gt;ex) 2019-03-01로 정의했다면, 2019년 3월 1일 자정에 스케줄됨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;python의 &lt;code&gt;datetime&lt;/code&gt; 모듈로 정의 가능&lt;/li&gt;
&lt;li&gt;과거나 미래로 설정 가능함
&lt;ul&gt;
&lt;li&gt;미래로 설정 시, 해당 시간이 될 때까지 기다림&lt;/li&gt;
&lt;li&gt;과거로 설정 시, 기다리지 않고 실행 가능. 그러나 &lt;code&gt;catchup=False&lt;/code&gt;로 주지 않으면 과거로 설정한 날짜로 부터 &lt;code&gt;schedule_interval&lt;/code&gt;마다 task instance가 실행되므로 주의&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;datetime.now()&lt;/code&gt;와 같이 동적으로 할당하지 말 것&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;schedule_interval&#34;&gt;&lt;code&gt;schedule_interval&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;start_date&lt;/code&gt;의 최소값으로 부터 트리거되는 시간 간격
&lt;ul&gt;
&lt;li&gt;같은 dag에서도 task 별로 &lt;code&gt;start_date&lt;/code&gt;를 따로 줄 수 있기 때문에 최소값으로 정의됨&lt;/li&gt;
&lt;li&gt;그러나 같은 dag내 task들은 같은 &lt;code&gt;start_date&lt;/code&gt;를 쓰는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;cron expression이나 &lt;code&gt;datetime.timedelta&lt;/code&gt; 모듈로 정의 가능
&lt;ul&gt;
&lt;li&gt;cron을 쓰는 것이 더 정확한 표현을 할 수 있으므로 cron을 사용하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;execution_date&#34;&gt;&lt;code&gt;execution_date&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dag가 실행된 시각이 &lt;strong&gt;아님&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;start_date&lt;/code&gt; - &lt;code&gt;schedule_interval&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;end_date&#34;&gt;&lt;code&gt;end_date&lt;/code&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dag/task가 더이상 스케줄되지 않는 시간&lt;/li&gt;
&lt;li&gt;기본값은 None&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;backfill&#34;&gt;Backfill&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;실행되지 않았던 dag/task를 실행하는 기능&lt;/li&gt;
&lt;li&gt;&lt;code&gt;catchup=True&lt;/code&gt;로 설정 시 수행&lt;/li&gt;
&lt;li&gt;&lt;code&gt;catchup=False&lt;/code&gt;로 설정 시 실행되지 않은 가장 마지막 dag/task만 실행하도록 되어 있음&lt;/li&gt;
&lt;li&gt;CLI를 통해 실행 가능. &lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow/stable/dag-run.html#backfill&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;airflow 공식문서&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;depends_on_past&#34;&gt;&lt;code&gt;depends_on_past&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;task 레벨에서 정의&lt;/li&gt;
&lt;li&gt;&lt;code&gt;default_args&lt;/code&gt;에 정의 해서 모든 task에도 적용 가능&lt;/li&gt;
&lt;li&gt;이전 dagrun의 특정 task가 실패했다면, 이번 dagrun에서 그 task가 실행되는 것을 막을 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;wait_for_downstream&#34;&gt;&lt;code&gt;wait_for_downstream&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;task 레벨에서 정의&lt;/li&gt;
&lt;li&gt;&lt;code&gt;default_args&lt;/code&gt;에 정의 해서 모든 task에도 적용 가능&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wait_for_downtstream&lt;/code&gt;이 정의된 task의 downstream task들이 이전 dagrun에서 완료될 때 까지 이번 dagrun 대기&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dags-folder-structure&#34;&gt;DAGs folder structure&lt;/h3&gt;
&lt;h4 id=&#34;1-zip&#34;&gt;1. Zip&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dag 파일은 zip 파일 root에 위치해야함&lt;/li&gt;
&lt;li&gt;모듈 디펜던시가 필요하면 virtualenv와 pip 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-dagbag&#34;&gt;2. DAGBag&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;DAG 모음. 폴더 구조로 dag를 다룬다.&lt;/li&gt;
&lt;li&gt;dev/staging/prod와 같이 환경 분리에 이점이 있다&lt;/li&gt;
&lt;li&gt;dagbag이 깨지면 airflow UI상에서 에러가 뜨지 않고 웹서버 로그로만 확인 가능하므로 주의&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-airflowignore&#34;&gt;3. .airflowignore&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;.gitignore와 유사&lt;/li&gt;
&lt;li&gt;모든 dags 폴더에 넣는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;failure-detection&#34;&gt;Failure Detection&lt;/h3&gt;
&lt;h4 id=&#34;dags&#34;&gt;DAGs&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dagrun_timeout&lt;/code&gt;: dagrun이 타임아웃되는 시간. 스케줄된 dag만 해당하며(수동 실행은 해당되지 않음) 실행중인 dag의 수가 &lt;code&gt;max_active_runs&lt;/code&gt;와 일치하는 경우에만 해당&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sla_miss_callback&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_failure_callback&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_success_callback&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tasks&#34;&gt;Tasks&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;email&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email_on_failure&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;email_on_retry&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;retries&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;retry_delay&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;retry_exponential_backoff&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max_retry_delay&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;execution_timeout&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_failure_callback&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_success_callback&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;on_retry_callback&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;test-1&#34;&gt;Test&lt;/h2&gt;
&lt;h3 id=&#34;dag-validation-tests&#34;&gt;DAG validation tests&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;유효한지&lt;/li&gt;
&lt;li&gt;cycle이 없는지&lt;/li&gt;
&lt;li&gt;default arguments가 잘 설정됐는지&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dagpipeline-definition-tests&#34;&gt;DAG/Pipeline Definition Tests&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;task의 숫자가 맞는지&lt;/li&gt;
&lt;li&gt;(로직이 아닌) task가 잘 정의 됐는지&lt;/li&gt;
&lt;li&gt;task의 upstream, downstream 디펜던시가 잘 정의됐는지&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;unit-tests&#34;&gt;Unit tests&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;로직 체크&lt;/li&gt;
&lt;li&gt;operator가 잘 동작되는지만 체크&lt;/li&gt;
&lt;li&gt;복잡한 로직을 airflow가 하게 두지 마라 (airflow는 오케스트레이션 툴이다)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;integration-tests&#34;&gt;Integration tests&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;task가 데이터를 잘 교환하는지&lt;/li&gt;
&lt;li&gt;task의 input 체크&lt;/li&gt;
&lt;li&gt;여러 task간 의존성 체크&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;end-to-end-pipeline-tests&#34;&gt;End to End Pipeline tests&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;결과가 올바른지&lt;/li&gt;
&lt;li&gt;전체 로직 체크&lt;/li&gt;
&lt;li&gt;성능 체크&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;local-executor&#34;&gt;Local Executor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;병렬 실행 가능 (개발시 local executor 사용 권장)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;parallelism = 0&lt;/code&gt;: unlimit&lt;/li&gt;
&lt;li&gt;&lt;code&gt;parallelism &amp;gt; 0&lt;/code&gt;: limit
&lt;ul&gt;
&lt;li&gt;코어수 - 1로 설정하는 것을 권장&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dag_cuncurrency&lt;/code&gt;와 &lt;code&gt;max_active_runs_per_dag&lt;/code&gt; 옵션에 따라 dag간 task 실행 순서를 조정할 수 있다.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dag_cuncurrency&lt;/code&gt;: dag내에서 동시에 실행 가능한 task의 수&lt;/li&gt;
&lt;li&gt;&lt;code&gt;max_active_runs_per_dag&lt;/code&gt;: 동시에 실행 시킬 수 있는 dag 수(backfill 일 때 주로 신경쓸 듯)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;subdags&#34;&gt;SubDAGs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;유사한 DAG를 하나의 그룹으로 묶어 UI상에서 마치 하나의 DAG인 것 처럼 표시할 수 있음&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SubDagOperator&lt;/code&gt; 사용
&lt;ul&gt;
&lt;li&gt;기본 Executor는 &lt;code&gt;SequentialExecutor&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;main DAG가 모든 subDAG 들을 task로 관리&lt;/li&gt;
&lt;li&gt;Airflow UI는 오직 main DAG만 표시&lt;/li&gt;
&lt;li&gt;subDAG는 부모 DAG와 동일한 시각에 스케줄되어야 함. 그렇지 않으면 예상치 못한 결과를 낳을 수 있음&lt;/li&gt;
&lt;li&gt;데드락이 발생할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;branching&#34;&gt;Branching&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;DAG가 특정 task의 결과에 따라 경로를 선택할 수 있게끔 하는 것&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BranchPythonOperator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BranchPythonOperator&lt;/code&gt;의 결과가 task_c를 반환하고 &lt;code&gt;BranchPythonOperator&lt;/code&gt;의 downstream으로 task_a, task_b, task_c가 있다면 task_c를 실행하고, a와 b는 스킵&lt;/li&gt;
&lt;li&gt;&lt;code&gt;depends_on_past=True&lt;/code&gt;로 지정시, a와 b는 실패 상태로 뜨기 때문에 다음 DAGrun은 실행되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BranchPythonOperator&lt;/code&gt;에 empty path를 주면 의도하지 않은 결과를 줄 수 있기 때문에 반드시 주는 것이 좋다.
&lt;ul&gt;
&lt;li&gt;path를 스킵하고 싶다면 (task를 끝내고 싶다면) dummy task를 줘서 끝내자&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;마지막 task도 skipped로 뜨는 것을 막고 싶다면 마지막 task operator에 &lt;code&gt;trigger_rule=&#39;one_success&#39;&lt;/code&gt;추가&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;trigger-rule&#34;&gt;Trigger Rule&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;depends_on_past&lt;/code&gt;와 사용 가능&lt;/li&gt;
&lt;li&gt;upstream task중 skipped task가 있으면 &lt;code&gt;all_success&lt;/code&gt;와 &lt;code&gt;all_failed&lt;/code&gt;는 skipped 상태로 표시됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;kinds&#34;&gt;Kinds&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;all_success&lt;/code&gt;: upstream task가 모두 성공하면 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;all_failed&lt;/code&gt;: upstream task가 모두 실패하면 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;all_done&lt;/code&gt;: upstream task가 성공 유무와 관련없이 끝나면 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;one_failed&lt;/code&gt;: upstream task가 하나라도 실패해야 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;one_success&lt;/code&gt;: upstream task가 하나라도 성공해야 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;none_failed&lt;/code&gt;: upstream task가 failed가 없어야 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;none_skipped&lt;/code&gt;: upstream task가 skipped가 없어야 run&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dummy&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;variables&#34;&gt;Variables&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;metadata DB에 저장되는 값&lt;/li&gt;
&lt;li&gt;Key, value, Is encrypted로 구성&lt;/li&gt;
&lt;li&gt;JSON 형식 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;templating&#34;&gt;Templating&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;placeholder &lt;code&gt;{{}}&lt;/code&gt; 를 사용하여 값을 대체&lt;/li&gt;
&lt;li&gt;Jinja template&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;macros&#34;&gt;Macros&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://airflow.apache.org/docs/apache-airflow/stable/templates-ref.html#macros&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://airflow.apache.org/docs/apache-airflow/stable/templates-ref.html#macros&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;xcoms&#34;&gt;XCOMs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;task 간 메세지 공유&lt;/li&gt;
&lt;li&gt;key, value, timestamp로 구성&lt;/li&gt;
&lt;li&gt;value는 가벼워야 한다. (성능 문제)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xcom_push(key, value)&lt;/code&gt;로 metadata DB에 푸시
&lt;ul&gt;
&lt;li&gt;key: &lt;code&gt;returned_value&lt;/code&gt;, value: 리턴값&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xcom_pull(key)&lt;/code&gt;로 받기
&lt;ul&gt;
&lt;li&gt;key를 명시하지 않으면 &lt;code&gt;returned_value&lt;/code&gt;가 기본값&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;triggerdagrunoperator&#34;&gt;TriggerDagRunOperator&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;다른 DAG(컨트롤러)의 조건에 따라 특정 DAG(타겟)를 시작하게 함&lt;/li&gt;
&lt;li&gt;branch나 subdag로는 너무 복잡해질때 사용&lt;/li&gt;
&lt;li&gt;컨트롤러는 타겟이 종료될 때 까지 기다리지 않음&lt;/li&gt;
&lt;li&gt;컨트롤러와 타겟은 독립적임&lt;/li&gt;
&lt;li&gt;컨트롤러의 히스토리에 관한 시각화는 제공되지 않음&lt;/li&gt;
&lt;li&gt;두 dag모두 스케줄되어야 함&lt;/li&gt;
&lt;li&gt;타겟 interval은 None이어야 함&lt;/li&gt;
&lt;li&gt;두 dag간에 메세지를 주고받을 수 있음(xcoms 대체)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;externaltasksensor&#34;&gt;ExternalTaskSensor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;DAG간 종속성 줄 때 사용&lt;/li&gt;
&lt;li&gt;예를 들어 DAG1(&lt;code&gt;t1 &amp;gt;&amp;gt; t2 &amp;gt;&amp;gt; t3&lt;/code&gt;), DAG2(&lt;code&gt;t3 &amp;gt;&amp;gt; t4 &amp;gt;&amp;gt; t5&lt;/code&gt;)가 있을 때 t3가 완료되면 (DAG1이 완료되면) DAG2가 실행되도록 한다. (t4부터)&lt;/li&gt;
&lt;li&gt;두 DAG는같은 스케줄이어야 함 (또는 &lt;code&gt;execution_delta&lt;/code&gt; 나 &lt;code&gt;execution_date_fn&lt;/code&gt; 파라미터 사용)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TriggerDagRunOperator&lt;/code&gt;와 쓰면 고장남
&lt;ul&gt;
&lt;li&gt;스케줄 인터벌 None이기 때문&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;logging&#34;&gt;Logging&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;airflow.cfg&lt;/code&gt;의 &lt;code&gt;base_log_folder&lt;/code&gt;: log 저장 경로&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fab_logging_level&lt;/code&gt;: flask app builder의 로깅 수준. (flask 기반 웹서버)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;metrics&#34;&gt;Metrics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Counters: 실패한 task 수&lt;/li&gt;
&lt;li&gt;Gauges: queued task 수&lt;/li&gt;
&lt;li&gt;Timers: task 완료까지의 밀리초&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>파이썬 클린코드 후기</title>
        <link>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C-%ED%9B%84%EA%B8%B0/</link>
        <pubDate>Sat, 08 Oct 2022 11:05:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C-%ED%9B%84%EA%B8%B0/</guid>
        <description>&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C-%ED%9B%84%EA%B8%B0/book.jpeg&#34;
	width=&#34;939&#34;
	height=&#34;1200&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C-%ED%9B%84%EA%B8%B0/book_hu910ad935d87f015fbbdeed736141c7fc_163751_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C-%ED%9B%84%EA%B8%B0/book_hu910ad935d87f015fbbdeed736141c7fc_163751_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;책 표지. 출처: yes24&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;78&#34;
		data-flex-basis=&#34;187px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;여러 파이썬 코딩 스타일과 관련된 책을 봤었는데, 가장 잘 정리가 된 책이라고 생각했다.&lt;/p&gt;
&lt;p&gt;최근에 나온 책이라 코드 버전도 최신이다. 데코레이터를 이용한 우아한 재시도 로직은 꽤 멋지다고 생각해 실무에도 적용했다.&lt;/p&gt;
&lt;p&gt;책은 꽤 넓은 범위를 커버한다. 그렇지만 내용이 얕지는 않다고 생각한다. 책을 한 번 읽어서는 모든 내용을 숙지할 수 없을 것 같다.&lt;/p&gt;
&lt;p&gt;읽을 책이 밀려 바로 다시 읽을 순 없지만, 로테이션이 다 돈다면 다시 읽고 싶은 책. 아직 책 속에서 배워야 할 것이 무궁무진하다.&lt;/p&gt;
&lt;p&gt;모든 클린 코드 책이 그렇겠지만, 초보자가 읽으면 별로 도움이 되지 않을 책. 실무에 파이썬을 충분히 사용하고 있으며 평소 클린 코드에 대해 고민을 많이 하는 실무자가 읽으면 좋을 책이다.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>파이콘2022 후기</title>
        <link>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/</link>
        <pubDate>Fri, 07 Oct 2022 06:42:15 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon.png" alt="Featured image of post 파이콘2022 후기" /&gt;&lt;p&gt;주말에 열린 파이콘2022에 다녀왔다. 장소는 명동에 있는 마실 스튜디오.&lt;/p&gt;
&lt;p&gt;컨퍼런스에 참여하는 것은 처음이었는데, 파이썬을 사용하는 유저로서 꼭 참여해보고 싶었기 때문에 큰 마음을 먹고 결제를 했다. 가격은 상당히 비싸다고 생각했는데, 오프라인 참가비 4만원에 굿즈비 2만원이었다. 참가비야 그만한 가치가 있다고 생각했는데, 굿즈는 좀 마음에 들지 않았다. 티셔츠가 있으니 그러려니 하고 넘어갔다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods.png&#34;
	width=&#34;668&#34;
	height=&#34;542&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods_hud2bc484bb6b941c9d4cfd7138157e15b_212776_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods_hud2bc484bb6b941c9d4cfd7138157e15b_212776_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;굿즈 목록.. 스티커가 너무 마음에 안들었다. 그리고 마스크랑 소독제 멈춰!&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;123&#34;
		data-flex-basis=&#34;295px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;토요일과 일요일 이틀동안 진행이 됐고, 각 요일에 열리는 세션 목록이 달랐다. (&lt;a class=&#34;link&#34; href=&#34;https://2022.pycon.kr/program/talk-schedule&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;발표 시간표 링크 바로가기&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;데이터 엔지니어링 항목이 있고, 좀 더 끌리는 주제들이 많은 토요일로 신청하고 싶었으나 일정이 있어 일요일로 했다. 결론부터 말하면 오프라인에서도 발표 세션은 온라인으로 진행됐기 때문에 모든 세션이 녹화되어 상관없었다. (발표 세션 링크는 위 &lt;code&gt;발표 시간표 링크 바로가기&lt;/code&gt; 링크 안에 있다.)&lt;/p&gt;
&lt;p&gt;9시 50분쯤 도착했는데, 10시부터 입장이 가능해서 앞에 사람들이 서있었다. 입장 수속을 하고나니 웬걸? 내 양손에 무언가를 바리바리 챙겨주셨다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/001.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/001_hua4ea9b356395fbbe25dafa19f336781a_2699392_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/001_hua4ea9b356395fbbe25dafa19f336781a_2699392_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;쇼핑백과 에코백 안에 한 가득이다. 갑자기 기분이 좋아졌음.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;내부는 총 2층으로 이루어져 있었다. 1층에는 데스크와 2개의 세션 룸, 파이썬 도서관, 몇 개의 스탬프 부스가 있었다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/002.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/002_hu2bf5e85be94a5def470e9d8e76c1bf52_2882754_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/002_hu2bf5e85be94a5def470e9d8e76c1bf52_2882754_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;파이썬 도서관 책 목록. 대부분 인공지능 책이었다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/003.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/003_hu0de4ec95b5fe85cb0e1317ec34e477e3_2529723_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/003_hu0de4ec95b5fe85cb0e1317ec34e477e3_2529723_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;스탬프 부스. 후원사 판넬과 스탬프를 찍을 수 있는 책상. 스탬프 모양은 후원사 마크로 나온다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;스탬프를 팜플렛에 찍고 나서 1층에 계신 요기요 직원들과 이벤트 이야기를 하고 (요기요에서 주최하는 이벤트) 2층으로 올라갔다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/004.jpeg&#34;
	width=&#34;3456&#34;
	height=&#34;3456&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/004_hu20a1c41fcc6e4eeb9096bdb18aeb16ef_2488058_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/004_hu20a1c41fcc6e4eeb9096bdb18aeb16ef_2488058_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;2층 이벤트 홀 전경. 앞에는 채용담당자분들의 부스 준비로 분주했다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;아직 채용부스가 준비되지 않아 분주했다. 부스는 10시 30분부터 운영됐다.&lt;/p&gt;
&lt;p&gt;그전까지 나는 분주히 15개의 스탬프 부스를 돌아 모두 채웠다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/stamp.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/stamp_hu3faf00aa4ba1141221cad513e2be24a6_2557400_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/stamp_hu3faf00aa4ba1141221cad513e2be24a6_2557400_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;스탬프 투어 완료. 완료하면 작은 기념품을 준다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;스탬프를 모두 채우고, 이직 생각이 없는 나는 &amp;lsquo;이제 뭐하지..&amp;rsquo; 생각을 하다 세션 시간표를 보니 &lt;code&gt;파이썬으로 실시간 데이터 처리를 시도해보자.&lt;/code&gt; 라는 세션이 있길래 들으러 1층에 내려갔다. (&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=81krehGVJhI&amp;amp;list=PLZPhyNeJvHRn5DjhDAZFTKjJCJSMqeirO&amp;amp;index=17&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;유튜브 링크&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;세션룸은 앞에 빔프로젝터 2개와 의자가 놓여져 있는 다소 열악한 환경이었다. 내가 들은 처음이자 마지막 파이콘2022의 세션이었다.&lt;/p&gt;
&lt;p&gt;어느덧 점심시간이 되고, 12시부터 운영하는 스낵부스를 찾아갔다.&lt;/p&gt;
&lt;p&gt;모든 사람을 포용하는 파이콘의 행동강령때문인지, 비건 메뉴와 글루텐 프리 메뉴가 있었다. 나는 글루텐 프리를 골랐다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/005.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/005_huae1ac2a18e1bbb3b820dba9ef4f16522_3465155_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/005_huae1ac2a18e1bbb3b820dba9ef4f16522_3465155_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;귀여운 상자.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;
&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/006.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/006_hu10bac327646881748e823f1447ebfd9d_2734963_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/006_hu10bac327646881748e823f1447ebfd9d_2734963_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;안에는 빵이 있다. 빵이 맛있었다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;오후에 시간이 비었다. 자유롭게 이야기 할 수 있는 장소가 있고, 어떤 주제로 이야기할지 적어놓는 화이트보드가 있었다. AI에 대해 얘기하는 시간이 있길래 참가해서 네트워킹을 했다. 다른 분들은 어떻게 일하고 어떤 일을 하는지 알 수 있었던 좋은 시간이었던 것 같다. (파이콘이 끝나고 이분들과 저녁까지 먹었다.)&lt;/p&gt;
&lt;p&gt;3시부터는 토크 콘서트가 열렸다. 채용 담당자분들을 필두로 이야기하는 취업 이야기를 시작으로, &amp;lsquo;알면 쓸모있는 파이썬 잡학 지식(알쓸파잡)&amp;lsquo;에 나도 참가했다.&lt;/p&gt;
&lt;p&gt;파이썬 의존성 관리 툴로 Poetry를 소개했다. 자기소개시 데이터 사이언티스트로 소개한 덕인지, 끝나고 학생분들이 찾아와서 커리어에 대한 질문을 하셨다. 취업전 내가 떠올라 아는 지식 내에서 열심히 상담해드렸다.&lt;/p&gt;
&lt;p&gt;그 후로 o/x 퀴즈랑, 경품 추첨등을 했는데 아쉽게 다 떨어졌다.&lt;/p&gt;
&lt;p&gt;집에 돌아와서 언박싱을 했다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods-home.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods-home_hueb217cc14d88db536e47275185880102_2737109_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/goods-home_hueb217cc14d88db536e47275185880102_2737109_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;가습기, 레고, 무선 충전기, 텀블러, 스티커, 옷 등등..&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;티셔츠들도 귀여워서 찍어봤다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-f.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-f_hua056c1b4954f1feb94c6732bbd5335d7_2126819_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-f_hua056c1b4954f1feb94c6732bbd5335d7_2126819_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;파이콘 티셔츠 앞&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;
&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-b.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-b_hu372c6a132a8a5771deebecf8cd8bb3ac_2156861_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/pycon-b_hu372c6a132a8a5771deebecf8cd8bb3ac_2156861_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;파이콘 티셔츠 뒤&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-f.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-f_hu2c2a61b36b27f156f13310a50b473b04_1973812_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-f_hu2c2a61b36b27f156f13310a50b473b04_1973812_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;원티드 굿즈 앞면&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;
&lt;img src=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-b.jpeg&#34;
	width=&#34;3024&#34;
	height=&#34;3024&#34;
	srcset=&#34;https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-b_hud38244e71109a162aa30adbbb4472553_1610887_480x0_resize_q75_box.jpeg 480w, https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%BD%982022-%ED%9B%84%EA%B8%B0/wanted-b_hud38244e71109a162aa30adbbb4472553_1610887_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;원티드 티셔츠 뒤&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;사실 굿즈만으로도 마음이 훈훈해졌지만 (집에 들고오는게 힘들었다.) 관심사가 일치하는 다양한 사람들과 네트워킹하는 재미도 쏠쏠해서 6만원이 전혀 아깝지 않았다. 내년에도 또 갈 것 같다.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Cloudfront - OAI를 통한 S3 URL 공개</title>
        <link>https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/</link>
        <pubDate>Fri, 09 Sep 2022 23:13:41 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/</guid>
        <description>&lt;h2 id=&#34;들어가며&#34;&gt;들어가며&lt;/h2&gt;
&lt;p&gt;S3에 저장된 객체를 퍼블릭으로 공개를 할 경우, 자신의 S3 버킷 구조가 그대로 노출되는 문제와 함께, 보안이 우려되는 경우가 있다.&lt;/p&gt;
&lt;p&gt;이 경우 Cloudfront와 원본 액세스 ID, 즉 OAI를 사용해 S3 버킷 구조를 숨기고, 객체를 외부에 공개할 수 있다.&lt;/p&gt;
&lt;h2 id=&#34;객체를-공개할-s3-버킷-생성&#34;&gt;객체를 공개할 S3 버킷 생성&lt;/h2&gt;
&lt;p&gt;외부 사용자들에게 공개할 객체를 담는 버킷을 생성한다. 나같은 경우에는 링크드인에 수료증 링크를 걸기 위해 &lt;code&gt;kade-certificate&lt;/code&gt;라는 버킷을 생성하고 그 안에 수료증 파일들을 저장했다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/bucket.png&#34;
	width=&#34;2160&#34;
	height=&#34;1048&#34;
	srcset=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/bucket_hud8a9dc34686e478e4610d4d84f6bd6ae_210690_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/bucket_hud8a9dc34686e478e4610d4d84f6bd6ae_210690_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;버킷 내부 구조&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;206&#34;
		data-flex-basis=&#34;494px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;콘솔을-사용하여-oai-생성-및-cloudfront-배포에-추가&#34;&gt;콘솔을 사용하여 OAI 생성 및 Cloudfront 배포에 추가&lt;/h2&gt;
&lt;p&gt;Cloudfront 페이지에서 배포 생성을 클릭하고, 생성한 S3 버킷을 원본 도메인으로 선택한다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/2.png&#34;
	width=&#34;1650&#34;
	height=&#34;842&#34;
	srcset=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/2_hu64f06fcdab63cbbf870274c729bdbdd5_111135_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/2_hu64f06fcdab63cbbf870274c729bdbdd5_111135_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;원본 도메인 선택&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;195&#34;
		data-flex-basis=&#34;470px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;이후 하단의 S3 버킷 액세스에서 Legacy access identities 항목을 선택하고, 새 OAI를 생성한다.&lt;/p&gt;
&lt;p&gt;생성한 OAI를 선택한다.&lt;/p&gt;
&lt;p&gt;그리고 버킷 정책 항목에서 예, 버킷 정책 업데이트를 선택하면 자동으로 S3 정책을 수정해준다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/3.png&#34;
	width=&#34;1646&#34;
	height=&#34;790&#34;
	srcset=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/3_hu7715cdf6496eac4e552801401ceaaaf4_154848_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/3_hu7715cdf6496eac4e552801401ceaaaf4_154848_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;OAI 생성 후 선택 화면&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;208&#34;
		data-flex-basis=&#34;500px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;GET 요청만 수락하므로 하단의 모든 항목들의 수정 없이 배포 생성 버튼을 클릭한다.&lt;/p&gt;
&lt;h2 id=&#34;생성된-cloudfront-url로-접근&#34;&gt;생성된 Cloudfront url로 접근&lt;/h2&gt;
&lt;p&gt;배포가 생성되고 나면 다음 화면과 같다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/4.png&#34;
	width=&#34;2690&#34;
	height=&#34;498&#34;
	srcset=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/4_hu37aa91a9049c7ef8250039faf64da06b_103025_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/4_hu37aa91a9049c7ef8250039faf64da06b_103025_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Cloudfront 배포 생성 후 화면&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;540&#34;
		data-flex-basis=&#34;1296px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;도메인 이름에 접근 가능한 URL이 생성된다. (d3sdxwnh25t6pc.cloudfront.net 처럼)&lt;/p&gt;
&lt;p&gt;이 URL 뒤에 버킷내에 저장된 객체명을 붙여 접근하면 다음과 같이 외부에서 접근이 가능함을 알 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/5.png&#34;
	width=&#34;2880&#34;
	height=&#34;1790&#34;
	srcset=&#34;https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/5_hu30ee37daabfeec947a4d20a951b04d08_586527_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/cloudfront-oai%EB%A5%BC-%ED%86%B5%ED%95%9C-s3-url-%EA%B3%B5%EA%B0%9C/5_hu30ee37daabfeec947a4d20a951b04d08_586527_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;https://d3sdxwnh25t6pc.cloudfront.net/2022_udacity_aws_ml.pdf 로 접근했을 때 정상적으로 수료증이 출력된다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;160&#34;
		data-flex-basis=&#34;386px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;이처럼 Cloudfront와 OAI를 사용하여 사용자의 버킷 URL은 숨긴채, 외부에서 접근을 허용할 수 있다.&lt;/p&gt;
&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;원본 액세스 ID(OAI)를 사용하여 Amazon S3 콘텐츠에 대한 액세스 제한: &lt;a class=&#34;link&#34; href=&#34;https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[Udacity] AWS Machine Learning Engineer Foundations 2022 후기</title>
        <link>https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/</link>
        <pubDate>Tue, 06 Sep 2022 13:47:25 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/udacity-logo-vector.png" alt="Featured image of post [Udacity] AWS Machine Learning Engineer Foundations 2022 후기" /&gt;&lt;h1 id=&#34;들어가며&#34;&gt;들어가며&lt;/h1&gt;
&lt;p&gt;최근 흥미로운 프로그램을 발견했다. Udacity에서 제공하는 &lt;a class=&#34;link&#34; href=&#34;https://www.udacity.com/scholarships/aws-machine-learning-scholarship-program&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS Machine Learning Engineer Scholarship Program&lt;/a&gt;이다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/main.png&#34;
	width=&#34;2402&#34;
	height=&#34;1508&#34;
	srcset=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/main_hu6cbafecd091f171ac266320bff05857b_2645176_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/main_hu6cbafecd091f171ac266320bff05857b_2645176_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;메인 화면&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;159&#34;
		data-flex-basis=&#34;382px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;AWS 이름을 달고 있는 이유는 이 과정 내에서 AWS 제품인 DeepRacer와 DeepComposer를 실습해 볼 수 있기 때문이다.&lt;/p&gt;
&lt;p&gt;끝까지 수료하면 평가를 치르게 되는데, 기준 점수 이상이 나오면 수료증을 발급해주고, 상위 325등 이내의 성적으로 수료시 후속 프로그램인 &lt;a class=&#34;link&#34; href=&#34;https://www.udacity.com/course/aws-machine-learning-engineer-nanodegree--nd189&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AWS Machine Learning Engineer Nanodegree&lt;/a&gt; 도 무료로 수강할 수 있는 기회를 제공한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;At the end of the AWS Machine Learning Foundations Course, learners will take an assessment from which top performers will be selected for one of 325 follow-up scholarships to one of Udacity’s most popular and recently refreshed Nanodegree programs: The AWS Machine Learning Engineer Nanodegree program.&lt;/p&gt;
&lt;p&gt;AWS 기계 학습 기초 과정을 마친 325명의 학습자는 Udacity의 가장 인기 있고 최근에 새로워진 Nanodegree 프로그램 중 하나인 AWS 기계 학습 엔지니어 Nanodegree 프로그램을 수강할 수 있게 됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Udemy의 nano degree는 평은 좋지만 악랄한 가격으로 유명한데, 무료로 제공한다는 이 기회를 놓칠 수 없어서 냉큼 신청했다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/nanodegree-price.png&#34;
	width=&#34;400&#34;
	height=&#34;363&#34;
	srcset=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/nanodegree-price_hu2d96f059bb465937a3859b9ea85bb35d_33363_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/nanodegree-price_hu2d96f059bb465937a3859b9ea85bb35d_33363_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;악랄한 가격.. 환율 1370원 기준 약 232만원. 지금은 할인중이다.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;110&#34;
		data-flex-basis=&#34;264px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;강의-구성&#34;&gt;강의 구성&lt;/h1&gt;
&lt;p&gt;강의는 크게 4가지 구성으로 이루어져 있다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Introduction to the Program&lt;/li&gt;
&lt;li&gt;AWS Machine Learning Foundations&lt;/li&gt;
&lt;li&gt;Certification Assessment&lt;/li&gt;
&lt;li&gt;Certificate of Completion Assessment&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1-introduction-to-the-program&#34;&gt;1. Introduction to the Program&lt;/h2&gt;
&lt;p&gt;첫번째 챕터는 오리엔테이션으로 이루어져 있다.&lt;/p&gt;
&lt;p&gt;Udacity에 대해 소개하고, 강사진은 누구이며, 선수지식은 무엇이 필요한지, 이 코스에서 무엇을 배울지에 대해 소개한다.&lt;/p&gt;
&lt;p&gt;선수지식은 통계와 파이썬 프로그래밍에 대해 기초수준만 필요하다고 나와있다.&lt;/p&gt;
&lt;p&gt;가볍게 넘어갔다.&lt;/p&gt;
&lt;h2 id=&#34;2-aws-machine-learning-foundations&#34;&gt;2. AWS Machine Learning Foundations&lt;/h2&gt;
&lt;p&gt;본격적인 강의 챕터로, 크게 네 가지 구성으로 이루어져 있다.&lt;/p&gt;
&lt;p&gt;첫 번째는 아주 간단한 머신러닝 태스크들의 정의와 문제들을 해결하기 위해 머신러닝을 어떻게 적용하는지 학습한다. 지도, 비지도 및 강화학습에 대한 소개로 봐도 무방한다.&lt;/p&gt;
&lt;p&gt;두 번째는 AWS를 활용한 머신러닝인데, DeepRacer와 DeepComposer 서비스를 이용한다.&lt;/p&gt;
&lt;p&gt;DeepRacer는 강화 학습을 통한 자율 주행 자동차를 훈련시킬 수 있는 서비스, DeepComposer는 작곡 서비스이다. 솔직히 말하면 장난감에 가깝다. 차라리 SageMaker와 같은 서비스를 소개했으면 어땠을까 싶었는데, 워낙 기초 수준의 강의이다 보니 수강생의 흥미를 돋구기 위해 선택한건지, 잘 사용되지 않는 AWS의 서비스를 살리고자(&amp;hellip;)하는 건지는 잘 모르겠다. 여기서 이 강의에 대해 크게 실망을 했다.&lt;/p&gt;
&lt;p&gt;뒤에 두 파트는 소프트웨어 엔지니어링 파트로, 리팩토링, 테스팅, 깃을 통한 버전관리에 대해 소개한다. 모두 기초적인 수준이기 때문에 가볍게 듣고 넘어갔다.&lt;/p&gt;
&lt;p&gt;세 번째 챕터는 평가(시험)을 치루게 된다.&lt;/p&gt;
&lt;h1 id=&#34;평가&#34;&gt;평가&lt;/h1&gt;
&lt;p&gt;세 번째 챕터는 두 번째 챕터(AWS Machine Learning Foundations)에서 학습한 내용을 바탕으로 온라인 시험을 치룬다.&lt;/p&gt;
&lt;p&gt;감독은 따로 없고 온라인상으로 60분동안 시험을 치르게 된다.&lt;/p&gt;
&lt;p&gt;60%이상은 수료, 90%이상 부터는 나노 디그리 프로그램에 대한 자격을 얻는다고 한다. 위에 325등과 상이한 내용이라 혼란스러웠다.&lt;/p&gt;
&lt;p&gt;시험 난이도는 생각보다 까다로워서 당황했다. 굉장히 만만히 봤었는데, 당황스러움을 안겨주는 문제들이 많았다. 높은 성적을 받고 싶다면 꼼꼼하게 보는 것을 추천한다. 챕터 2에서 세부 파트가 끝날 때 마다 퀴즈가 나오는데, 틀린 문제들의 오답 노트를 미리 작성했음에도 불구하고 꽤 난항을 겪었다.&lt;/p&gt;
&lt;p&gt;그래도 다행히 한 번에 수료를 하였고, 점수는 따로 공개되지 않았다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/cert.png&#34;
	width=&#34;869&#34;
	height=&#34;658&#34;
	srcset=&#34;https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/cert_hu032a3d659755e4e5cfea1986e8d63cf5_107265_480x0_resize_box_3.png 480w, https://Haebuk.github.io/p/udacity-aws-machine-learning-engineer-foundations-2022-%ED%9B%84%EA%B8%B0/cert_hu032a3d659755e4e5cfea1986e8d63cf5_107265_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;수료증&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;132&#34;
		data-flex-basis=&#34;316px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;후기&#34;&gt;후기&lt;/h1&gt;
&lt;p&gt;솔직히 이 강의는 굉장히 별로였고.. 초심자에게도 딱히 추천하지 않는다.&lt;/p&gt;
&lt;p&gt;얻을 게 없다. 머신러닝 기초에 대해 배우고 싶으면 양질의 강의나 책이 매우 많기 때문에 이를 사용하는 것을 추천하며, AWS의 머신러닝 서비스를 사용해보고자 하는 목적으로도 비추천한다.&lt;/p&gt;
&lt;p&gt;오로지 나노디그리를 공짜로 얻기 위한 목적으로 듣는 것이 좋은 것 같다. 11월 6일 나노디그리 대상자를 발표한다고 하니, 그때까지  기다려야 겠다.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>보안</title>
        <link>https://Haebuk.github.io/p/%EB%B3%B4%EC%95%88/</link>
        <pubDate>Sun, 10 Jul 2022 17:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EB%B3%B4%EC%95%88/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EB%B3%B4%EC%95%88/Kubernetes-Logo.wine.png" alt="Featured image of post 보안" /&gt;&lt;h2 id=&#34;보안&#34;&gt;보안&lt;/h2&gt;
&lt;h3 id=&#34;서비스-어카운트&#34;&gt;서비스 어카운트&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;사용자 어카운트(UserAccount): EKS에서는 IAM과 연결되어 있어 쿠버네티스 관리 대상이 아니고, 네임스페이스의 영향을 받지 않음&lt;/li&gt;
&lt;li&gt;서비스 어카운트(ServiceAccount): 쿠버네티스에서만 사용, 파드에서 실행되는 프로세스를 위해 할당. 네임스페이스와 연결된 리소스
&lt;ul&gt;
&lt;li&gt;파드 기동 시 반드시 서비스 어카운트 한 개를 할당해야 하며, 서비스 어카운트 기반 인증/인가를 하고 있음&lt;/li&gt;
&lt;li&gt;지정하지 않을 시 기본 서비스 어카운트가 할당&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;서비스-어카운트-생성&#34;&gt;서비스 어카운트 생성&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 서비스 어카운트 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create serviceaccount sample-serviceaccount
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;인증이 필요한 개인 저장소에 저장된 이미지를 가져오기 위해 시크릿인 imagePullSecrets를 설정하는 경우 kubectl patch 명령어를 사용하거나 생성할 때 매니페스트를 사용하여 서비스 어카운트 생성&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 생성 후 kubectl patch 명령어로 적용&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl patch serviceaccount sample-serviceaccount &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-p &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;imagePullSecrets&amp;#34;: [{&amp;#34;name&amp;#34;: &amp;#34;myregistrykey&amp;#34;}]}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;서비스-어카운트와-토큰&#34;&gt;서비스 어카운트와 토큰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;생성할 때는 지정하지 않은 시크릿 항목이 존재
&lt;ul&gt;
&lt;li&gt;kubernetes.io/service-account-token 타입의 시크릿으로 자동 생성&lt;/li&gt;
&lt;li&gt;토큰을 변경하고 싶을 떄는 해당 시크릿을 삭제하면 자동으로 재생성됨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 서비스 어카운트 정보 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get serviceaccounts sample-serviceaccount -o yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 연결된 시크릿&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets sample-serviceaccount-token-nmmb9 -o yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;서비스 어카운트는 이 토큰으로 쿠버네티스 API에 대한 인증 정보로 사용가능&lt;/li&gt;
&lt;li&gt;파드에 할당된 서비스 어카운트의 할당된 권한이 그대로 파드에 할당되는 권한이 됨&lt;/li&gt;
&lt;li&gt;파드의 서비스 어카운트를 명시적으로 지정하려면 spec.serviceAccountName 지정&lt;/li&gt;
&lt;li&gt;서비스 어카운트를 지정한 컨테이너를 생성 후 기동된 파드 정보를 확인하면 토큰이 볼륨으로 자동으로 포함되어 있는 것을 알 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 토큰이 볼륨으로 마운트 된 것을 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-serviceaccount-pod -o yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## API 서버 인증에 사용되는 토큰과 인증서 등의 파일 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-serviceaccount-pod -- ls /var/run/secrets/kubernetes.io/serviceaccount/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;서비스 어카운트에 적절한 RBAC 설정을 한 후 컨테이너에서 다음과 같이 실행하면 API 접근을 위한 인증/인가가 성공하고 기본 네임스페이스로 동작하고 있는 파드 목록 확인 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너에서 bash 실행&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-serviceaccount-pod -- bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## curl 명령어 설치&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@sample-serviceaccount-pod:/## apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt -y install curl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 토큰을 환경변수로 정의 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@sample-serviceaccount-pod:/## &lt;span class=&#34;nv&#34;&gt;TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cat /var/run/secrets/kubernetes.io/serviceaccount/token&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 쿠버네티스 API 서버에서 파드 목록 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@sample-serviceaccount-pod:/## curl -H &lt;span class=&#34;s2&#34;&gt;&amp;#34;Authorization: Bearer &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TOKEN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cacert /var/run/secrets/kubernetes.io/serviceaccount/ca.crt &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;https://kubernetes/api/v1/namespaces/default/pods
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;토큰-자동-마운트&#34;&gt;토큰 자동 마운트&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;설정을 비활성화 하려면 automountServiceAccountToken을 false로 설정
&lt;ul&gt;
&lt;li&gt;해당 서비스 어카운트로 기동하는 파드는 토큰을 볼륨으로 마운트 하지 않음&lt;/li&gt;
&lt;li&gt;토큰을 사용할 때는 명시적으로  spec.automountServiceAccountToken을 true로 설정하면 마운트 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;도커-레지스트리-인증-정보-자동-설정&#34;&gt;도커 레지스트리 인증 정보 자동 설정&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;imagePullSecret이 지정된 서비스 어카운트를 할당한 파드가 기동한 경우 자동으로 파드의 서비스 어카운트을 사용하여 도커 이미지를 가져온다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## spec.imagePullSecrets가 자동으로 포함된 것을 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-sa-pullsecret-pod -o yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;spec.imagePullSecrets는 서비스 어카운트에 복수로 지정이 가능하므로 자동으로 여러 인증 정보 설정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rbacrole-based-access-control&#34;&gt;RBAC(Role Based Access Control)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;어떤 조작을 허용하는지를 결정하는 롤을 생성하고 서비스 어카운트 등의 사용자에게 롤을 연결(롤바인딩)하여 권한을 부여&lt;/li&gt;
&lt;li&gt;AggregationRule을 사용해 여러 롤을 집약한 롤을 생성하여 관리성을 향상할 수 있음&lt;/li&gt;
&lt;li&gt;롤과 롤바인딩에는 네임스페이스 수준의 리소스와 클러스터 수준의 리소스 두 가지 존재
&lt;ul&gt;
&lt;li&gt;네임스페이스 수준의 리소스: 롤, 롤바인딩&lt;/li&gt;
&lt;li&gt;클러스터 수준의 리소스: 클러스터롤, 클러스터롤바인딩&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;롤과-클러스터롤&#34;&gt;롤과 클러스터롤&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;네임스페이스 범위의 리소스를 대상으로 인가 설정 가능&lt;/li&gt;
&lt;li&gt;클러스터롤의 경우 노드/네임스페이스/영구볼륨과 같은 클러스터 범위의 리소스나 쿠버네티스 API 정보를 가져오는 nonResourceURL에 대한 권한도 설정 가능&lt;/li&gt;
&lt;li&gt;주로 apiGroups, resources, verbs 세 가지 지정
&lt;ul&gt;
&lt;li&gt;apiGroups와 resources로 지정된 리소스에 대해 verbs 권한 인가&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;롤에 지정할 수 있는 실행 가능한 조작(verbs)&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;종류&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;모두 처리&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create&lt;/td&gt;
&lt;td&gt;생성&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;delete&lt;/td&gt;
&lt;td&gt;삭제&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;get&lt;/td&gt;
&lt;td&gt;조회&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;list&lt;/td&gt;
&lt;td&gt;목록 조회&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;patch&lt;/td&gt;
&lt;td&gt;일부 업데이트&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;update&lt;/td&gt;
&lt;td&gt;업데이트&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;watch&lt;/td&gt;
&lt;td&gt;변경 감시&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;주의 사항
&lt;ol&gt;
&lt;li&gt;디플로이먼트 리소스에 대해 롤을 기술할 때 여러 apiGroups가 존재&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;extensions/v1beta1, extensions/v1beta2, apps/v1으로 변경되어 왔음&lt;/li&gt;
&lt;li&gt;모든 디플로이먼트 리소스를 대상으로 롤을 생성하는 경우에 주의&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;deployment 리소스와 deployment/scale 서브 리소스는 개별적으로 지정&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;deployment/scale이 지정되어 있지 않으면 레플리카 수를 변경하는 스케일 처리 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;롤-생성&#34;&gt;롤 생성&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;rules는 여러 개 설정 가능&lt;/li&gt;
&lt;li&gt;네임스페이스 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;클러스터롤-생성&#34;&gt;클러스터롤 생성&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;rules에 noneResourceURLs 지정 가능
&lt;ul&gt;
&lt;li&gt;헬스 체크용 엔드포인트나 버전 정보 표시용 엔드포인트의 URL&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;metadata.namespace 지정 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;클러스터롤의-aggregation&#34;&gt;클러스터롤의 Aggregation&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;여러 클러스터롤의 정의를 읽는 기능&lt;/li&gt;
&lt;li&gt;클러스터롤에 정의된 레이블 기반, 집계되는 쪽 클러스터롤에 정의된 롤은 반영되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 집계된 클러스터롤 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get clusterroles sample-aggregated-clusterrole -o yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;나중에 집계되는 측의 클러스터롤을 변경하는 경우에도 집계되는 측의 클러스터롤에 자동으로 반영&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;쿠버네티스가-생성하는-클러스터롤&#34;&gt;쿠버네티스가 생성하는 클러스터롤&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;단순한 권한을 사용하는 경우 프리셋 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;클러스터롤명&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cluster-admin&lt;/td&gt;
&lt;td&gt;모든 리소스 관리 가능&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;admin&lt;/td&gt;
&lt;td&gt;클러스터롤 편집 + 네임스페이스 수준의 RBAC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;edit&lt;/td&gt;
&lt;td&gt;읽기 쓰기&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;view&lt;/td&gt;
&lt;td&gt;읽기 전용&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;롤바인딩과-클러스터롤바인딩&#34;&gt;롤바인딩과 클러스터롤바인딩&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;roleRef에서 연결하는 롤과 subjects에 연결하는 사용자나 서비스 어카운트 지정&lt;/li&gt;
&lt;li&gt;하나의 롤바인딩당 하나의 롤만 가능, subjects에는 여러 사용자나 서비스 어카운트 지정 가능&lt;/li&gt;
&lt;li&gt;롤바인딩: 특정 네임스페이스에 롤 또는 클러스터 롤에서 정의된 권한 부여
&lt;ul&gt;
&lt;li&gt;네임스페이스 새로 생성시 그 네임스페이스에도 같은 롤바인딩 추가해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;클러스터롤바인딩: 모든 네임스페이스에 클러스터롤에서 정의한 권한 부여
&lt;ul&gt;
&lt;li&gt;네임스페이스 새로 생성해도 네임스페이스 간에 같은 권한 부여 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;롤바인딩-생성&#34;&gt;롤바인딩 생성&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;사용자에 대해 특정 네임스페이스에서 롤 또는 클러스터롤에 정의한 권한 부여&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;클러스터롤바인딩-생성&#34;&gt;클러스터롤바인딩 생성&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;사용자에 대해 모든 네임스페이스에서 클러스터롤로 정의된 권한 부여&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;보안-컨텍스트&#34;&gt;보안 컨텍스트&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;각 컨테이너에 대한 보안 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;설정 가능 항목&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;종류&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;privileged&lt;/td&gt;
&lt;td&gt;특수 권한을 가진 컨테이너로 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;capabilities&lt;/td&gt;
&lt;td&gt;Capabilities 추가와 삭제&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;allopPrivilegeEscalation&lt;/td&gt;
&lt;td&gt;컨테이너 실행 시 상위 프로세스보다 많은 권한을 부여할지 여부&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;readOnlyRootFileSystem&lt;/td&gt;
&lt;td&gt;root 파일 시스템을 읽기 전용으로 할지 여부&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;runAsUser&lt;/td&gt;
&lt;td&gt;실행 사용자&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;runAsGroup&lt;/td&gt;
&lt;td&gt;실행 그룹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;runAsNonRoot&lt;/td&gt;
&lt;td&gt;root에서 실행 거부&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;seLinuxOptions&lt;/td&gt;
&lt;td&gt;SELinux 옵션&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;특수-권한-컨테이너-생성&#34;&gt;특수 권한 컨테이너 생성&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;spec.containers[].securityContext.privileged를 true로 설정&lt;/li&gt;
&lt;li&gt;컨테이너 내부에서 기동하는 프로세스의 리눅스 Capabilities가 호스트와 동등한 권한을 가짐&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;capabilities-부여&#34;&gt;Capabilities 부여&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;더 세분화된 특정 Capabilities 부여/제거 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## Capabilities 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-capabilities -- capsh --print &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep Current
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;root-파일-시스템의-읽기-전용-설정&#34;&gt;root 파일 시스템의 읽기 전용 설정&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너 이미지에 포함된 파일 등을 읽기 전용으로 설정 가능&lt;/li&gt;
&lt;li&gt;root 파일 시스템을 읽기 전용으로 설정하면 커널 관련 파일 등을 변경할 수 없어 보안성 향상&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파일 시스템을 읽기 전용으로 마운트&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-rootfile-readonly -- touch /etc/os-release
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;네트워크-정책&#34;&gt;네트워크 정책&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;클러스터 내부에서 파드 간에 통신할 경우 트래픽 룰을 규정&lt;/li&gt;
&lt;li&gt;네트워크 정책을 사용하지 않을 경우 모든 파드는 서로 통신이 가능&lt;/li&gt;
&lt;li&gt;네트워크 정책을 사용한다면 네임스페이스별로 트래픽을 전송하지 못하게 하거나 모든 파드 간 통신을 차단하고 특정 파드 간 통신을 허용하는 화이트리스트 방식 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;네트워크-정책-생성&#34;&gt;네트워크 정책 생성&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;네트워크 정책은 인그레스(수신)과 이그레스(송신)로 구성
&lt;ul&gt;
&lt;li&gt;인그레스: 인바운드 방향의 트래픽 룰을 설정&lt;/li&gt;
&lt;li&gt;이그레스: 아웃바운드 방향의 트래픽 룰 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;설정 범위를 podSelector로 지정&lt;/li&gt;
&lt;li&gt;네트워크 정책은 네임스페이스별로 생성해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;네트워크 정책 종류와 통신 제한 범위&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;정책 종류&lt;/th&gt;
&lt;th&gt;인그레스 룰의 경우&lt;/th&gt;
&lt;th&gt;이그레스 룰의 경우&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;podSelector&lt;/td&gt;
&lt;td&gt;특정 파드에서 들어오는 통신 허가&lt;/td&gt;
&lt;td&gt;특정 파드로 나가는 통신 허가&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;namespaceSelector&lt;/td&gt;
&lt;td&gt;특정 네임스페이스상에 있는 파드에서 들어오는 통신 허가&lt;/td&gt;
&lt;td&gt;특정 네임스페이스상에 있는 파드로 나가는 통신 허가&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipBlock&lt;/td&gt;
&lt;td&gt;특정 CIDR(IP 주소)에서 들어오는 통신 허용&lt;/td&gt;
&lt;td&gt;특정 CIDR(IP 주소)로 나가는 통신 허용&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;화이트리스트-방식과-블랙리스트-방식&#34;&gt;화이트리스트 방식과 블랙리스트 방식&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;화이트리스트 방식: 모든 트래픽을 차단해 두고 특정 트래픽만 허가&lt;/li&gt;
&lt;li&gt;블랙리스트 방식: 모든 트래픽 허가해 두고 특정 트래픽만 차단&lt;/li&gt;
&lt;li&gt;클라우드의 네트워크 기본 설정에서 인바운드는 전체를 차단하고 아웃바운드는 전체를 허용하는 것이 일반적&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;시크릿-리소스-암호화&#34;&gt;시크릿 리소스 암호화&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;시크릿 리소스는 base64로 인코드되어 있을 뿐으로 깃 저장소에 업로드하는 것은 보안상 위험할 수 있음&lt;/li&gt;
&lt;li&gt;별도의 암호화 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;kubesec&#34;&gt;kubesec&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;오픈 소스 소프트웨어&lt;/li&gt;
&lt;li&gt;KMS를 사용해 암호화 가능&lt;/li&gt;
&lt;li&gt;파일 전체를 암호화하지 않고 시크릿 구조를 유지한 채 값만 암호화하므로 가독성 높음&lt;/li&gt;
&lt;li&gt;시크릿 매니페스트를 암호화하기 때문에 깃 저장소에도 업로드 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;sealedsecret&#34;&gt;SealedSecret&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;오픈 소스 소프트웨어&lt;/li&gt;
&lt;li&gt;암호화된 SealedSecret이라는 커스텀 리소스 생성 후 클러스터에 등록하면 클러스터 내부에서 SealedSecret에서 시크릿 리소스로 변환되는 구조&lt;/li&gt;
&lt;li&gt;생성된 SealedSecret 리소스는 암호화되어 있기 때문에 깃 저장소에 배치 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;externalsecret&#34;&gt;ExternalSecret&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;오픈 소스 소프트웨어&lt;/li&gt;
&lt;li&gt;SealedSecret과 유사한 구조&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>유연한 고급 스케줄링</title>
        <link>https://Haebuk.github.io/p/%EC%9C%A0%EC%97%B0%ED%95%9C-%EA%B3%A0%EA%B8%89-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/</link>
        <pubDate>Sat, 25 Jun 2022 17:12:36 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EC%9C%A0%EC%97%B0%ED%95%9C-%EA%B3%A0%EA%B8%89-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EC%9C%A0%EC%97%B0%ED%95%9C-%EA%B3%A0%EA%B8%89-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/Kubernetes-Logo.wine.png" alt="Featured image of post 유연한 고급 스케줄링" /&gt;&lt;h2 id=&#34;유연한-고급-스케줄링&#34;&gt;유연한 고급 스케줄링&lt;/h2&gt;
&lt;h3 id=&#34;필터링과-스코어링&#34;&gt;필터링과 스코어링&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;필터링: 파드 스케줄시 충분한 리소스가 있는지, 필수 조건으로 지정한 레이블을 가진 노드인지 등을 체크&lt;/li&gt;
&lt;li&gt;스코어링: 필터링 후 노드 목록에 순위를 매겨 가장 적합한 노드를 계산&lt;/li&gt;
&lt;li&gt;필터링과 스코어링 이후 우선순위가 같은 스케줄링 대상 노드가 여러개 존재 시 무작위 선택&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;매니페스트에서-지정하는-스케줄링&#34;&gt;매니페스트에서 지정하는 스케줄링&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;사용자가 배치하고 싶은 노드를 선택하는 방법과 관리자가 배치하고 싶지 않은 노드를 지정하는 방법이 있음&lt;/li&gt;
&lt;li&gt;쿠버네티스 사용자가 배치하고 싶은 노드를 선택하는 방법&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;종류&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;nodeSelector(가장 단순한 노드 어피니티)&lt;/td&gt;
&lt;td&gt;단순한 노드 어피니티 기능&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;노드 어피니티&lt;/td&gt;
&lt;td&gt;특정 노드상에서만 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;노드 안티어피니티&lt;/td&gt;
&lt;td&gt;특정 노드 이외에서 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;인터파트 어피니티&lt;/td&gt;
&lt;td&gt;특정 파드가 존재하는 도메인(노드, 존)에서 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;인터파트 안티어피니티&lt;/td&gt;
&lt;td&gt;특정 파드가 존재하지 않는 도메인에서 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;빌트인-노드-레이블과-레이블-추가&#34;&gt;빌트인 노드 레이블과 레이블 추가&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;빌트인 노드 레이블: 노드에 미리 지정되어 있는 레이블&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 노드에 할당된 레이블 정보&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get nodes -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq &lt;span class=&#34;s2&#34;&gt;&amp;#34;.items[] | .metadata.labels&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## kubectl get nodes에서 확인한 노드명을 지정하여 레이블 부여&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl label node NODE_NAME &lt;span class=&#34;nv&#34;&gt;disktype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hdd &lt;span class=&#34;nv&#34;&gt;cpuspec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;low &lt;span class=&#34;nv&#34;&gt;cpugen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl label node NODE_NAME &lt;span class=&#34;nv&#34;&gt;disktype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ssd &lt;span class=&#34;nv&#34;&gt;cpuspec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;low &lt;span class=&#34;nv&#34;&gt;cpugen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl label node NODE_NAME &lt;span class=&#34;nv&#34;&gt;disktype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hdd &lt;span class=&#34;nv&#34;&gt;cpuspec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;high &lt;span class=&#34;nv&#34;&gt;cpugen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 노드 목록과 disktype 레이블 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl -L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;disktype,cpuspec,cpugen get node
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;nodeselector가장-단순한-노드-어피니티&#34;&gt;nodeSelector(가장 단순한 노드 어피니티)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;단순한 노드 어피니티만을 실행하는 경우&lt;/li&gt;
&lt;li&gt;equality-based는 단일 조건만 지정할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 반드시 disktype=ssd인 레이블을 가진 노드에서 기동&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-nodeselector -o wide
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;노드-어피니티&#34;&gt;노드 어피니티&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드를 특정 노드에 스케줄링하는 정책&lt;/li&gt;
&lt;li&gt;spec.affinity.nodeAffinity에 작성&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;노드 어피티니의 필수 스케줄링 정책과 우선 스케줄링 정책&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정 항목&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;requiredDuringSchedulingIgnoredDuringExecution&lt;/td&gt;
&lt;td&gt;필수 스케줄링 정책&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;preferredDuringSchedulingIgnoredDuringExecution&lt;/td&gt;
&lt;td&gt;우선적으로 고려되는 스케줄링 정책&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;필수 조건 requiredDuringSchedulingIgnoredDuringExecution이 만족되지 않은 스케줄링을 수행시 스케줄링에 실패&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preferredDuringSchedulingIgnoredDuringExecution는 어디까지나 우선적으로 스케줄링을 하는 것&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;필수 조건의 스케줄링 정책&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;nodeSelectorTerms: 어떤 조건의 노드가 스케줄링 가능한 노드인지 정의
&lt;ul&gt;
&lt;li&gt;복수 지정 가능, OR 조건&lt;/li&gt;
&lt;li&gt;matchExpressions: AND 조건이 되도록 여러 조건 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;## (A and B) or (C and D)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nodeSelectorTerms&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;우선 조건의 스케줄링 정책에서도 복수 조건 지정 가능
&lt;ul&gt;
&lt;li&gt;우선순위의 가중치(weight)와 조건 쌍 여러개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;## (A and B)가 가중치 X, (C and D)가 가중치 Y의 우선순위로 스케줄링 실시&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;preferredDuringSchedulingIgnoredDuringExecution&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;weight&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;X&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;preference&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;weight&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;Y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;preference&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;matchexpressions-오퍼레이터와-집합성-기준-조건&#34;&gt;matchExpressions 오퍼레이터와 집합성 기준 조건&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;matchExpressions는 key 레이블, 오퍼레이터, values 레이블이라는 세 가지 요소로 구성
&lt;ul&gt;
&lt;li&gt;values 레이블은 배열로 취급&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;레플리카셋/디플로이먼트/데몬셋/스테이트풀셀/잡의 셀렉터에서 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- &lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;disktype&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;operator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;In&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;ssd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;hdd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;## 한 줄로 정의한 경우&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- {&lt;span class=&#34;nt&#34;&gt;key: disktype, operator: In, values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ssd, hdd]}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;matchExpressions에서 사용 가능한 오퍼레이터&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;오퍼레이터 종류&lt;/th&gt;
&lt;th&gt;사용 방법&lt;/th&gt;
&lt;th&gt;의미&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;In&lt;/td&gt;
&lt;td&gt;A In [B, &amp;hellip;]&lt;/td&gt;
&lt;td&gt;레이블 A의 값이 [B, &amp;hellip;] 중 어느 하나 이상과 일치&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NotIn&lt;/td&gt;
&lt;td&gt;A NotIn [B, &amp;hellip;]&lt;/td&gt;
&lt;td&gt;레이블 A의 값이 [B, &amp;hellip;] 중 어느 것에도 일치하지 않음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Exists&lt;/td&gt;
&lt;td&gt;A Exists []&lt;/td&gt;
&lt;td&gt;레이블 A가 존재&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DoesNotExist&lt;/td&gt;
&lt;td&gt;A DoesNotExist []&lt;/td&gt;
&lt;td&gt;레이블 A가 존재하지 않음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gt&lt;/td&gt;
&lt;td&gt;A Gt [B]&lt;/td&gt;
&lt;td&gt;레이블 A의 값이 B보다 큼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Lt&lt;/td&gt;
&lt;td&gt;A Lt [B]&lt;/td&gt;
&lt;td&gt;레이블 A의 값이 B보다 작음&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Exists는 values 지정 불가 (key가 존재하는지 여부만이 조건)&lt;/li&gt;
&lt;li&gt;DoesNotExist는 key가 존재하지 않는 것이 조건&lt;/li&gt;
&lt;li&gt;Gt/Lt는 values에 하나의 정수 값만 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;노드-안티어피니티&#34;&gt;노드 안티어피니티&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드를 특정 노드 이외의 다른 노드에 스케줄링하는 정책&lt;/li&gt;
&lt;li&gt;spec.affinity.nodeAffinity 조건에 부정형 오퍼레이터를 지정(엄밀히 말하면 노드 안티어피니티는 존재하지 않음)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;인터파드-어피니티&#34;&gt;인터파드 어피니티&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;특정 파드가 실행되는 도메인에 파드를 스케줄링 하는 정책&lt;/li&gt;
&lt;li&gt;spec.affinity.podAffinity에 조건 지정&lt;/li&gt;
&lt;li&gt;가까이 있는 파드끼리는 통신 레이턴시가 적음&lt;/li&gt;
&lt;li&gt;노드들간 기능 차이가 적을 경우 노드를 의식하지 않고 파드 기반의 스케줄링만으로 제어 가능&lt;/li&gt;
&lt;li&gt;topology는 어느 범위(도메인)를 스케줄링 대상으로 할지를 지정&lt;/li&gt;
&lt;li&gt;requiredDuringSchedulingIgnoredDuringExecution은 배열로 여러 조건 지정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;## (A and B)의 파드와 같은 X에 있는 노드 or (C and D)의 파드와 같은 Y에 있는 노드&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;requiredDuringSchedulingIgnoredDuringExecution&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;labelSelector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;topologyKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;X&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;labelSelector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;matchExpressions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;topologyKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;Y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;인터파드-안티어피니티&#34;&gt;인터파드 안티어피니티&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;특정 파드가 없는 도메인에서 동작시키는 정책&lt;/li&gt;
&lt;li&gt;spec.affinity.PodAntiAffinity 지정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;여러-조건을-조합한-파드-스케줄링&#34;&gt;여러 조건을 조합한 파드 스케줄링&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;노드 어피니티/노드 안티어피니티/인터파드 어피니티/인터파드 안티어피니티 조합하여 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;테인트와-톨러레이션&#34;&gt;테인트와 톨러레이션&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;쿠버네티스 관리자가 배치하고 싶지 않은 노드를 지정하는 방법&lt;/li&gt;
&lt;li&gt;노드에 대한 테인트를 설정해 두고 그것을 허용할 수 있는 파드만 스케줄링 허가&lt;/li&gt;
&lt;li&gt;조건에 맞지 않는 파드를 노드에서 축출 가&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;테인트-부여&#34;&gt;테인트 부여&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;세 가지 파라미터를 사용한 Key=Value:Effect 형식으로 구성&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 특정한 한 대의 노드에 env=prd:Noschedule 테인트 부여&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl taint node NODE_NAME env:prd&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;NoSchedule
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 특정 레이블을 가진 모든 노드에 env=prd:NoSchedule 테인트 부여&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl taint node -l kubernetes.io/os&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;linux &lt;span class=&#34;nv&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;prd:NoSchedule
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## env를 키로 하는 테인트 삭제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl taint node NODE_NAME env-
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## env를 키로 하는 NoSchedule 테인트 삭제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl taint node NODE_NAME env:NoSchedule-
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 부여된 테인트 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe node NODE_NAME
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Key, Value는 임의의 값으로 지정하고 노드 어피니티와 동일하게 일치 여부를 조건으로 사용&lt;/li&gt;
&lt;li&gt;Effect는 테인트와 톨러레이션이 일치하지 않을 경우의 동작&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Effect 종류&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Effect 종류&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PreferNoSchedule&lt;/td&gt;
&lt;td&gt;가능한 한 스케줄링하지 않음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;스케줄링하지 않음(이미 스케줄링된 파드는 유지)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoExecute&lt;/td&gt;
&lt;td&gt;실행을 허가하지 않음(이미 스케줄링된 파드는 정지&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;prefernoschedule&#34;&gt;PreferNoSchedule&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드에 톨러레이션 설정이 없는 경우나 테인트에 일치하지 않아도 스케줄링 대상 노드가 됨&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;noschedule&#34;&gt;NoSchedule&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드에 톨러레이션 설정이 없는 경우나 테인트에 일치하지 않으면 스케줄링 허가하지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;noexecute&#34;&gt;NoExecute&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;일반적인 파드 정지처럼 terminationGracePeriodSeconds로 유예 기간 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;톨러레이션을-지정한-파드-기동&#34;&gt;톨러레이션을 지정한 파드 기동&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Key/Value/Effect 지정 후 테인트에서 부여된 Key/Value/Effect가 같은 경우 허용&lt;/li&gt;
&lt;li&gt;완전 일치뿐만 아니라 Key/Value/Effect중 하나를 미지정한 경우 와일드카드로 처리&lt;/li&gt;
&lt;li&gt;spec.tolerations로 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;톨러레이션에서 지정 가능한 오퍼레이터&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;오퍼레이터&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Equal&lt;/td&gt;
&lt;td&gt;Key = Value&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Exists&lt;/td&gt;
&lt;td&gt;Key 존재&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;NoSchedule과 NoExecute의 경우 조건과 Effect 모두 일치할 경우 스케줄링&lt;/li&gt;
&lt;li&gt;PreferNoSchedule은 조건이 일치하지 않아도 스케줄링 되지만 우선순위 하락&lt;/li&gt;
&lt;li&gt;어떤 테인트가 부여되든 관계엾이 스케줄링하는 경우 Exists 오퍼레이터만 지정하면 모든 조건에 일치 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;tolerations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;operator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Exists&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;noexecute-일정-시간-허용&#34;&gt;NoExecute 일정 시간 허용&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;조건이 일치하는 파드는 일정 기간만 가동을 허용하는 스케줄링을 할 때 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;여러-개의-테인트와-톨러레이션&#34;&gt;여러 개의 테인트와 톨러레이션&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;여러 테인트가 부여된 경우 파드의 톨러레이션은 모든 테인트 조건을 만족해야 해당 노드에 스케줄링 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;장애-시-부여되는-테인트와-축출&#34;&gt;장애 시 부여되는 테인트와 축출&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;노드 장애 발생 시 자동으로 NoExecute의 테인트 부여하여 자동으로 파드 축출&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;노드 장애시 부여되는 테인트&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Effect&lt;/th&gt;
&lt;th&gt;Key&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/not-ready&lt;/td&gt;
&lt;td&gt;노드 상태가 NotReady&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/unreachable&lt;/td&gt;
&lt;td&gt;노드와의 네트워크 접속이 되지 않는 경우 (Unknown)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;장애가 발생해도 계속 기동하고 싶은 경우 위 테인트에 대응하는 톨러레이션을 설정해야 함&lt;/li&gt;
&lt;li&gt;기본적으로 tolerationsSecond=300으로 부여되며 300초 이내에 노드 문제를 해결하지 않으면 파드가 축출됨&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;tolerations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;effect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;NoExecute&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;node.kubernetes.io/not-ready&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;operators&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Exists&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tolerationSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;300&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;effect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;NoExecute&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;node.kubernetes.io/unreachable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;operators&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Exists&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tolerationSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;300&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;쿠버네티스가-부여하는-그-외-테인트&#34;&gt;쿠버네티스가 부여하는 그 외 테인트&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Effect&lt;/th&gt;
&lt;th&gt;Key&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/memory-pressure&lt;/td&gt;
&lt;td&gt;노드에 메모리 부족&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/disk-pressure&lt;/td&gt;
&lt;td&gt;노드에 디스크 뷰족&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/pid-pressure&lt;/td&gt;
&lt;td&gt;노드에 PID 고갈&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/network-unavailable&lt;/td&gt;
&lt;td&gt;노드의 네트워크가 연결되지 않음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NoSchedule&lt;/td&gt;
&lt;td&gt;node.kubernetes.io/unschedulable&lt;/td&gt;
&lt;td&gt;kubectl cordon에 의해 스케줄링에서 제외됨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;문제가 발생해도 스케줄링하고 실행해야 하는 중요도가 높은 파드는 톨러레이션 설정&lt;/li&gt;
&lt;li&gt;클라우드 환경에서 노드가 생성되고 삭제될 때 부여되는 테인트도 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;priorityclass를-이용한-파드-우선순위와-축출&#34;&gt;PriorityClass를 이용한 파드 우선순위와 축출&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드가 이미 리소스의 한계까지 스케줄링된 상태에서 우선순위가 높은 파드를 생성하는 경우 기존 파드 축출 가능&lt;/li&gt;
&lt;li&gt;여러 파드가 스케줄링 대기 상태일 경우 스케줄링 순서는 수시로 정렬되어 우선순위가 높은 파드부터 스케줄링&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;priorityclass-생성&#34;&gt;PriorityClass 생성&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;system-으로 시작하는 이름은 예약어로 등록되어 있으 붙일 수 없음&lt;/li&gt;
&lt;li&gt;우선순위(value)와 설명(description)으로 구성됨&lt;/li&gt;
&lt;li&gt;globalDefault 옵션을 true로 설정시 PriorityClass가 지정되지 않은 파드에 기본 우선순위 설정으로 PriorityClass 부여&lt;/li&gt;
&lt;li&gt;globalDafault: true의 PriorityClass가 여러 개 존재할 경우 가장 우선순위가 낮은 PriorityClass가 기본 우선순위 설정으로 부여&lt;/li&gt;
&lt;li&gt;PriorityClass가 전혀 연결되지 않는 경우 priority는 0&lt;/li&gt;
&lt;li&gt;PriorityClass를 파드의 spec.podPriorityClass에 지정
&lt;ul&gt;
&lt;li&gt;해당 podPriorityClass를 가지고 spec.Priority를 자동 업데이트&lt;/li&gt;
&lt;li&gt;수동으로 spec.Priority 지정한 경우 파드 생성 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드에 지정된 우선순위 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-high-priority -o &lt;span class=&#34;nv&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{.spec.priority}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;파드 축출시 노드상에 원순위가 낮은 파드를 제외한 상태에서 어피니티 등의 조건을 만족하는지 판단&lt;/li&gt;
&lt;li&gt;우선순위가 낮은 파드에 인터파드 어피니티를 설정하면 스케줄링이 수행되지 않는 경우 있음
&lt;ul&gt;
&lt;li&gt;인터파드 어피니티는 우선순위가 높거나 같은 파드에 스케줄링 해야함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;우선순위-축출-비활성화&#34;&gt;우선순위 축출 비활성화&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;우선순위를 설정하고 싶지만 다른 파드를 축출하고 싶지 않은 경우 사용&lt;/li&gt;
&lt;li&gt;스케줄링시 우선순위가 높은 파드부터 스케줄링됨&lt;/li&gt;
&lt;li&gt;preemtionPolicy를 Never로 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;priorityclass와-poddisruptionbudget의-경합&#34;&gt;PriorityClass와 PodDisruptionBudget의 경합&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;PriorityClass에 의한 축출은 podDisruptionBudget을 고려하여 스케줄링&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;기타-스케줄링&#34;&gt;기타 스케줄링&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;커스텀 스케줄러 생성 가능
&lt;ul&gt;
&lt;li&gt;기존 쿠버네티스 스케줄러에 할당되지 않도록 파드에 spec.schedulerName 지정해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;스캐줄러를 구현하지 않은 경우 Pending 상태 유지&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>메인터넌스와 노드 정지</title>
        <link>https://Haebuk.github.io/p/%EB%A9%94%EC%9D%B8%ED%84%B0%EB%84%8C%EC%8A%A4%EC%99%80-%EB%85%B8%EB%93%9C-%EC%A0%95%EC%A7%80/</link>
        <pubDate>Wed, 22 Jun 2022 17:12:29 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EB%A9%94%EC%9D%B8%ED%84%B0%EB%84%8C%EC%8A%A4%EC%99%80-%EB%85%B8%EB%93%9C-%EC%A0%95%EC%A7%80/</guid>
        <description>&lt;img src="https://Haebuk.github.io/images/Kubernetes-Logo.wine.png" alt="Featured image of post 메인터넌스와 노드 정지" /&gt;&lt;h2 id=&#34;메인터넌스와-노드-정지&#34;&gt;메인터넌스와 노드 정지&lt;/h2&gt;
&lt;h3 id=&#34;스케줄링-대상에서-제외와-북귀cordonuncordon&#34;&gt;스케줄링 대상에서 제외와 북귀(cordon/uncordon)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;쿠버네티스 노드는 두 상태를 가짐
&lt;ul&gt;
&lt;li&gt;SchedulingDisabled: 노드가 스케줄링 대상에서 제외 (파드 신규 생성 x), 이미 실행 중인 파드에는 영향 없음&lt;/li&gt;
&lt;li&gt;SchedulingEnabled: 기본 상태&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 노드 중 하나를 SchedulingDisabled로 변경&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl cordon NODE_NAME
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 노드 중 하나를 SchedulingEnabled로 변경&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl uncordon NODE_NAME
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;노드-배출-처리로-인한-파드-축출drain&#34;&gt;노드 배출 처리로 인한 파드 축출(drain)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;실행 중인 파드를 축출해야 할 경우 사용&lt;/li&gt;
&lt;li&gt;SchedulingDisabled 상태로 바꾼 후 각 파드에 SIGTERM 신호를 보내므로 cordon을 실행할 필요 없음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 실행 중인 파드를 모두 축출(데몬셋 이외)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl drain NODE_NAME --force --ignore-daemonsets
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;drain시 다음과 같은 케이스에서는 에러가 발생
&lt;ul&gt;
&lt;li&gt;디플로이먼트등으로 관리되지 않는 파드 삭제(단일 파드는 파드 삭제 후 재성성이 불가하기 때문)
&lt;ul&gt;
&lt;li&gt;&amp;ndash;force옵션으로 해결 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;로컬 스토리지 사용하는 파드 삭제(로컬 스토리지 데이터가 삭제되므로)
&lt;ul&gt;
&lt;li&gt;&amp;ndash;delete-local-data로 해결 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;데몬셋이 관리하는 파드 삭제
&lt;ul&gt;
&lt;li&gt;&amp;ndash;ignore-daemonset 옵션을 사용해 해결 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;poddisruptionbudgetpdb을-사용한-안전한-축출&#34;&gt;PodDisruptionBudget(PDB)을 사용한 안전한 축출&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드 축출 시 특정 디플로이먼트하에 있는 레플리카가 동시에 정지되면 다운타임이 발생&lt;/li&gt;
&lt;li&gt;여러 노드에서 동시 배출 처리를 한 경우 해당 현상이 발생할 확률 증가
&lt;ul&gt;
&lt;li&gt;노드가 배출 처리를 할 때 파드를 정지할 수 있는 최대 수를 제한하는 리소스&lt;/li&gt;
&lt;li&gt;최소 기동 개수와 최대 정지 개수를 보면서 노드상의 파드 축출
&lt;ul&gt;
&lt;li&gt;HPA에 의해 파드 수가 변화하는 환경에서는 백분율로 지정하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;동시에 여러 노드를 배출 처리하는 경우에도 효과적&lt;/li&gt;
&lt;li&gt;minAvailable, minUnavailable은 둘 중 하나만 설정 가능&lt;/li&gt;
&lt;li&gt;파드에 여러 PDB가 연결되면 축출 실패&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>헬스체크와 컨테이너 라이프사이클</title>
        <link>https://Haebuk.github.io/p/%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC%EC%99%80-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4/</link>
        <pubDate>Sun, 19 Jun 2022 17:12:20 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC%EC%99%80-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC%EC%99%80-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4/Kubernetes-Logo.wine.png" alt="Featured image of post 헬스체크와 컨테이너 라이프사이클" /&gt;&lt;h2 id=&#34;헬스-체크와-컨테이너-라이프-사이클&#34;&gt;헬스 체크와 컨테이너 라이프 사이클&lt;/h2&gt;
&lt;h3 id=&#34;헬스-체크&#34;&gt;헬스 체크&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드가 정상인지 판단하는 기능&lt;/li&gt;
&lt;li&gt;이상 종료된 경우 spec.restartPolicy에 따라 파드 재시작&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;헬스체크-방법&#34;&gt;헬스체크 방법&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Probe 종류&lt;/th&gt;
&lt;th&gt;역할&lt;/th&gt;
&lt;th&gt;실패 시 동작&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Liveness Probe&lt;/td&gt;
&lt;td&gt;파드 내부의 컨테이너가 정상 동작 중인지 확인&lt;/td&gt;
&lt;td&gt;컨테이너 재가동&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Readiness Probe&lt;/td&gt;
&lt;td&gt;파드가 요청을 받아들일 수 있는지 확인&lt;/td&gt;
&lt;td&gt;트래픽 차단(파드 재기동x)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Startup Probe&lt;/td&gt;
&lt;td&gt;파드의 첫 번째 기동이 완료되었는지 확인&lt;/td&gt;
&lt;td&gt;다른 Probe 실행 시작 x&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Liveness Probe: 헬스 체크에 한 번 실패하면 재시작 없이는 복구가 어려울 때 사용&lt;/li&gt;
&lt;li&gt;Readiness Probe: db에 정상적으로 접속되는지, 캐시에 로드가 끝났는지, 기동 시간이 오래 걸리는 프로세스가 끝났는지 등등 체크
&lt;ul&gt;
&lt;li&gt;실패한 경우 트래픽이 파드에 전송되지 않도록 함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Startup Probe: 처음 기동하는데 시간이 오래 걸릴 경우 사용, 완료까지 다른 Probe나 서비스가 시작되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;헬스체크-방식&#34;&gt;헬스체크 방식&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;헬스 체크는 컨테이너별로 이루어짐&lt;/li&gt;
&lt;li&gt;하나의 컨테이너라도 실패하면 전체 파드가 실패한 것으로 간주&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;헬스 체크 방식&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;exec&lt;/td&gt;
&lt;td&gt;명령어를 실행하고 종료 코드가 0이 아니면 실패&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;httpGet&lt;/td&gt;
&lt;td&gt;HTTP GET 요청 실행 후 Status Code가 200~399가 아니면 실패&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tcpSocket&lt;/td&gt;
&lt;td&gt;TCP 세션이 연결되지 않으면 실패&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;명령어-기반의-체크exec&#34;&gt;명령어 기반의 체크(exec)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;명령어로 실행하고 종료 코드로 확인&lt;/li&gt;
&lt;li&gt;가장 유연성이 높은 체크&lt;/li&gt;
&lt;li&gt;명령어는 컨테이너별로 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-e&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/ok.txt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;http-기반의-체크httpget&#34;&gt;HTTP 기반의 체크(httpGet)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;HTTP GET 요청의 Status Code로 확인&lt;/li&gt;
&lt;li&gt;HTTP GET 요청은 kubelet에서 이루어짐&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpGet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/health&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scheme&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;HTTP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;web.example.com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpHeaders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Authorization&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Bearer Token&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;tcp-기반의-체크tcpsocket&#34;&gt;TCP 기반의 체크(tcpSocket)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;TCP 세션 활성화를 검증하여 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tcpSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;헬스-체크-간격&#34;&gt;헬스 체크 간격&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Liveness Probe는 실패시 파드가 재시작하므로 실패까지의 체크 횟수를 설정&lt;/li&gt;
&lt;li&gt;successThreshold는 1이상, Liveness Probe와 Startup Probe의 경우 반드시 1&lt;/li&gt;
&lt;li&gt;첫 번째 체크까지의 지연은 가급적 사용 x, Startup Probe 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정 항목&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;initialDelaySeconds&lt;/td&gt;
&lt;td&gt;첫 헬스 체크까지의 지연(최대 failureThreshold까지 연장)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;periodSeconds&lt;/td&gt;
&lt;td&gt;헬스 체크 간격 시간(초)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;timeoutSeconds&lt;/td&gt;
&lt;td&gt;타임아웃까지의 시간(초)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;successThreshold&lt;/td&gt;
&lt;td&gt;성공이라고 판단하기까지 체크 횟수&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;failureThreshold&lt;/td&gt;
&lt;td&gt;실패라고 판단하기까지 체크 횟수&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;periodSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeoutSecods&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failureThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;헬스-체크-생성&#34;&gt;헬스 체크 생성&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;헬스 체크 방법 세 가지와 헬스 체크 방식 세가지로 총 9가지 패턴의 헬스 체크 가능&lt;/li&gt;
&lt;li&gt;Liveness, Readiness, Startup Probe는 하나 이상 지정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드에 생성된 Probe 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe pod sample-healthcheck &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; egrep -E &lt;span class=&#34;s2&#34;&gt;&amp;#34;Liveness|Readiness&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;추가-ready-조건을-추가하는-파드-readyreadinessgate&#34;&gt;추가 Ready 조건을 추가하는 파드 ready++(ReadinessGate)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드가 정말 Ready 상태인지 추가 체크&lt;/li&gt;
&lt;li&gt;클라우드 외부 로드밸런서와의 연계에 시간이 걸리는 경우 사용&lt;/li&gt;
&lt;li&gt;일반적인 파드의 Ready 판단만으로는 롤링 업데이트시 기존 파드가 한 번에 사라져 안전하게 업데이트 할 수 없는 경우 사용&lt;/li&gt;
&lt;li&gt;ReadinessGate를 통과할 때까지 서비스 전송 대상 x, 롤링 업데이트 시 다음 파드 기동으로 이동 x&lt;/li&gt;
&lt;li&gt;여러개 사용 가능. 모든 상태가 Ready가 되지 않으면 파드는 Ready 상태가 되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;readiness-probe를-무시한-서비스-생성&#34;&gt;Readiness Probe를 무시한 서비스 생성&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;스테이트풀셋에서 Headless 서비스 사용 시 파드가 Ready가 되지 않아도 클러스터 구성을 위해 파드의 이름 해석이 필요한 경우가 존재&lt;/li&gt;
&lt;li&gt;Readiness Probe가 실패한 경우에도 서비스에 연결되게 하려면 spec.publishNotReadyAddresses를 true로 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;startup-probe를-사용한-지연-체크와-실패&#34;&gt;Startup Probe를 사용한 지연 체크와 실패&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Startup Probe의 경우 failureThreshold의 값을 충분히 크게 두는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## Startup Probe에서 감시하고 있는 파일 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-startup -- touch /root/startup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## Startup Probe가 성공한 후 Liveness와 Readiness Probe가 실행된 것을 알 수 있음&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-startup -- head /root/log
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;컨테이너-라이플사이클과-재기동restartpolicy&#34;&gt;컨테이너 라이플사이클과 재기동(restartPolicy)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너 프로세스 정지 또는 헬스 체크 실패시 컨테이너 재기동 여부, 방식 설정&lt;/li&gt;
&lt;li&gt;잡은 Always 선택 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;restartPolicy&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Always&lt;/td&gt;
&lt;td&gt;파드 정지시 항상 파드 재기동&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OnFailure&lt;/td&gt;
&lt;td&gt;예상치 못하게 파드가 정지한 경우(종료 코드 0 이외) 파드 재기동&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Never&lt;/td&gt;
&lt;td&gt;파드 재기동 x&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;초기화-컨테이너&#34;&gt;초기화 컨테이너&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드 내에서 메인이 되는 컨테이너 기동 전 별도의 컨테이너 기동&lt;/li&gt;
&lt;li&gt;설정에 필요한 스크립트 등을 메인 컨테이너에 보관하지 않는 상태 유지 가능(보안, 이미지 용량 감소)&lt;/li&gt;
&lt;li&gt;spec.initContainers 복수 지정 가능, 위에서부터 순차적 커맨드 실행&lt;/li&gt;
&lt;li&gt;저장소에서 파일 가져오기, 컨테이너 기동 지연, 설정 파일 동적 생성, 서비스 생성 확인, 메인 컨테이너 기동 전 체크 작업 등&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 초기화 컨테이너에서 추가된 파일 순서 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-initcontainer -- cat /usr/share/nginx/html/index.html
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;기동-직후와-종료-직전에-임의의-명령어-실행poststartprestop&#34;&gt;기동 직후와 종료 직전에 임의의 명령어 실행(postStart/preStop)&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 기동 후 바로 확인한 상태&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-lifecycle-exec -- ls /tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;started
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 기동 20초 경과 후 확인한 상태&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-lifecycle-exec -- ls /tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;poststart started
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 정지&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete -f sample-lifecycle-exec.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 삭제 요청 후 바로 확인한 상태&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-lifecycle-exec -- ls /tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;poststart prestop started
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;postStart는 비동기 실행이므로 기동시 파일을 배치하는 작업은 초기화 컨테이너를 사용하거나 Entrypoint 안에서 실행&lt;/li&gt;
&lt;li&gt;postStart, preStop은 여러 번 실행될 가능성도 있음&lt;/li&gt;
&lt;li&gt;postStart에 타임아웃 설정 불가
&lt;ul&gt;
&lt;li&gt;postStart 실행 중에는 Probe 실행되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;파드의-안전한-정지와-타이밍&#34;&gt;파드의 안전한 정지와 타이밍&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;기동 중인 파드의 삭제 요청이 쿠버네티스 API 서버에 도착시 비동기로 &amp;lsquo;preStop 처리 + SIGTERM 처리&amp;rsquo;와 &amp;lsquo;서비스에서 제외 설정&amp;rsquo;이 이루어짐&lt;/li&gt;
&lt;li&gt;서비스 제외 처리가 끝나기 전 몇 초간 &amp;lsquo;preStop 처리 + SIGTERM 처리&amp;rsquo;에서 대기하거나 요청을 받으면서 정지 처리하는 것이 효과적
&lt;ul&gt;
&lt;li&gt;전자는 애플리케이션 수정 필요 x&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;파드에는 spec.terminationGracePeriodSeconds(기본 30초) 설정값이 있음
&lt;ul&gt;
&lt;li&gt;해당 시간 안에 &amp;lsquo;preStop 처리 + SIGTERM 처리&amp;rsquo; 끝내야 함&lt;/li&gt;
&lt;li&gt;끝나지 않는 다면 SIGKILL 신호가 컨테이너에 전달되어 강제 종료&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;강제 종료를 막기 위해 &amp;lsquo;preStop 처리 + SIGTERM 처리&amp;rsquo;완료 시간을 충분히 확보해야 함&lt;/li&gt;
&lt;li&gt;preStop 처리만으로 terminationGracePeriodSeconds 시간을 모두 사용한 경우에느 추가로 2초가 SIGTERM 시간으로 확보됨&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## terminationGracePeriodSeconds=3으로 삭제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete pod sample-termination --grace-period &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 강제로 즉시 삭제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete pod sample-termination --grace-period &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; --force
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;리소스를-삭제했을-때의-동작&#34;&gt;리소스를 삭제했을 때의 동작&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;레플리카셋등의 상위 리소스가 삭제되면 하위 리소스가 되는 파드 등을 삭제하기 위해 gc수행&lt;/li&gt;
&lt;li&gt;생성된 파드에는 어떤 레플리카셋으로 생성됐는지 판별하기 위해 metadata.ownerReferences 아래에 자동으로 정보 저장&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 정의에 포함돈 상위 리소스 정보 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-rs-l23kds -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .metadata.ownerReferences
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;삭제됐을 때 동작
&lt;ul&gt;
&lt;li&gt;Background(기본값)
&lt;ul&gt;
&lt;li&gt;레플리카셋 즉시 삭제 후 파드는 gc가 백그라운드에서 비동기로 삭제&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Foreground
&lt;ul&gt;
&lt;li&gt;레플리카셋을 즉시 삭제하지 않고 deletionTimestamp, metadata.finalizers = foregroundDeletion으로 설정&lt;/li&gt;
&lt;li&gt;gc가 각 파드에서 blockOwnerDeletion = true 인것을 삭제 (false인 것은 Foreground 삭제라도 Background로 삭제)&lt;/li&gt;
&lt;li&gt;모든 삭제가 끝나면 레플리카셋 삭제&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Orphan
&lt;ul&gt;
&lt;li&gt;레플리카셋 삭제시 파드 삭제를 하지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Foreground 사용하려면 API 조작해여 함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>리소스관리와 오토스케일링</title>
        <link>https://Haebuk.github.io/p/%EB%A6%AC%EC%86%8C%EC%8A%A4%EA%B4%80%EB%A6%AC%EC%99%80-%EC%98%A4%ED%86%A0%EC%8A%A4%EC%BC%80%EC%9D%BC%EB%A7%81/</link>
        <pubDate>Sat, 18 Jun 2022 17:12:04 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EB%A6%AC%EC%86%8C%EC%8A%A4%EA%B4%80%EB%A6%AC%EC%99%80-%EC%98%A4%ED%86%A0%EC%8A%A4%EC%BC%80%EC%9D%BC%EB%A7%81/</guid>
        <description>&lt;img src="https://Haebuk.github.io/images/Kubernetes-Logo.wine.png" alt="Featured image of post 리소스관리와 오토스케일링" /&gt;&lt;h2 id=&#34;리소스-관리와-오토-스케일링&#34;&gt;리소스 관리와 오토 스케일링&lt;/h2&gt;
&lt;h3 id=&#34;리소스-제한&#34;&gt;리소스 제한&lt;/h3&gt;
&lt;h4 id=&#34;cpu메모리-리소스-제한&#34;&gt;CPU/메모리 리소스 제한&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;CPU는 클럭 수가 아닌 1vCPU를 1,000m 단위로 지정&lt;/li&gt;
&lt;li&gt;단위&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;리소스 유형&lt;/th&gt;
&lt;th&gt;단위&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CPU&lt;/td&gt;
&lt;td&gt;1 = 1000m = 1 vCPU&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;메모리&lt;/td&gt;
&lt;td&gt;1G = 1000M (1Gi = 1024Mi)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Requests: 사용하는 리소스 최솟값
&lt;ul&gt;
&lt;li&gt;지정한 양의 리소스가 노드에 존재하지 않으면 스케줄링 되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Limits: 사용할 리소스의 최댓값
&lt;ul&gt;
&lt;li&gt;노드에 Limits로 지정한 리소스가 없어도 스케줄링 됨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Requests만 설정한 경우 Limits는 자동 설정되지 않고 부하가 최대로 상승할 때까지 리소스 계속 소비
&lt;ul&gt;
&lt;li&gt;파드가 많이 가동하는 노드에서 리소스 뻇기 발생, OOM 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Limits만 설정한 경우 은 값이 Requests에 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;시스템에-할당된-리소스와-eviction-매니저&#34;&gt;시스템에 할당된 리소스와 Eviction 매니저&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;일반 리소스는 고갈 시 쿠버네티스 자체가 동작하지 않거나 그 노드 전체에 영향 가능성&lt;/li&gt;
&lt;li&gt;각 노드에는 kube-reserved, system-reserved 두 가지 리소스가 시스템용으로 확보&lt;/li&gt;
&lt;li&gt;실제 파드 할당 가능 리소스는 리소스 총량 - (kube-reserved, system-reserved)&lt;/li&gt;
&lt;li&gt;Eviction 매니저가 시스템 전체가 과부하되지 않도록 관리
&lt;ul&gt;
&lt;li&gt;Allocatable, system-reserved, kube-reserved 실제 사용되는 리소스 합계가 Eviction Threshold 넘지 않는지 정기적으로 확인, 초과한 경우 파드 Evict&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Eviction Threshold는 soft, hard 두 가지 존재
&lt;ul&gt;
&lt;li&gt;soft: SIGTERM 신호를 보내 지정한 시간 후 파드 정지&lt;/li&gt;
&lt;li&gt;hard: SIGKILL 신호를 보내 바로 파드 정지&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Evict 우선 순위
&lt;ol&gt;
&lt;li&gt;Requests에 할당된 양보다 초과하여 리소스를 소비하고 있는 것&lt;/li&gt;
&lt;li&gt;PodPriority가 낮은 것&lt;/li&gt;
&lt;li&gt;Requests에 할당된 양보다 초과하여 소비하고 있는 리소스 양이 더 많은 것&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;gpu-등의-리소스-제한&#34;&gt;GPU 등의 리소스 제한&lt;/h4&gt;
&lt;h5 id=&#34;엔비디아-gpu&#34;&gt;엔비디아 GPU&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;resources&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nvidia.com/gpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;limits&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nvidia.com/gpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;오버커밋과-리소스-부족&#34;&gt;오버커밋과 리소스 부족&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;스케일 아웃을 해도 리소스가 없으면 추가되는 파드 중 리소스를 할당할 수 없는 파드는 Pending 상태가 됨&lt;/li&gt;
&lt;li&gt;생성된 파드에 부하가 증가시 리소스 사용량이 100%를 초과하더라도 오버커밋하여 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cluster-autoscaler와-리소스-부족&#34;&gt;Cluster Autoscaler와 리소스 부족&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Cluster Autoscaler는 수요에 따라 노드를 자동으로 추가하는 기능&lt;/li&gt;
&lt;li&gt;pending 상태의 파드 발생시 처음으로 Cluster Autoscaler 동작&lt;/li&gt;
&lt;li&gt;기본적으로 리소스에 의한 스케줄링은 Requests(최소) 기준으로 동작
&lt;ul&gt;
&lt;li&gt;Requests와 Limits에 너무 큰 차이를 주지 않을 것&lt;/li&gt;
&lt;li&gt;Requests를 너무 크게 설정하지 않을 것&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;실제 값을 정할 때 Requests, Limits를 낮게 설정하고 성능 테스트를 통해 올려가는 것이 좋음
&lt;ul&gt;
&lt;li&gt;메모리의 경우 OOM이 발생하지 않을 정도의 리소스 할당&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;limitrange를-사용한-리소스-제한&#34;&gt;LimitRange를 사용한 리소스 제한&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드, 컨테이너, 영구볼륨 대해 리소스의 최솟값과 최댓값, 기본값 등을 설정 가능&lt;/li&gt;
&lt;li&gt;신규 파드가 생성될 때 사용, 기존 파드에는 영향 X&lt;/li&gt;
&lt;li&gt;설정 가능 항목&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정 항목&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;default&lt;/td&gt;
&lt;td&gt;기본 Limits&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;defaultRequest&lt;/td&gt;
&lt;td&gt;기본 Requests&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;max&lt;/td&gt;
&lt;td&gt;최대 리소스&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;min&lt;/td&gt;
&lt;td&gt;최소 리소스&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maxLimitRequestRatio&lt;/td&gt;
&lt;td&gt;Limits/Requests의 비율&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;LimitRange를 설정할 수 있는 리소스와 설정 항목&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;타입&lt;/th&gt;
&lt;th&gt;사용 가능한 설정 항목&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;컨테이너&lt;/td&gt;
&lt;td&gt;default/defaultRequest/max/min/maxLimitRequetsRatio&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;파드&lt;/td&gt;
&lt;td&gt;max/min/maxLimitRequestRatio&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PVC&lt;/td&gt;
&lt;td&gt;max/min&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;컨테이너에-대한-limitrange&#34;&gt;컨테이너에 대한 LimitRange&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;type: Container의 LimitRange로 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;파드에-대한-limitrange&#34;&gt;파드에 대한 LimitRange&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;type: Pod의 LimitRange로 설정&lt;/li&gt;
&lt;li&gt;컨테이너에서 사용하는 리소스 합계로 최대/최소 리소스 제한&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;pvc에-대한-limitrange&#34;&gt;PVC에 대한 LimitRange&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;type: PersistentVolumeClaim의 LimitRange로 설정&lt;/li&gt;
&lt;li&gt;일정 용량 이상으로 볼륨을 생성하지 못하게 할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;qos-class&#34;&gt;QoS Class&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;사용자가 직접 설정하지 않고 파드의 Requests/Limits 설정에 따라 자동으로 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Qos Class&lt;/th&gt;
&lt;th&gt;조건&lt;/th&gt;
&lt;th&gt;우선순위&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;BestEffort&lt;/td&gt;
&lt;td&gt;Requests/Limits 모두 미지정&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guaranteed&lt;/td&gt;
&lt;td&gt;Requests/Limits 같고 CPU, 메모리 모두 지정&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Burstable&lt;/td&gt;
&lt;td&gt;Guranteed 충족하지 못하고 한 개 이상의 Requests/Limits 설정&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;쿠버네티스가 컨테이너에 oom score 설정할 때 사용
&lt;ul&gt;
&lt;li&gt;oom score: -1000(최고 순위) ~ 1000(최저 순위)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Guaranteed의 경우 쿠버네티스 시스템 구성 요소(oom score=-999) 외에 우선순위가 높은 컨테이너가 없어 좀 더 안정적 실행 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;QoS Class&lt;/th&gt;
&lt;th&gt;조건&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;BestEffort&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Guaranteed&lt;/td&gt;
&lt;td&gt;-998&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Burstable&lt;/td&gt;
&lt;td&gt;min(max(2, 1000 - (1000 * 메모리의 Requests) / 머신 메모리 용량), 999)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 목록과 QoS Class 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods -o custom-columns&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;NAME:{.metadata.name},QOS Class:{.status.qosClass}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;besteffort&#34;&gt;BestEffort&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;리소스 제한이 전혀 없음&lt;/li&gt;
&lt;li&gt;LimitRange가 설정된 환경에서는 지정되지 않은 경우에도 자동으로 리소스 제한이 설정되므로 되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;guaranteed&#34;&gt;Guaranteed&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;최소한으로 사용하는 리소스와 최대한으로 사용하는 리소스에 차이가 없는 상태&lt;/li&gt;
&lt;li&gt;모든 파드를 Guaranteed로 한다면, 부하 증가에 따른 다른 파드로의 영향을 피할 수 있지만, 집약률 낮아짐&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;burstable&#34;&gt;Burstable&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;특정 리소스만 제한 설정&lt;/li&gt;
&lt;li&gt;Requests보다 Limits가 큰 경우&lt;/li&gt;
&lt;li&gt;최악의 경우 노드가 과부하를 받을 가능성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;리소스-쿼터를-사용한-네임스페이스-리소스-쿼터-제한&#34;&gt;리소스 쿼터를 사용한 네임스페이스 리소스 쿼터 제한&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;각 네임스페이스마다 사용 가능한 리소스를 제한&lt;/li&gt;
&lt;li&gt;이미 생성된 리소스에는 영향 X&lt;/li&gt;
&lt;li&gt;생성 가능한 리소스 수 제한과 리소스 사용량 제한으로 나눌 수 있음&lt;/li&gt;
&lt;li&gt;리소스 쿼터가 설정된 경우 제한된 항목 설정은 필수&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;생성-가능한-리소스-수-제한&#34;&gt;생성 가능한 리소스 수 제한&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;count/RESOURCE.GROUP 구문을 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;리소스-사용량-제한&#34;&gt;리소스 사용량 제한&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;CPU/메모리에 대해 컨테이너에 할당 가능한 리소스 양 제한&lt;/li&gt;
&lt;li&gt;스토리지는 Limits는 존재하지 않고 Requests만 지정 가능&lt;/li&gt;
&lt;li&gt;스토리지클래스마다 제한을 둘 수 있음(SSD, HDD, &amp;hellip;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;horizontalpodautoscaler&#34;&gt;HorizontalPodAutoscaler&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;디플로이먼트/레플리카셋/레플리케이션 컨트롤러의 레플리카 수를 CPU 부하 등에 따라 자동으로 스케일링하는 리소스&lt;/li&gt;
&lt;li&gt;부하가 높아지면 스케일 아웃, 낮아지면 스케일 인&lt;/li&gt;
&lt;li&gt;파드에 Resource Requests가 설정되어 있지 않은 경우 동작하지 않음&lt;/li&gt;
&lt;li&gt;30초에 한번씩 오토 스케일링 여부 확인
&lt;ul&gt;
&lt;li&gt;필요한 레플리카 수 = ceil(sum(파드의 현재 CPU 사용률) / targetAverageUtilization)&lt;/li&gt;
&lt;li&gt;CPU 사용률은 metrics-server에서 가져온 각 파드의 1분간 평균값 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;최대 3분에 1회 스케일 아웃, 최대 5분에 1회 스케일 인 실행
&lt;ul&gt;
&lt;li&gt;스케일 아웃 조건 식: avg(파드의 현재 CPU 사용률) / targetAverageUtilization &amp;gt; 1.1&lt;/li&gt;
&lt;li&gt;스케일 인 조건 식: avg(파드의 현재 CPU 사용률) / targetAverageUtilization &amp;lt; 0.9&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## CLI로 HPA 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl autoscale deployment sample-deployment --cpu-percent&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;50&lt;/span&gt; --min&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; --max&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;CPU 이외의 리소스를 사용하여 오토 스케일링 하는 경우 프로메테우스나 그 외의 메트릭 서버와 연계하기 위한 설정 별도 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;verticalpodautoscaler&#34;&gt;VerticalPodAutoscaler&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드에 할당하는 CPU/메모리의 Requests는 실제 성능을 측정하려면 서비스 환경에 배포해야 하므로 조절이 어려움&lt;/li&gt;
&lt;li&gt;VPA는 컨테이너에 할당하는 리소스를 자동으로 스케일해주는 기능&lt;/li&gt;
&lt;li&gt;스케일 아웃이 아닌 스케일 업&lt;/li&gt;
&lt;li&gt;대상이 되는 워크로드 리소스, 파드 내부 컨테이너 제한, 업데이트 정책 세 부분으로 구성&lt;/li&gt;
&lt;li&gt;Requests를 변경하려면 파드 재기동 필요 - 성능에 악영향 가능성&lt;/li&gt;
&lt;li&gt;추천값 계산만 하고 참고로만 확인할 수 있는 옵션도 존재&lt;/li&gt;
&lt;li&gt;쿠버네티스의 핵심 기능이 아니기 때문에 별도 구성 요소 설치해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;updateMode&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Off&lt;/td&gt;
&lt;td&gt;Requests의 추천값을 계산만 하고 실제 변경은 없음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Initial&lt;/td&gt;
&lt;td&gt;파드가 재생성된 시점에만 추천값을 Requests로 변경&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Recreate&lt;/td&gt;
&lt;td&gt;추천값이 변경될 때 파드가 재생성되고 Requests를 변경&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Inplace(미구현)&lt;/td&gt;
&lt;td&gt;추천값이 변경될 때 파드를 기동한 상태로 Requests 변경&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Auto&lt;/td&gt;
&lt;td&gt;추천값이 변경될 때 Inplace 또는 Recreate로 Requests 변경&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## vpa 상태 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe vpa sample-vpa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;모드&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Lower Bound&lt;/td&gt;
&lt;td&gt;Requests의 최소 추천값, 밑도는 경우 성능에 큰 영향&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Upper Bound&lt;/td&gt;
&lt;td&gt;Requests의 최대 추천값, 웃도는 경우 낭비&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Target&lt;/td&gt;
&lt;td&gt;Requests의 추천값, 가장 효율적&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Uncapped Target&lt;/td&gt;
&lt;td&gt;리소스 제약을 고려하지 않은 Requests 추천 값&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Requests 변경으로 파드 재작성이 빈번하게 실행되는 것을 막기 위해 Target이 변경된 후 Requests를 Lower Bound보다 작거나 Upper Bound 보다 크게 설정하면 파드 변경됨&lt;/li&gt;
&lt;li&gt;PodDisruptionBudget을 고려해 점차적으로 파드 변경
&lt;ul&gt;
&lt;li&gt;설정되지 않은 경우 절반씩 변경&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>컨피그와스토리지 API</title>
        <link>https://Haebuk.github.io/p/%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%99%80%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-api/</link>
        <pubDate>Thu, 16 Jun 2022 17:11:40 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%99%80%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-api/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EC%BB%A8%ED%94%BC%EA%B7%B8%EC%99%80%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-api/Kubernetes-Logo.wine.png" alt="Featured image of post 컨피그와스토리지 API" /&gt;&lt;h2 id=&#34;컨피그--스토리지-api-카테고리&#34;&gt;컨피그 &amp;amp; 스토리지 API 카테고리&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너 설정 파일, 패스워드 같은 기밀 정보 추가&lt;/li&gt;
&lt;li&gt;영구 볼륨 제공
&lt;ul&gt;
&lt;li&gt;시크릿&lt;/li&gt;
&lt;li&gt;컨피그맵&lt;/li&gt;
&lt;li&gt;영구 볼륨 클레임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;환경-변수-사용&#34;&gt;환경 변수 사용&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;개별 컨테이너 설정 내용은 환경 변수나 파일이 저장되어 있는 영역을 마운트하여 전달하는 것이 일반적&lt;/li&gt;
&lt;li&gt;파드 템플릿에 env 또는 envFrom 지정&lt;/li&gt;
&lt;li&gt;다음과 같은 정보를 환경 변수에 포함 가능
&lt;ul&gt;
&lt;li&gt;정적 설정&lt;/li&gt;
&lt;li&gt;파드 정보&lt;/li&gt;
&lt;li&gt;컨테이너 정보&lt;/li&gt;
&lt;li&gt;시크릿 리소스 기밀 정보&lt;/li&gt;
&lt;li&gt;컨피그맵 리소스 설정값&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;정적-설정&#34;&gt;정적 설정&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;spec.containers[].env에 정적인 값 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-env 파드의 환경변수 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-env -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep MAX_CONNECTION
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;컨테이너 기본 타임존: UTC -&amp;gt; 환경 변수 지정하여 변경 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;## 타임존 설정&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Asia/Seoul&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;파드-정보&#34;&gt;파드 정보&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;fieldRef를 통해 참조 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드가 기동 중인 노드 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods -o wide sample-env-pod
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-env-pod 파드 환경 변수 &amp;#39;K8S_NODE&amp;#39; 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-env-pod -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep K8S_NODE
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;컨테이너-정보&#34;&gt;컨테이너 정보&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;resourceFieldRef를 통해 참조 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-env-container -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep CPU
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;환경-변수-사용시-주의-사항&#34;&gt;환경 변수 사용시 주의 사항&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;command나 args로 실행할 명령어를 지정할 때는 &lt;code&gt;${}&lt;/code&gt;가 아닌 &lt;code&gt;$()&lt;/code&gt;로 지정
&lt;ul&gt;
&lt;li&gt;매니페스트 내부에 정의된 환경 변수만 참조 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;시크릿&#34;&gt;시크릿&lt;/h3&gt;
&lt;h4 id=&#34;범용-시크릿opaque&#34;&gt;범용 시크릿(Opaque)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;스키마리스 시크릿
&lt;ul&gt;
&lt;li&gt;kubectl로 파일에서 값을 참조하여 생성(&amp;ndash;from-file)&lt;/li&gt;
&lt;li&gt;kubectl로 envfile에서 값을 참조하여 생성(&amp;ndash;from-env-file)&lt;/li&gt;
&lt;li&gt;kubectl로 직접 값을 전달하여 생성(&amp;ndash;from-literal)&lt;/li&gt;
&lt;li&gt;매니페스트에서 생성(-f)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;하나의 시크릿당 저장 가능한 데이터 사이즈는 총 1MB&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;kubectl로-파일에서-값을-참조하여-생성--from-file&#34;&gt;kubectl로 파일에서 값을 참조하여 생성(&amp;ndash;from-file)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;일반적으로 파일명이 그대로 키가 되므로 확장자는 붙이지 않는 것이 좋음&lt;/li&gt;
&lt;li&gt;파일 생성시 개행 코드 없도록 주의&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿에 포함된 값을 파일로 내보내기&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;root&amp;#34;&lt;/span&gt; &amp;gt; ./username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;rootpassword&amp;#34;&lt;/span&gt; &amp;gt; ./password
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파일에서 값 참조하여 시크릿 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret generic --save-config sample-db-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;./username --from-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;./password
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets sample-db-auth -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## base64 인코딩되어 있음&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets sample-db-auth -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq -r .data.username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## base64 디코드&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets sample-db-auth -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq -r .data.username &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 --decode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;kubectl로-envfile에서-값을-참조하여-생성--from-env-file&#34;&gt;kubectl로 envfile에서 값을 참조하여 생성(&amp;ndash;from-env-file)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;하나의 파일에서 일괄적으로 생성하는 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret generic --save-config sample-db-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-env-file ./env-secret.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;kubectl로-값을-직접-전달하여-생성--from-literal&#34;&gt;kubectl로 값을 직접 전달하여 생성(&amp;ndash;from-literal)&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret generic --save-config sample-db-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root --from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;rootpassword
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;매니페스트에서-생성-f&#34;&gt;매니페스트에서 생성(-f)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;base64로 제대로 인코드되었는지 확인&lt;/li&gt;
&lt;li&gt;data가 아닌 stringData 필드를 사용하면 일반 텍스트로 작성 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;tls-타입-시크릿&#34;&gt;TLS 타입 시크릿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;인증서로 사용할 시크릿을 사용하는 경우&lt;/li&gt;
&lt;li&gt;인그레스 리소스 등에서 사용하는 것이 일반적&lt;/li&gt;
&lt;li&gt;매니페스트로 생성할 수 있지만 기본적으로 비밀키와 인증서 파일로 생성하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;도커-레지스트리-타입-시크릿&#34;&gt;도커 레지스트리 타입 시크릿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너 레지스트리가 프라이빗 저장소인 경우에 인증 정보를 시크릿으로 정의하여 사용 가능&lt;/li&gt;
&lt;li&gt;kubectl로 직접 생성하는 것이 편리&lt;/li&gt;
&lt;li&gt;~/.docker/config.json 파일 대체용으로 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 도커 레지스트리 인증 정보의 시크릿 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret docker-registry --save-config sample-registry-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--docker-server&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;REGISTRY_SERVER &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--docker-username&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;REGISTRY_USER &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--docker-password&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;REGISTRY_USER_PASSWORD &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--docker-email&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;REGISTRY_USER_EMAIL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## base64로 인코드된 dockercfg 형식의 JSON 데이터&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets -o json sample-registry-auth &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## base64로 디코드한 dockercfg 형식의 JSON 데이터&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get secrets sample-registry-auth -o yaml &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;\.dockerconfigjson&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk -F &lt;span class=&#34;s1&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 --decode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;이미지-다운로드-시-시크릿-사용&#34;&gt;이미지 다운로드 시 시크릿 사용&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;인증이 필요한 도커 레지스트리의 프라이빗 저장소에 저장된 이미지를 다운로드할 때, 시크릿을 사전에 생성한 후 파드 정의 spec.imagePullSecrets에 docker-registry 타입의 시크릿 지정&lt;/li&gt;
&lt;li&gt;imagePullSecrets는 복수 설정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;기본-인증-타입의-시크릿&#34;&gt;기본 인증 타입의 시크릿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;사용자명과 패스워드로 인증하는 시스템을 사용하는 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;kubectl로-직접-값을-전달하여-생성--from-literal&#34;&gt;kubectl로 직접 값을 전달하여 생성(&amp;ndash;from-literal)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;리소스를 생성하지 않고 매니페스트를 출력하는 경우 &amp;ndash;dry-run, -o yaml 옵션 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 직접 옵션에서 type과 값을 지정하여 시크릿 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret generic --save-config sample-basic-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--type kubernetes.io/basic-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root --from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;rootpassword
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;매니페스트에서-생성-f-1&#34;&gt;매니페스트에서 생성(-f)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;type에 kubernetes.io/basic-auth 지정&lt;/li&gt;
&lt;li&gt;데이터 스키마로 username과 password 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ssh-인증-타입의-시크릿&#34;&gt;SSH 인증 타입의 시크릿&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;비밀키로 인증하는 시스템을 사용하는 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;kubectl로-파일에서-값을-참조하여-생성--from-file-1&#34;&gt;kubectl로 파일에서 값을 참조하여 생성(&amp;ndash;from-file)&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## SSH 비밀키 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh-keygen -t rsa -b &lt;span class=&#34;m&#34;&gt;2048&lt;/span&gt; -f sample-key -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;sample&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파일에서 type과 값을 참조하여 시크릿 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create secret generic --save-config sample-ssh-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--type kubernetes.io/ssh-auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ssh-privatekey&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;./sample-key
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;매니페스트에서-생성-f-2&#34;&gt;매니페스트에서 생성(-f)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;type에 kubernetes.io/ssh-auth 지정&lt;/li&gt;
&lt;li&gt;데이터 스키마로 ssh-privatekey 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;시크릿-사용&#34;&gt;시크릿 사용&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너에서 사용할 경우 두 가지 패턴이 존재
&lt;ol&gt;
&lt;li&gt;환경 변수로 전달&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;시크릿의 특정 키만&lt;/li&gt;
&lt;li&gt;시크릿의 전체 키&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;볼륨으로 마운트&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;시크릿의 특정 키만&lt;/li&gt;
&lt;li&gt;시크릿의 전체 키&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;환경-변수로-전달&#34;&gt;환경 변수로 전달&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;특정 키를 전달할 경우 spec.containers[].env의 valueFrom.secretKeyRef 사용&lt;/li&gt;
&lt;li&gt;env로 하나씩 정의하기 때문에 환경 변수명 지정 가능&lt;/li&gt;
&lt;li&gt;전체를 전달할 경우 매니페스트가 길어지지는 않지만 시크릿에 어떤 값이 있는지 매니페스트 정의에서 알기 힘듦&lt;/li&gt;
&lt;li&gt;여러 시크릿을 가져오면 키가 충돌할 수 있으므로 접두사를 붙여 충돌 방지&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-secret-single-env 파드의 DB_USERNAME 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-single-env -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep DB_USERNAME
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-secret-multi-env 파드의 환경 변수 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-env -- env
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-secret-prefix-env 파드의 접두사가 DB인 환경 변수 확안&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-prefix-env -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; egrep ^DB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;볼륨으로-마운트&#34;&gt;볼륨으로 마운트&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;특정 키를 마운트하는 경우 spec.volumes[]의 secret.items[]를 사용&lt;/li&gt;
&lt;li&gt;마찬가지로 시크릿 전체를 마운트 가능, 매니페스트가 길어지지 않지만 어떤 값이 있는지 알기 힘듦&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## sample-secret-single-volume 파드의 /config/username.txt 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-single-volume -- cat /config/username.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 내부의 /config 디렉터리 내용 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- ls /config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;동적-시크릿-업데이트&#34;&gt;동적 시크릿 업데이트&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;일정 기간마다(kubelet의 Sync Loop 타이밍) kube-apiserver로 변경 확인
&lt;ul&gt;
&lt;li&gt;변경이 있을경우 파일 교체(기본 60초)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;주기를 조정하려면 kubelet의 &amp;ndash;sync-frequency 옵션 지정&lt;/li&gt;
&lt;li&gt;환경 변수를 사용한 시크릿의 경우 파드를 기동할 때 환경 변수가 정해지므로 동적 변경 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿에 마운트된 디렉터리 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- ls -la /config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxrwxrwt &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;120&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;42&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 ..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 ..2022_06_11_08_47_42.732252402
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;31&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 ..data -&amp;gt; ..2022_06_11_08_47_42.732252402
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 password -&amp;gt; ..data/password
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 username -&amp;gt; ..data/username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드의 /config/username 파일 내용 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- cat /config/username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿 변경 전 경과 시간 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-secret-multi-volume
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿 내용 업데이트&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF | kubectl apply -f -
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: Secret
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: sample-db-auth
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;type: Opaque
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;data:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  ## root &amp;gt; admin으로 변경
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  username: YWRtaW4=
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 시크릿에 마운트된 디렉터리 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- ls -la /config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;total &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxrwxrwt &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:54 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;42&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 ..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:54 ..2022_06_11_08_54_21.841196102
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;31&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:54 ..data -&amp;gt; ..2022_06_11_08_54_21.841196102
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lrwxrwxrwx &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 08:47 username -&amp;gt; ..data/username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## root에서 admin으로 변경됨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- cat /config/username
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 동적으로 파일이 변경된 후의 경과시간 확인 -&amp;gt; 파드가 재생성되지 않음&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods sample-secret-multi-volume
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;시크릿 내용을 username으로만 하고 kubectl apply를 실행하여 그 외의 파일(password) 삭제됨&lt;/li&gt;
&lt;li&gt;처음 시크릿 생성시 kubectl apply나 kubectl create &amp;ndash;save-config를 사용하지 않은 경우 매니페스트 병합 처리가 불완전하여 결과가 달라짐&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## password 파일은 삭제됨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-secret-multi-volume -- ls /config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;컨피그맵&#34;&gt;컨피그맵&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;설정 정보 등을 key-value로 저장할 수 있는 데이터 저장 리소스&lt;/li&gt;
&lt;li&gt;하나의 컨피그맵마다 저장할 수 있는 사이즈 총 1MB&lt;/li&gt;
&lt;li&gt;Generic 타입의 시크릿과 거의 동일한 방법으로 생성
&lt;ul&gt;
&lt;li&gt;kubectl로 파일에서 값을 직접 참조&lt;/li&gt;
&lt;li&gt;kubectl로 직접 값을 전달&lt;/li&gt;
&lt;li&gt;매니페스트로 생성
&lt;ul&gt;
&lt;li&gt;매니페스트로 생성시 시크릿과 다르게 base64로 인코드되지 않고 추가됨&lt;/li&gt;
&lt;li&gt;value를 여러 행으로 전달할 경우 YAML 문법에 맞게 &lt;code&gt;Key: |&lt;/code&gt;등과 같이 다음 행부터 정의&lt;/li&gt;
&lt;li&gt;숫자는 큰 따옴표로 둘러싸기&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파일로 컨피그맵 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create configmap --save-config sample-configmap --from-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;./nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨피그맵에 등록된 데이터 확인 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get configmaps sample-configmap -o json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨피그맵에 등록된 데이터 확인 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe configmap sample-configmap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;binaryData 필드를 사용하여 UTF-8이외의 데이터를 포함하는 바이너리 데이터도 저장 가능(시크릿도 동일)&lt;/li&gt;
&lt;li&gt;매니페스트 파일로 저장하려면 &amp;ndash;dry-run=client -o yaml 옵션 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create configmap sample-configmap-binary &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-file image.jpg &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;index.html&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello, Kubernetes&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--dry-run&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;client -o yaml &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&amp;gt; sample-configmap-binary.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 로컬 8080 포트에서 파드의 80 포트로 포트 포워딩&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl port-forward sample-configmap-binary-webserver 8080:80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 브라우저로 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ open http://localhost:8080/image.jpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 인수에 각 직접 전달&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create configmap --save-config web-config &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;connection.max&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt; --from-literal&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;connection.min&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;컨피그맵-사용&#34;&gt;컨피그맵 사용&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;두 가지 방법
&lt;ul&gt;
&lt;li&gt;환경 변수로 전달
&lt;ul&gt;
&lt;li&gt;특정 키만
&lt;ul&gt;
&lt;li&gt;spec.containers[].env의 valueFrom.configMapKeyRef 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;전체 키
&lt;ul&gt;
&lt;li&gt;변수 명에 &amp;lsquo;.&amp;rsquo;, &amp;lsquo;-&amp;rsquo; 사용하지 않는 것이 좋음&lt;/li&gt;
&lt;li&gt;여러 행의 경우 볼륨으로 마운트하는 것을 권장&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;볼륨으로 마운트
&lt;ul&gt;
&lt;li&gt;특정 키만
&lt;ul&gt;
&lt;li&gt;spec.volumes[]의 configMap.items[] 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;전체 키&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드의 CONNECTION_MAX 환경 변수 내용 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-configmap-single-env -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep CONNECTION_MAX
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드의 여러 환경 변수 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-configmap-multi-env -- env
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파일로 저장된 컨피그맵 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-configmap-single-volume -- cat /config/nginx-sample.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드에 마운트된 /config 아래 파일 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-configmap-multi-volume -- ls /config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;시크릿과-컨피그맵의-공통-주제&#34;&gt;시크릿과 컨피그맵의 공통 주제&lt;/h4&gt;
&lt;h5 id=&#34;사용-구분&#34;&gt;사용 구분&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;시크릿 데이터는 etcd에 저장됨&lt;/li&gt;
&lt;li&gt;쿠버네티스 노드상에 영구적으로 데이터가 남지 않게 tmpfs 영역에 저장&lt;/li&gt;
&lt;li&gt;base64로 인코드되어 있어 화면에서 판단하기 어려우나 단순 base64 인코드 이므로 깃 저장소 업로드는 금지
&lt;ul&gt;
&lt;li&gt;시크릿을 암호화하는 OSS나 Vault와 같은 서드 파티 솔류션 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;마운트-시-퍼미션-변경&#34;&gt;마운트 시 퍼미션 변경&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드에서 실행하는 경우 볼륨을 생성할 때 실행 권한 부여 가능&lt;/li&gt;
&lt;li&gt;기본값 0644(rw-r&amp;ndash;r&amp;ndash;)로 마운트&lt;/li&gt;
&lt;li&gt;퍼미션은 8진수 표기에서 10진수 표기로 변환한 형태를 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;동적-컨피그맵-업데이트&#34;&gt;동적 컨피그맵 업데이트&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;볼륨 마운트 사용시 일정 기간 마다 파일 교체 (기본값 60초)&lt;/li&gt;
&lt;li&gt;환경 변수를 사용한 컨피그맵은 동적 업데이트 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;데이터-변경-거부&#34;&gt;데이터 변경 거부&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;immutable 설정 변경하면 데이터 변경 방지 가능&lt;/li&gt;
&lt;li&gt;변경하려면 리소스를 삭제하고 다시 생성&lt;/li&gt;
&lt;li&gt;볼륨 마운트의 경우 파드 재생성 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;볼륨-영구-볼륨-영구-볼륨-클레임의-차이&#34;&gt;볼륨, 영구 볼륨, 영구 볼륨 클레임의 차이&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;볼륨
&lt;ul&gt;
&lt;li&gt;미리 준비된 사용 가능한 볼륨을 매니페스트에 직접 지정하여 사용&lt;/li&gt;
&lt;li&gt;사용자가 설정된 볼륨을 사용할 수 있지만 신규 볼륨 생성 또는 기존 볼륨 삭제 불가&lt;/li&gt;
&lt;li&gt;매니페스트에서 볼륨 리소스 생성 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;영구 볼륨
&lt;ul&gt;
&lt;li&gt;외부 영구 볼륨을 제공하는 시스템과 연계하여 신규 볼륨 생성 또는 기존 볼륨 삭제 가능&lt;/li&gt;
&lt;li&gt;매니페스트에서 영구 볼륨 리소스를 별도로 생성하는 형태&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;영구 볼륨 클레임
&lt;ul&gt;
&lt;li&gt;영구 볼륨 리소스를 할당하는 리소스&lt;/li&gt;
&lt;li&gt;영구 볼륨은 클러스터에 볼륨을 등록만 함 -&amp;gt; 실제 사용하려면 영구 볼륨 클레임 정의&lt;/li&gt;
&lt;li&gt;동적 프로비저닝 기능 사용시 영구 볼륨 클레임이 사용된 시점에 영구 볼륨 동적으로 생성 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;볼륨&#34;&gt;볼륨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;추상화하여 파드와 느슨하게 결합된 리소스
&lt;ul&gt;
&lt;li&gt;emptyDir&lt;/li&gt;
&lt;li&gt;hostPath&lt;/li&gt;
&lt;li&gt;downwardAPI&lt;/li&gt;
&lt;li&gt;projected&lt;/li&gt;
&lt;li&gt;nfs&lt;/li&gt;
&lt;li&gt;iscsi&lt;/li&gt;
&lt;li&gt;cephfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;파드에 정적으로 볼륨을 지정 -&amp;gt; 플러그인에 따라 충돌 가능성&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;emptydir&#34;&gt;emptyDir&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;파드용 임시 디스크 영역으로 사용 가능&lt;/li&gt;
&lt;li&gt;파드 종료시 삭제&lt;/li&gt;
&lt;li&gt;호스트의 임의 영역 마운트 불가&lt;/li&gt;
&lt;li&gt;호스트의 파일 참조 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 기동 중인 쿠버네티스 노드의 디스크 영역 할당 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-emptydir -- df -h &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep /cache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;emptyDir.sizeLimit으로 리소스 제한 가능
&lt;ul&gt;
&lt;li&gt;용량 초과시 Evict(축출)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 150MB 파일을 /cache/dummy에 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-emptydir-limit -- dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/cache/dummy &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1M &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;150&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 상태 모니터링&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe pods sample-emptydir-limit
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;고속 tmpfs 메모리 영역 사용 가능&lt;/li&gt;
&lt;li&gt;emptyDir.medium에 Memory 지정&lt;/li&gt;
&lt;li&gt;컨테이너에 대한 메모리 사용 상한 설정에도 영향을 줌&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## tmpfs 영역 할당 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-emptydir-memory -- df -h &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep /cache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;hostpath&#34;&gt;hostPath&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;쿠버네티스 노드상의 영역을 컨테이너에 매핑하는 플러그인&lt;/li&gt;
&lt;li&gt;호스트의 임의 영역 마운트 가능
&lt;ul&gt;
&lt;li&gt;어떤 영역 사용할지 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;type: Directory/DirectoryOrCreate/File/Socket/BlockDevice 등
&lt;ul&gt;
&lt;li&gt;Directory/DirectoryOrCreate 차이: 디렉터리가 존재하지 않을 때 생성 후 기동 유무&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;보안상의 이유로 안전하지 않은 컨테이너가 업로드될 수 있으므로 사용하지 않는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 호스트 OS 이미지 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-hostpath -- cat /srv/os-release &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep PRETTY_NAME
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너 OS 이미지 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-hostpath -- cat /etc/os-release &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep PRETTY_NAME
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;downwardapi&#34;&gt;downwardAPI&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;파드 정보 등을 파일로 배치하기 위한 플러그인&lt;/li&gt;
&lt;li&gt;환경 변수 fieldRef와 ResourceFieldRef 사용 방법과 동일&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 정보등이 파일로 배치&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-downward-api -- ls /srv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;projectd&#34;&gt;projectd&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;시크릿/컨피그맵/downwardAPI/serviceAccountToken의 볼륨 마운트롤 하나의 디렉터리에 통합하는 플러그인&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## /srv 디렉터리 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-projectd -- ls /srv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## /srv/configmap 디렉터리 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-projectd -- ls /srv/configmap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## /srv/secret 디렉터리 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-projectd -- ls /srv/secret
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;영구볼륨pv&#34;&gt;영구볼륨(PV)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;기본적으로 네트워크를 통해 디스크를 attach하는 디스크 타입&lt;/li&gt;
&lt;li&gt;개별 리소스로 생성 후 사용&lt;/li&gt;
&lt;li&gt;pluggable한 구조로 되어 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;생성&#34;&gt;생성&lt;/h4&gt;
&lt;h5 id=&#34;레이블&#34;&gt;레이블&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;동적 프로비저닝을 사용하지 않고 영구 볼륨을 생성하는 경우 영구 볼륨 종류를 알 수 없으므로, 레이블을 사용하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;용량&#34;&gt;용량&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;동적 브로비저닝을 사용할 수 없는 상황에서는 작은 용량의 영구 볼륨도 준비해야함 (가장 비슷한 용량이 할당되므로)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;접근-모드&#34;&gt;접근 모드&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ReadWriteOnce: 단일 노드에서 Read/Write 가능&lt;/li&gt;
&lt;li&gt;ReadOnlyMany: 여러 노드에서 Read 가능
&lt;ul&gt;
&lt;li&gt;하나라도 쓰기 요청이 있는 파드가 있으면 다른 노드에서 마운트 불가능&lt;/li&gt;
&lt;li&gt;파드에서 영구 볼륨 지정할 때 ReadOnly 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ReadWriteMany: 여러 노드에서 Read/Write 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;reclaim-policy&#34;&gt;Reclaim Policy&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;영구 볼륨 사용 후 처리 방법을 제어하는 정책&lt;/li&gt;
&lt;li&gt;영구 볼륨 클레임에서 사용된 후 영구 볼륨 클레임이 삭제되었을 때 영구 볼륨 자체의 동작 설정&lt;/li&gt;
&lt;li&gt;세가지 방법 존재
&lt;ul&gt;
&lt;li&gt;Delete: 영구 볼륨 자체가 삭제
&lt;ul&gt;
&lt;li&gt;GCP/AWS 등에서 확보되는 외부 볼륨의 동적 프로비저닝 때 사용되는 경우가 많음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Retain: 영구 볼륨 삭제하지 않고 유지
&lt;ul&gt;
&lt;li&gt;또다른 PVC에 의해 다시 마운트 되지는 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Recycle: 영구 볼륨 데이터 삭제 후 재사용 가능 상태로 만듦
&lt;ul&gt;
&lt;li&gt;다른 영구 볼륨 클레임에서 마운트 가능&lt;/li&gt;
&lt;li&gt;동적 프로비저닝을 사용하는 것이 좋음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;스토리지클래스&#34;&gt;스토리지클래스&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;동적으로 영구 볼륨을 프로비저닝하는 구조&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;영구-볼륨-클레임pvc&#34;&gt;영구 볼륨 클레임(PVC)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;영구 볼륨을 요청하는 리소스&lt;/li&gt;
&lt;li&gt;PVC에서 지정된 조건(용량, 레이블)을 기반으로 PV에 대한 요청이 들어오면 스케줄러는 현재 가지고 있는 PV에서 적당한 볼륨을 할당&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;설정&#34;&gt;설정&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;다음과 같은 항목 설정 가능
&lt;ul&gt;
&lt;li&gt;레이블 셀렉터&lt;/li&gt;
&lt;li&gt;용량&lt;/li&gt;
&lt;li&gt;접근 모드&lt;/li&gt;
&lt;li&gt;스토리지클래스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PVC 용량이 PV 보다 작아야 할당(PV보다 큰 용량이 할당됨)&lt;/li&gt;
&lt;li&gt;파드에서 사용하려면 spec.volumes에 persistentVolumeClaim.claimName 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;동적-프로비저닝&#34;&gt;동적 프로비저닝&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;PVC가 생성되는 타이밍에 동적으로 영구 볼륨 생성&lt;/li&gt;
&lt;li&gt;사전에 영구 볼륨을 생성할 필요 없으며, 용량 낭비 발생하지 않음&lt;/li&gt;
&lt;li&gt;사전에 어떤 PV를 생성할지 정의한 스토리지클래스 생성&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;영구-볼륨-할당-타이밍-제어&#34;&gt;영구 볼륨 할당 타이밍 제어&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;동적 프로닝 사용 -&amp;gt; PVC 생성시 파드에 PVC가 붙어있지 않아도 PV가 생성됨&lt;/li&gt;
&lt;li&gt;실제 파드에 붙기전에 PV가 생성되고 연결할 수 있음&lt;/li&gt;
&lt;li&gt;volumeBindingMode 설정값&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정값&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Immediate(기본값)&lt;/td&gt;
&lt;td&gt;즉시 PV가 생성되고 연결할 수 있게 됨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WaitForFirstConsumer&lt;/td&gt;
&lt;td&gt;처음으로 파드에 사용될 때 PV가 생성되고 연결할 수 있게 됨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;pvc-조정을-사용한-볼륨-확장&#34;&gt;PVC 조정을 사용한 볼륨 확장&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;동적 프로비저닝을 사용하고 크기 조정을 지원하는 볼륨 플러그인을 사용할 땐 PVC 확장 가능&lt;/li&gt;
&lt;li&gt;사전에 스토리지클래스에 allowVolumeExpantion:true 설정&lt;/li&gt;
&lt;li&gt;축소는 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 마운트된 PV 크기 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-pvc-resize-pod --df -h &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep /usr/share/nginx/html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## PVC에서 요청하는 용량 변경&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl patch pvc sample-pvc-resize --patch &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;resources&amp;#34;: {&amp;#34;requests&amp;#34;: {&amp;#34;storage&amp;#34;: &amp;#34;16Gi&amp;#34;}}}}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;스테이트풀셋에서-pvc&#34;&gt;스테이트풀셋에서 PVC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;spec.volumeClaimTemplate 항목을 사용하면 PVC를 별도 정의하지 않아도 자동으로 생성 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;volumemounts에서-사용-가능한-옵션&#34;&gt;volumeMounts에서 사용 가능한 옵션&lt;/h3&gt;
&lt;h4 id=&#34;읽기-전용readonly-마운트&#34;&gt;읽기 전용(ReadOnly) 마운트&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;여러 볼륨을 컨테이너에 마운트할 때 readonly 옵션 지정 가능&lt;/li&gt;
&lt;li&gt;hostPath는 컨테이너에 호스트 영역을 보여주므로 보안상 좋지 않음
&lt;ul&gt;
&lt;li&gt;최소한 ReadOnly로 마운트하자&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;subpath&#34;&gt;subPath&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;볼륨 마운트시 특정 디렉터리를 루트로 마운트하는 기능&lt;/li&gt;
&lt;li&gt;각 컨테이너가 하나의 볼륨을 사용하면서도 서로 영향이 없도록 디렉터리 나눌 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## subPath /path1을 지정한 컨테이너&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-subpath -c container-b -- find /data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## subPath를 지정하지 않은 컨테이너&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-subpath -c container-a -- find /data
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>서비스 API</title>
        <link>https://Haebuk.github.io/p/%EC%84%9C%EB%B9%84%EC%8A%A4-api/</link>
        <pubDate>Sat, 11 Jun 2022 23:00:00 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EC%84%9C%EB%B9%84%EC%8A%A4-api/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EC%84%9C%EB%B9%84%EC%8A%A4-api/Kubernetes-Logo.wine.png" alt="Featured image of post 서비스 API" /&gt;&lt;h2 id=&#34;서비스-api-카테고리&#34;&gt;서비스 API 카테고리&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;클러스터 컨테이너에 대한 엔드포인트를 제공하거나 레이블과 일치하는 컨테이너의 디스커버리에 사용되는 리소스&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;서비스
&lt;ul&gt;
&lt;li&gt;ClusterIP&lt;/li&gt;
&lt;li&gt;ExternalIP(ClusterIP의 한 종류)&lt;/li&gt;
&lt;li&gt;NodePort&lt;/li&gt;
&lt;li&gt;LoadBalancer&lt;/li&gt;
&lt;li&gt;Headless(None)&lt;/li&gt;
&lt;li&gt;ExternalName&lt;/li&gt;
&lt;li&gt;Node-Selector&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;인그레스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;파드는 서비스를 사용하지 않고도 파드간 통신이 가능하나, 서비스를 사용하면 두 가지 큰 장점이 있음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;파드에 트래픽 로드 밸런싱&lt;/li&gt;
&lt;li&gt;서비스 디스커버리와 클러스터 내부 DNS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;파드에-트래픽-로드-밸런싱&#34;&gt;파드에 트래픽 로드 밸런싱&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;수신한 트래픽을 여러 파드에 로드 밸런싱&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;clusterip&#34;&gt;ClusterIP&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;클러스터 내부에서만 사용 가능한 가상 IP를 가진 엔드포인트 제공하는 로드 밸런서 구성&lt;/li&gt;
&lt;li&gt;spec.selector에 정의한 조건에 따라 트래픽 전송&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 서비스 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-clusterip.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 지정한 레이블을 가진 파드 중 특정 JSON Path를 컬럼으로 출력&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods -l &lt;span class=&#34;nv&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sample-app -o custom-columns&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;NAME:{metadata.name},IP:{status.podIP}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 서비스 상세 정보 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe service sample-clusterip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Endpoints에 app=sample-app 라벨을 가진 파드의 IP 정보가 있음&lt;/li&gt;
&lt;li&gt;Endpoints 항목에 아무것도 없을 경우 셀렉터 조건이 맞지 않을 가능성 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 일시적으로 파드를 시작하여 서비스 엔드포인트로 요청&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### (여러 번 실행 시 비슷한 빈도로 세 개의 파드명 표시)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl run --image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;amsy810/tools:v2.0 --restart&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Never --rm -i testpod --command -- curl -s http://&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;ClusterIP&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;:8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.100.50.111  &lt;span class=&#34;nv&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/  &lt;span class=&#34;nv&#34;&gt;From&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sample-deployment-687d589688-8nbcs  &lt;span class=&#34;nv&#34;&gt;ClientIP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.31.9.8  &lt;span class=&#34;nv&#34;&gt;XFF&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pod &lt;span class=&#34;s2&#34;&gt;&amp;#34;testpod&amp;#34;&lt;/span&gt; deleted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;여러-포트-할당&#34;&gt;여러 포트 할당&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;하나의 서비스에 여러 포트 할당 가능 (바람직)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;이름을-사용한-포트-참조&#34;&gt;이름을 사용한 포트 참조&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;파드의 포트 정의에 이름을 지정하면 이름을 사용하여 참조 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 서비스 목적지 엔드포인트 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl describe service sample-named-port-service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 IP 주소 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods -o wide
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;클러스터-내부-dns와-서비스-디스커버리&#34;&gt;클러스터 내부 DNS와 서비스 디스커버리&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;서비스에 속한 파드를 보여주거나 서비스명에서 엔드포인트를 반환하는 것&lt;/li&gt;
&lt;li&gt;서비스 디스커버리 방법
&lt;ul&gt;
&lt;li&gt;환경 변수 사용&lt;/li&gt;
&lt;li&gt;DNS A 레코드 사용&lt;/li&gt;
&lt;li&gt;DNS SRV 레코드 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;환경-변수를-사용한-서비스-디스커버리&#34;&gt;환경 변수를 사용한 서비스 디스커버리&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드 내부에서는 환경 변수에서도 같은 네임스페이스 서비스 확인 가능&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&lt;/code&gt;이 포함된 서비스명은 &lt;code&gt;_&lt;/code&gt;로 변경 후 대문자 변환됨&lt;/li&gt;
&lt;li&gt;파드 생성 후 서비스 생성 또는 삭제에 따라 변경된 환경 변수가 기존 파드에 자동 등록되지 않음
&lt;ul&gt;
&lt;li&gt;먼저 생성한 파드 재생성 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 환경 변수에 등록된 서비스 정보 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-deployment-&lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt; -- env &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -i kubernetes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;spec.enableServiceLinks를 false로 지정시 환경 변수 추가 비활성화 (기본값 true)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;dns-a-레코드를-사용한-서비스-디스커버리&#34;&gt;DNS A 레코드를 사용한 서비스 디스커버리&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;IP 주소를 편하게 관리하기 위해 기본적으로 자동 할당된 IP 주소에 연결된 DNS 명을 사용하는 것이 좋음&lt;/li&gt;
&lt;li&gt;서비스명의 이름 해석이 수행되고 해당 ip로 요청이 발송&lt;/li&gt;
&lt;li&gt;다른 네임스페이스의 경우 sample-cluster.default와 같이 네임스페이스명을 붙여 이름 해석해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 일시적으로 파드 기동하여 컨테이너 내부에서 sample-clusterip:8080으로 HTTP 요청&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl run --image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;amsy810/tools:v2.0 --restart&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Never --rm -i testpod &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--command -- curl -s http://sample-clusterip:8080
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;dns-srv-레코드를-사용한-서비스-디스커버리&#34;&gt;DNS SRV 레코드를 사용한 서비스 디스커버리&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;포트명과 프로토콜을 사용해 서비스를 제공하는 포트 번호를 포함한 엔드포인트를 DNS로 해석&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_서비스 포트명._프로토콜.서비스명.네임스페이스명.svc.cluster.local&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 일시적으로 파드 기동하여 SRV 레코드가 다른 파드에서 해석이 가능한지 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl run --image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;amsy810/tools:v2.0 --restart&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Never --rm -i testpod &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--command -- dig _http-port._tcp.sample-clusterip.default.svc.cluster.local SRV
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt; QUESTION SECTION:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;_http-port._tcp.sample-clusterip.default.svc.cluster.local. IN SRV
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt; ANSWER SECTION:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;_http-port._tcp.sample-clusterip.default.svc.cluster.local. &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; IN SRV &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt; sample-clusterip.default.svc.cluster.local.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt; ADDITIONAL SECTION:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-clusterip.default.svc.cluster.local. &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; IN A 10.100.50.111
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;목적지 호스트명 sample-clusterip.default.svc.cluster.local과 포트번호 8080 해석 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;클러스터-내부-dns와-클러스터-외부-dns&#34;&gt;클러스터 내부 DNS와 클러스터 외부 DNS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;파드의 DNS 서버 설정을 명시적으로 하지 않으면 클러스터 내부 DNS 사용하여 이름 해석 수행&lt;/li&gt;
&lt;li&gt;내부 이외의 레코드는 외부 DNS에 재귀 질의 해야함&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;노드-로컬-dns-캐시&#34;&gt;노드 로컬 DNS 캐시&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;대규모 클러스터에서 성능 향상을 위해 각 노드의 로컬에 DNS 캐시 서버를 포함하는 구조도 존재
&lt;ul&gt;
&lt;li&gt;활성화한 환경에서 파드의 질의 대상은 같은 노드에 있는 로컬 DNS 캐시 서버&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;clusterip-서비스&#34;&gt;ClusterIP 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;클러스터 내부에서만 통신 가능한 가상 IP 할당&lt;/li&gt;
&lt;li&gt;클러스터 외부에서 트래픽을 수신할 필요가 없는 환경에서 내부 로드 밸런서로 활용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;externalip-서비스&#34;&gt;ExternalIP 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;지정한&lt;/strong&gt; 쿠버네티스 노드 IP 주소:포트에서 수신한 트래픽을 컨테이너로 전달하는 형태로 외부와 통신&lt;/li&gt;
&lt;li&gt;특별한 이유가 없다면 NodePort 서비스를 사용하는것이 좋음&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type: ExternalIP&lt;/code&gt;를 지정하는 것이 아님 (ClusterIP에 해당함)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;nodeport-서비스&#34;&gt;NodePort 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;모든&lt;/strong&gt; 쿠버네티스 노드 IP 주소:포트에서 수신한 트래픽을 컨테이너로 전달하는 형태로 외부와 통신&lt;/li&gt;
&lt;li&gt;모든 쿠버네티스 노드의 IP 주소에서 해당 포트를 listen 하기 때문에 충돌 주의&lt;/li&gt;
&lt;li&gt;할당된 포트 번호를 지정할 필요가 없을 경우, 포트를 지정하지 않으면 빈 포트 번호가 자동으로 선택됨&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정 항목&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;spec.ports[].port&lt;/td&gt;
&lt;td&gt;ClusterIP에서 수신할 포트 번호&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;spec.ports[].targetPort&lt;/td&gt;
&lt;td&gt;목적지 컨테이너 포트 번호&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;spec.ports[].nodePort&lt;/td&gt;
&lt;td&gt;모든 쿠버네티스 노드 IP 주소에서 수신할 포트 번호&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;nodeport-주의점&#34;&gt;NodePort 주의점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;가용한 포트 범위는 대부분 30000 ~ 32767&lt;/li&gt;
&lt;li&gt;여러 NodePort 서비스에서 같은 포트 사용 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;loadbalancer-서비스&#34;&gt;LoadBalancer 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;클러스터 외부로부터 트래픽을 수신할 때 가장 실용적인 서비스&lt;/li&gt;
&lt;li&gt;쿠버네티스 노드와 별도로 외부 로드 밸런스를 사용 -&amp;gt; 노드 장애에도 크게 문제가 되지 않음 (장애 발생한 노드에는 트래픽을 전송하지 않음)
&lt;ul&gt;
&lt;li&gt;장애 감지 까지 일시적으로 서비스 중단 현상이 발생할 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;생성시 EXTERNAL-IP가 &lt;code&gt;&amp;lt;pending&amp;gt;&lt;/code&gt; 상태임
&lt;ul&gt;
&lt;li&gt;로드밸런서를 백그라운드에서 생성중이기 때문에 아직 미할당된 상태&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;정적으로 외부 LB에서 사용하는 IP 주소 지정 가능&lt;/li&gt;
&lt;li&gt;방화벽을 지정하여 접속 제한 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 외부에서 통신&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 여러번 실행 시 비슷한 빈도로 세 개의 파드명 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ curl -s http://&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;lb EXTERNAL-IP&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;:8080
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;그-외-서비스&#34;&gt;그 외 서비스&lt;/h3&gt;
&lt;h4 id=&#34;세션-어피니티&#34;&gt;세션 어피니티&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;트래픽을 서비스에 연결된 어느 하나의 파트에 전송되면, 그 파드에 계속 보내고 싶을 때 사용&lt;/li&gt;
&lt;li&gt;최대 세션 고정 시간 설정 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;노드-간-통신-제외와-발신-측-ip-주소-유지&#34;&gt;노드 간 통신 제외와 발신 측 IP 주소 유지&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;NodePort, LoadBalancer 서비스에서 노드에 도착한 요청은 2단계 로드 밸런싱이 이루어짐(레이턴시 오버헤드 발생)&lt;/li&gt;
&lt;li&gt;발신 측 IP 주소가 유실되는 특징&lt;/li&gt;
&lt;li&gt;데몬셋은 하나의 노드에 하나의 파드만 배치되므로 같은 노드에만 통신하고 싶은 경우&lt;/li&gt;
&lt;li&gt;NodePort 서비스의 &lt;code&gt;spec.externalTrafficPolicy&lt;/code&gt;를 &lt;code&gt;local&lt;/code&gt;로 설정
&lt;ul&gt;
&lt;li&gt;해당 노드의 요청은 그 노드상에 있는 파드에만 전송
&lt;ul&gt;
&lt;li&gt;두 개 이상의 파드 존재시 균등 전송&lt;/li&gt;
&lt;li&gt;파드가 없다면 요청에 응답할 수 없으므로 가능하면 사용 X&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LoadBalancer 서비스의 &lt;code&gt;spec.externalTrafficPolicy&lt;/code&gt;를 &lt;code&gt;local&lt;/code&gt;로 설정
&lt;ul&gt;
&lt;li&gt;별도의 헬스 체크용 NodePort가 있어 파드가 존재하지 않는 노드에는 요청이 전송되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;헤드리스-서비스none&#34;&gt;헤드리스 서비스(None)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;대상이 되는 개별 파드의 IP 주소가 직접 반환되는 서비스&lt;/li&gt;
&lt;li&gt;로드 밸런싱을 위한 IP 주소는 제공되지 않음&lt;/li&gt;
&lt;li&gt;DNS 라운드 로빈을 사용한 엔드포인트 제공&lt;/li&gt;
&lt;li&gt;스테이트풀셋이 헤드리스 서비스를 사용하는 경우에만 파드명으로 IP주소를 찾을 수 있음&lt;/li&gt;
&lt;li&gt;생성 조건
&lt;ul&gt;
&lt;li&gt;서비스의 spec.type이 ClusterIP일 것&lt;/li&gt;
&lt;li&gt;서비스의 spec.ClusterIP가 None일 것&lt;/li&gt;
&lt;li&gt;[옵션] 서비스의 metadata.name이 스테이트풀셋의 spec.serviceName과 같을 것
&lt;ul&gt;
&lt;li&gt;파드명으로 디스커버리하는 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;externalname-서비스&#34;&gt;ExternalName 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;외부도메인으로 CNAME 반환&lt;/li&gt;
&lt;li&gt;다른 이름을 설정하고 싶거나, 클러스터 내부에서의 엔드포인트를 쉽게 변경하고 싶을 때 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;외부-서비스와-느슨한-결합-확보&#34;&gt;외부 서비스와 느슨한 결합 확보&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;목적지가 변경되었을 때 ExternalName 서비스를 변경하는 것만으로 가능&lt;/li&gt;
&lt;li&gt;ClusterIP 서비스에서 ExternalName 서비스로 전환할 경우 spec.clusterIP를 명시적으로 공란으로 두어야함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;none-selector-서비스&#34;&gt;None-Selector 서비스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;서비스명으로 이름 해석시 자신이 설정한 멤버에 대해 로드 밸런싱 수행&lt;/li&gt;
&lt;li&gt;externalName을 지정하지 않고 셀렉터가 존재하지 않는 서비스 생성 + 엔드포인트 리소스 수동 생성하면 유연한 서비스 생성 가능
&lt;ul&gt;
&lt;li&gt;쿠버네티스 외부에 애플리케이션 서버에 대한 요청을 분산하는 경우에도 쿠버네티스 서비스 사용 가능&lt;/li&gt;
&lt;li&gt;서비스 환경과 스테이징 환경에서 클러스터 내외부를 분리해도 애플리케이션에서 같은 ClusterIP로 보여줄 수 있음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;인그레스&#34;&gt;인그레스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;서비스들을 묶는 서비스들의 상위 객체&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;리소스와-컨트롤러&#34;&gt;리소스와 컨트롤러&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;매니페스트를 쿠버네티스에 등록하는 것만으로는 아무 처리도 일어나지 않음
&lt;ul&gt;
&lt;li&gt;실제 처리를 하는 컨트롤러라는 시스템 구성 요소 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;인그레스 리소스: 매니페스트에 등록된 API 리소스&lt;/li&gt;
&lt;li&gt;인그레스 컨트롤러: 인그레스 리소스가 쿠버네티스에 등록되었을 때 어떠한 처리 수행&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;인그레스-종류&#34;&gt;인그레스 종류&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;클러스터 외부 로드 밸런서를 사용한 인그레스
&lt;ul&gt;
&lt;li&gt;GKE 인그레스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;클러스터 내부 로드 밸런서를 사용한 인그레스
&lt;ul&gt;
&lt;li&gt;Nginx 인그레스&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;클러스터-외부-로드-밸런서를-사용한-인그레스&#34;&gt;클러스터 외부 로드 밸런서를 사용한 인그레스&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;인그레스 리소스 생성만으로 로드 밸런서의 가상 IP가 할당되어 사용 가능&lt;/li&gt;
&lt;li&gt;순서(단계)
&lt;ol&gt;
&lt;li&gt;클라이언트&lt;/li&gt;
&lt;li&gt;-&amp;gt; L7 로드 밸런서(NodePort 경유)&lt;/li&gt;
&lt;li&gt;-&amp;gt; 목적지 파드&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;클러스터-내부에-인그레스용-파드를-배포하는-인그레스&#34;&gt;클러스터 내부에 인그레스용 파드를 배포하는 인그레스&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;인그레스 리소스에서 정의한 L7 수준의 로드 밸런싱 처리를 하기 위해 인그레스용 파드를 클러스터 내부에 생성해야 함&lt;/li&gt;
&lt;li&gt;클러스터 외부에서 접속할 수 있도록 별도로 인그레스용 파드에 LoadBalancer 서비스를 생성하는 등의 준비 필요&lt;/li&gt;
&lt;li&gt;SSL 터미네이션이나 경로 기반 라우팅 등과 같은 L7 수준의 처리를 위해 부하에 따른 레플리카 수의 오토 스케일링 고려해야 함&lt;/li&gt;
&lt;li&gt;순서(단계)
&lt;ol&gt;
&lt;li&gt;클라이언트&lt;/li&gt;
&lt;li&gt;-&amp;gt; L4 로드 밸런서(type: LoadBalancer)&lt;/li&gt;
&lt;li&gt;-&amp;gt; Nginx 파드(Nginx 인그레스 컨트롤러)&lt;/li&gt;
&lt;li&gt;-&amp;gt; 목적지 파드&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;정리&#34;&gt;정리&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;파드 서비스 디스커버리나 L4 로드 밸런싱 기능을 제공하기 위한 서비스 리소스&lt;/li&gt;
&lt;li&gt;L7 로드 밸런싱 기능을 제공하는 인그레스&lt;/li&gt;
&lt;li&gt;서비스
&lt;ul&gt;
&lt;li&gt;L4 로드 밸런싱&lt;/li&gt;
&lt;li&gt;클러스터 내부 DNS를 사용한 이름 해석&lt;/li&gt;
&lt;li&gt;레이블을 사용한 파드의 디스커버리&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;인그레스
&lt;ul&gt;
&lt;li&gt;L7 로드 밸런싱&lt;/li&gt;
&lt;li&gt;SSL 터미네이션&lt;/li&gt;
&lt;li&gt;경로 기반 라우팅&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;서비스 종류&lt;/th&gt;
&lt;th&gt;IP 엔드포인트 내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ClusterIP&lt;/td&gt;
&lt;td&gt;쿠버네티스 클러스터 내부에서만 통신 가능한 가상 IP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ExternalIP&lt;/td&gt;
&lt;td&gt;특정 쿠버네티스 노드의 IP 주소&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NodePort&lt;/td&gt;
&lt;td&gt;모든 쿠버네티스 노드의 모든 IP 주소(0.0.0.0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LoadBalancer&lt;/td&gt;
&lt;td&gt;클러스터 외부에서 제공되는 로드 밸런서의 가상 IP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Headless(None)&lt;/td&gt;
&lt;td&gt;파드의 IP 주소를 사용한 DNS 라운드 로빈&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ExternalName&lt;/td&gt;
&lt;td&gt;CNAME을 사용한 느슨한 연결 확보&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;None-Selector&lt;/td&gt;
&lt;td&gt;원하는 목적지 멤버를 설정할 수 있는 다양한 엔드 포인트&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;인그레스 종류&lt;/th&gt;
&lt;th&gt;구현 예제&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;클러스터 외부 로드 밸런서를 사용한 인그레스&lt;/td&gt;
&lt;td&gt;GKE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;클러스터 내부에 인그레스용 파드를 배포하는 인그레스&lt;/td&gt;
&lt;td&gt;Nginx 인그레스&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title>워크로드 API</title>
        <link>https://Haebuk.github.io/p/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C-api/</link>
        <pubDate>Fri, 10 Jun 2022 16:51:33 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C-api/</guid>
        <description>&lt;img src="https://Haebuk.github.io/p/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C-api/Kubernetes-Logo.wine.png" alt="Featured image of post 워크로드 API" /&gt;&lt;h2 id=&#34;워크로드-api-카테고리&#34;&gt;워크로드 API 카테고리&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;클러스터에 컨테이너를 기동시키기 위해 사용되는 리소스
&lt;ul&gt;
&lt;li&gt;Pod&lt;/li&gt;
&lt;li&gt;Replication Controller(Deprecated)&lt;/li&gt;
&lt;li&gt;ReplicaSet&lt;/li&gt;
&lt;li&gt;Deployment&lt;/li&gt;
&lt;li&gt;DaemonSet&lt;/li&gt;
&lt;li&gt;StatefulSet&lt;/li&gt;
&lt;li&gt;Job&lt;/li&gt;
&lt;li&gt;CronJob&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;파드&#34;&gt;파드&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;워크로드 리소스의 최소 단위&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;파드-디자인-패턴&#34;&gt;파드 디자인 패턴&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;종류&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;사이드카 패턴&lt;/td&gt;
&lt;td&gt;메인 컨테이너에 기능 추가&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;앰배서더 패턴&lt;/td&gt;
&lt;td&gt;외부 시스템과의 통신 중계&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;어댑터 패턴&lt;/td&gt;
&lt;td&gt;외부 접속을 위한 인터페이스 제공&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;파드-명령어&#34;&gt;파드 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-pod.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 목록 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 상세 정보 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods --output wide
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너에서 /bin/bash 실행&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-pod -- /bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@sample-pod:/## &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;이후 컨테이너 내부에서 명령어 실행 가능&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너에서 ls 명령어 실행&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-pod -- /bin/ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 다수의 컨테이너 포함한 파드의 경우 특정 컨테이너 지정 가능&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-2pod -c nginx-container -- /bin/ls
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;파드-주의-사항&#34;&gt;파드 주의 사항&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;파드 내 컨테이너가 같은 포트로 바인드되면 안됨&lt;/li&gt;
&lt;li&gt;쿠버네티스는 &lt;code&gt;ENTRYPOINT&lt;/code&gt;를 &lt;code&gt;command&lt;/code&gt;, &lt;code&gt;CMD&lt;/code&gt;를 &lt;code&gt;args&lt;/code&gt;라고 부름&lt;/li&gt;
&lt;li&gt;파드명 제한
&lt;ul&gt;
&lt;li&gt;영어 소문자 또는 숫자&lt;/li&gt;
&lt;li&gt;기호는 &amp;lsquo;-&amp;rsquo; 또는 &amp;lsquo;.&amp;rsquo;&lt;/li&gt;
&lt;li&gt;시작과 끝은 영어 소문자&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;레플리카셋레플레케이션-컨트롤러&#34;&gt;레플리카셋/레플레케이션 컨트롤러&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드의 레플리카를 생성하고 지정한 파드 수를 유지하는 리소스&lt;/li&gt;
&lt;li&gt;노드나 파드에 장애가 발생했을 때도 지정한 파드 수를 유지하기 위해 다른 노드에서 파드를 기동하므로 장애 시에 많은 영향 받지 않음&lt;/li&gt;
&lt;li&gt;모니터링은 특정 레이블을 가진 파드 수를 계산하는 형태로 이루어짐&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;레플리카셋-명령어&#34;&gt;레플리카셋 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카셋 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-rs.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카셋 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get replicasets -o wide
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레이블 지정하여 파드 목록 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카셋 이름-임의의 문자열로 명명 ex. sample-rs-cnvm5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get pods -l &lt;span class=&#34;nv&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sample-app -o wide
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카셋 상세 정보 표시 (증감 이력 등)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## kubectl describe replicaset sample-rs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;레플리카셋-주의점&#34;&gt;레플리카셋 주의점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;spec.selector와 spec.template.metadata.labels의 레이블의 일치하지 않으면 에러&lt;/li&gt;
&lt;li&gt;외부에서 같은 레이블을 가진 파드가 있으면 레플리카 수에 충족되는 만큼 파드 삭제&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;레플리카셋-스케일링&#34;&gt;레플리카셋 스케일링&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;두 가지 방법
&lt;ul&gt;
&lt;li&gt;매니페스트 수정하여 &lt;code&gt;kubectl apply -f&lt;/code&gt; 명령어 실행
&lt;ul&gt;
&lt;li&gt;IaC(Infrastructure as Code)를 구현하기 위해서라도 해당 방법 권장&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sed -i -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s|replicas: 3|replicas: 4|&amp;#39;&lt;/span&gt; sample-rs.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-rs.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl scale&lt;/code&gt; 명령어를 사용하여 스케일 처리
&lt;ul&gt;
&lt;li&gt;레플리카셋 이외에도 디플로이먼트/스테이트풀셋/잡/크론잡에서 사용 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카 수를 5로 변경&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl scale replicaset sample-rs --replicas &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;디플로이먼트&#34;&gt;디플로이먼트&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;여러 레플리카셋을 관리하며 롤링 업데이트나 롤백 등을 구현하는 리소스&lt;/li&gt;
&lt;li&gt;디플로이먼트 -&amp;gt; 레플리카셋 -&amp;gt; 파드 (관리 순서)&lt;/li&gt;
&lt;li&gt;롤링 업데이트 과정
&lt;ol&gt;
&lt;li&gt;신규 레플리카셋 생성&lt;/li&gt;
&lt;li&gt;신규 레플리카셋 레플리카 수(파드 수)를 단계적으로 늘림&lt;/li&gt;
&lt;li&gt;이전 레플리카셋의 레플리카 수(파드 수)를 단계적으로 줄임&lt;/li&gt;
&lt;li&gt;2,3 반복&lt;/li&gt;
&lt;li&gt;이전 레플리카셋은 레플리카 수를 0으로 유지&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;파드를 하나만 기동해도 디플로이먼트 사용을 권장(파드 장애시 자동 재생성, 롤링 업데이트 등)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;디플로이먼트-명령어&#34;&gt;디플로이먼트 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## --record를 사용하여 업데이트 이력을 저장. 디플로이먼트 가동 (deprecated option)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-deployment.yaml --record
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 디플로이먼트 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get deployments
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                READY   UP-TO-DATE   AVAILABLE   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-deployment   3/3     &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;            &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;           2m30s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카셋 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get replicasets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                           DESIRED   CURRENT   READY   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-deployment-77c7b569f6   &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;       2m39s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME                                 READY   STATUS    RESTARTS   AGE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-deployment-77c7b569f6-bnbcw   1/1     Running   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          2m44s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-deployment-77c7b569f6-fzh2m   1/1     Running   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          2m44s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sample-deployment-77c7b569f6-wjvbn   1/1     Running   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;          2m44s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너 이미지 업데이트&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; image deployment sample-deployment nginx-container&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nginx:1.17 --record
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 디플로이먼트 업데이트 상태 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout status deployment sample-deployment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 변경 이력 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout &lt;span class=&#34;nb&#34;&gt;history&lt;/span&gt; deployment sample-deployment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 초기 상태의 디플로이먼트&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout &lt;span class=&#34;nb&#34;&gt;history&lt;/span&gt; deployment sample-deployment --revision &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 한 번 업데이트된 후의 디플로이먼트&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout &lt;span class=&#34;nb&#34;&gt;history&lt;/span&gt; deployment sample-deployment --revision &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 버전 지정하여 롤백&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout undo deployment sample-deployment --to-revision &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 직전 버전으로 롤백&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout undo deployment sample-deployment
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 업데이트 일시 정지&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout pause deployment sample-deployment
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 업데이트 일시 정지 해제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl rollout resume deployment sample-deployment
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카 수를 3에서 4로 변경한 매니페스트를 apply - 디플로이먼트 스케일링&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sed -i -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s|replicas: 3|replicas: 4|&amp;#39;&lt;/span&gt; sample-deployment.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-deployment.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## kubectl scale 명령어&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl scale deployment sample-deployment --replicas&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 매니페스트를 사용하지 않고 명령어로 디플로이먼트 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create deployment sample-deployment-by-cli --image nginx:1.16
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;디플로이먼트-업데이트-전략&#34;&gt;디플로이먼트 업데이트 전략&lt;/h4&gt;
&lt;h5 id=&#34;recreate&#34;&gt;Recreate&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;모든 파드 삭제하고 다시 파드 생성&lt;/li&gt;
&lt;li&gt;다운타임 발생하지만 추가 리소스를 사용하지 않으며 전환이 빠름
&lt;ul&gt;
&lt;li&gt;기존 레플리카셋의 레플리카 수를 0으로 하고 리소스 반환&lt;/li&gt;
&lt;li&gt;신규 레플리카셋 생성하고 레플리카 수 늘림&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;rollingupdate&#34;&gt;RollingUpdate&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;업데이트 중 정지 가능 최대 파드 수(maxUnavailable)와 생성 가능한 최대 파드 수(maxSurge)를 설정 가능&lt;/li&gt;
&lt;li&gt;추가 리소스를 사용하지 않도록 하거나 많은 리소스를 소비하지 않고 빠르게 전환하는 등의 동작 제어 가능&lt;/li&gt;
&lt;li&gt;maxUnavailable과 maxSurge 모두 0은 불가능&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;상세-업데이트-파라미터&#34;&gt;상세 업데이트 파라미터&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;minReadySeconds(최소 대기 시간(초))
&lt;ul&gt;
&lt;li&gt;파드가 Ready 상태가 된 후 디플로이먼트 리소스에서 파드 기동이 완료되었다고 판단(다음 파드의 교체가 가능하다고 판단)하기까지의 최소 시간&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;revisionHistoryLimit(수정 버전 기록 제한)
&lt;ul&gt;
&lt;li&gt;디플로이먼트가 유지할 레플리카셋 수&lt;/li&gt;
&lt;li&gt;롤백이 가능한 이력 수&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;progressDeadlineSeconds(진행 기한 시간(초))
&lt;ul&gt;
&lt;li&gt;Recreate/RollingUpdate 처리 타임아웃 시간&lt;/li&gt;
&lt;li&gt;타임아웃 시간 경과시 자동 롤백&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;디플로이먼트-주의사항&#34;&gt;디플로이먼트 주의사항&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;실제 환경에서는 롤백 보다는 이전 매니테스트를 &lt;code&gt;kubectl apply&lt;/code&gt;를 실행하여 적용하는 것이 호환성 면에서 좋음&lt;/li&gt;
&lt;li&gt;pause 상태에서는 업데이트가 즉시 반영되지 않고, 롤백도 되지 않음&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;데몬셋&#34;&gt;데몬셋&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;레플리카셋의 특수 형태 (각 노드에 파드를 하나씩 배치)&lt;/li&gt;
&lt;li&gt;노드를 늘렸을 때도 데몬셋의 파드는 자동으로 늘어난 노드에서 기동&lt;/li&gt;
&lt;li&gt;로그 수집또는 모니터링 프로세스를 위해 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;데몬셋-명령어&#34;&gt;데몬셋 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 데몬셋 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-ds.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;데몬셋-업데이트-전략&#34;&gt;데몬셋 업데이트 전략&lt;/h4&gt;
&lt;h5 id=&#34;ondelete&#34;&gt;OnDelete&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;데몬셋 매니페스트를 수정해도 기존 파드는 업데이트 X
&lt;ul&gt;
&lt;li&gt;일반적으로 모니터링, 로그 전송에 사용되므로 업데이트는 다음에 다시 생성하거나 수동으로 임의의 시점에 하도록&lt;/li&gt;
&lt;li&gt;운영상 정지하면 안되는 파드, 업데이트가 급히 필요하지 않은 경우 사용 (이전 버전이 계속 사용되는 점 주의)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 업데이트 시 수동 정지 후 자동화된 복구 기능으로 새 파드 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete pod sample-ds-ondelete-xxxxx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;rollingupdate-1&#34;&gt;RollingUpdate&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;데몬셋에서는 하나의 노드에 동일 파드를 여러개 생성할 수 없음
&lt;ul&gt;
&lt;li&gt;maxSurge 설정 불가&lt;/li&gt;
&lt;li&gt;maxUnavailable만 지정하여 RollingUpdate&lt;/li&gt;
&lt;li&gt;maxUnavailable 0 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;스테이트풀셋&#34;&gt;스테이트풀셋&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;DB와 같은 stateful한 워크로드에 사용하기 위한 리소스&lt;/li&gt;
&lt;li&gt;레플리카셋과의 주된 차이점
&lt;ul&gt;
&lt;li&gt;생성되는 파드의 접미사는 숫자 인덱스 (sample-statefulset-0, sample-statefulset-1, &amp;hellip;)&lt;/li&gt;
&lt;li&gt;파드명 불변&lt;/li&gt;
&lt;li&gt;데이터를 영구적으로 저장하는 구조 (영구 볼륨을 사용하는 경우 파드 재기동시 같은 디스크 사용)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;동시에 여러 파드가 생성되지 않고 하나씩 생성하며, Ready 상태가 되면 다음 파드를 생성
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;podManagemetPolicy&lt;/code&gt;를 &lt;code&gt;Parallel&lt;/code&gt;로 설정하여 병렬로 동시에 기동 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;스테이트풀셋-명령어&#34;&gt;스테이트풀셋 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 스테이트풀셋 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-statefulset.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 스테이트풀셋 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get statefulsets
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 영구 볼륨 클레임 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get persistentvolumeclaims
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 영구 볼륨 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get persistentvolumes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;스테이트풀셋-스케일링&#34;&gt;스테이트풀셋 스케일링&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 레플리카 수를 3에서 4로 변경한 매니페스트를 apply&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sed -i -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s|replicas: 3|replicas: 4|&amp;#39;&lt;/span&gt; sample-statefulset.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-statefulset.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## kubectl scale을 사용한 스케일링&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl scale statefulset sample-statefulset --replicas&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;기본적으로 파드를 동시에 하나씩만 생성하고 삭제하므로 시간이 더 걸림&lt;/li&gt;
&lt;li&gt;스케일 아웃일 때는 인덱스가 가장 작은 것 부터 파드를 하나씩 생성하고, 이전에 생성된 파드가 Ready 상태가 되고 나서 다음 파드 생성&lt;/li&gt;
&lt;li&gt;스케일 인일 때는 인덱스가 가장 큰(가장 최근) 파드 부터 삭제&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;항상 0번째 파드가 먼저 생성되고 나중에 삭제되므로 마스터 노드로 사용하는 이중화 구조 애플리케이션에 적합&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;스테이트풀셋-업데이트-전략&#34;&gt;스테이트풀셋 업데이트 전략&lt;/h4&gt;
&lt;h5 id=&#34;ondelete-1&#34;&gt;Ondelete&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;데몬셋과 동일하게 매니페스트 변경해도 기존 파드는 그대로임&lt;/li&gt;
&lt;li&gt;영속성 영역을 가진 DB나 클러스터등에서 많이 사용하므로 임의의 시점이나 다음에 재기동할 때 업데이트&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;rollingupdate-2&#34;&gt;RollingUpdate&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;maxSurge, maxUnavailable 둘 다 사용 불가능&lt;/li&gt;
&lt;li&gt;파드마다 Ready 상태인지 확인하고 업데이트&lt;/li&gt;
&lt;li&gt;Parallel로 설정되어 있는 경우에도 하나씩 업데이트가 이루어짐&lt;/li&gt;
&lt;li&gt;partition 설정시 전체 파드 중 어떤 파드까지 업데이트할지 지정 가능
&lt;ul&gt;
&lt;li&gt;전체에 영향을 주지 않고 부분적으로 업데이트를 확인할 수 있어 보다 안전&lt;/li&gt;
&lt;li&gt;수동으로 재기동해도 Ondelete와 달리 partition보다 작은 인덱스를 가진 파드는 업데이트 X
&lt;ul&gt;
&lt;li&gt;예) partition이 3이면 0,1,2 인덱스 파드는 업데이트 X&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;partition 값 수정하면 해당 값에 맞는 인덱스를 가진 파드들 업데이트됨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;영구-볼륨-데이터-저장-확인&#34;&gt;영구 볼륨 데이터 저장 확인&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 컨테이너 내부에 영구 볼륨 마운트 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- df -h &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep /dev/sd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 영구 볼륨에 sample.html 이 없는지 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- ls /usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls: cannot access &lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/share/nginx/html/sample.html&amp;#39;&lt;/span&gt;: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 영구 볼륨에 sample.html 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- touch /usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 영구 볼륨에 sample.html 이 있는지 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- ls /usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 예상치 못한 파드 정지 1(파드 삭제)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete pod sample-statefulset-0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 예상치 못한 파드 정지 2(nginx 프로세스 정지)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- /bin/bash -c &lt;span class=&#34;s1&#34;&gt;&amp;#39;kill 1&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 파드 정지, 복구 후에도 파일 유실 없음&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it sample-statefulset-0 -- ls /usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/share/nginx/html/sample.html
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;스테이트풀셋을 삭제해도 영구 볼륨은 해제되지 않음&lt;/li&gt;
&lt;li&gt;영구 볼륨 해제하지 않고 스테이트풀셋 재기동시 그대로 파드가 기동&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 스테이트풀셋이 확보한 영구 볼륨 해제&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl delete persistentvolumeclaims www-sample-statefulset-&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;0..4&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;잡&#34;&gt;잡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너를 사용하여 한 번만 실행되는 리소스&lt;/li&gt;
&lt;li&gt;N개의 병렬로 실행하면서 지정한 횟수의 컨테이너 실행(정상 종료)를 보장하는 리소스&lt;/li&gt;
&lt;li&gt;파드의 정지가 정상 종료되는 작업에 적합 (레플리카셋의 경우 파드의 정지는 예상치 못한 에러임)&lt;/li&gt;
&lt;li&gt;잡에서는 정상 종료한 파드 수(COMPLETION)을 표기함&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;잡-명령어&#34;&gt;잡 명령어&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 잡 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl apply -f sample-job.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 잡 목록 표시&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get &lt;span class=&#34;nb&#34;&gt;jobs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 잡이 생성한 파드 확인&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get pods --watch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 잡 상태 모니터링&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl get job sample-job-ttl --watch --output-watch-events
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 매니페스트를 사용하지 않고 명령어로 잡 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create job sample-job-by-cli &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;amsy810/tools:v2.0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-- sleep &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 크론잡 기반 잡 생성&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create job sample-job-from-cronjob --from cronjob/sample-cronjob
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;restartpolicy&#34;&gt;restartPolicy&lt;/h4&gt;
&lt;h5 id=&#34;never&#34;&gt;Never&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드에 장애가 발생하면 신규 파드가 생성&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;onfailure&#34;&gt;OnFailure&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;파드 장애 발생시 다시 동일한 파드를 사용하여 잡을 다시 시작&lt;/li&gt;
&lt;li&gt;RESTART 카운터가 증가&lt;/li&gt;
&lt;li&gt;파드 IP 주소는 변경 X, 영구 볼륨이나 hostPath 마운트하지 않은 경우 데이터 유실&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;태스크와-작업-큐-병렬-실행&#34;&gt;태스크와 작업 큐 병렬 실행&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;completion: 몇 회 완료시 잡을 성공으로 표기할 것인지(기본값 1), 변경 불가&lt;/li&gt;
&lt;li&gt;parallelism: 병렬성 지정(기본값 1), 변경 가능&lt;/li&gt;
&lt;li&gt;backoffLimit: 실패 허용 횟수, 변경 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;워크로드&lt;/th&gt;
&lt;th&gt;completions&lt;/th&gt;
&lt;th&gt;parallelism&lt;/th&gt;
&lt;th&gt;backoffLimit&lt;/th&gt;
&lt;th&gt;목적&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1회만 실행하는 태스크&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;성공 유무에 관계 없이 반드시 1회 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;N개 병렬로 실행시키는 태스크&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;P&lt;/td&gt;
&lt;td&gt;병렬 태스크 수행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;한 개씩 실행하는 작업 큐&lt;/td&gt;
&lt;td&gt;미지정&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;P&lt;/td&gt;
&lt;td&gt;한 번 정상 종료할 때까지 한 개씩 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;N개 병렬로 실행하는 작업 큐&lt;/td&gt;
&lt;td&gt;미지정&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;P&lt;/td&gt;
&lt;td&gt;큰 처리 전체가 정상 종료할 때까지 몇 개의 병렬 수로 계속 실행하고픈 경우&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## 병렬성을 2에서 3으로 변경한 매니페스트 apply&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sed -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s|parallelism: 1|parallelism: 2|&amp;#39;&lt;/span&gt; sample-job.yaml &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; kubectl apply -f -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;크론잡&#34;&gt;크론잡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;스케줄링된 시간에 잡 생성&lt;/li&gt;
&lt;li&gt;크론잡 -&amp;gt; 잡 -&amp;gt; 파드 (3계층 관리 구조)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;크론잡-일시정지&#34;&gt;크론잡 일시정지&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;점검이나 어떤 이유로 잡 생성 원하지 않을 경우 suspend(일시정지)&lt;/li&gt;
&lt;li&gt;매니페스트 수정 후 kubectl apply 실행&lt;/li&gt;
&lt;li&gt;kubectl patch
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl patch cronjob sample-cronjob -p &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;suspend&amp;#34;:true}}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;동시-실행-제어&#34;&gt;동시 실행 제어&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;잡이 의도한 시간 간격에서 정상 종료시 동시 실행되지 않고 알아서 새로운 잡 실행&lt;/li&gt;
&lt;li&gt;기존 잡이 실행되고 있을 때를 제어하고 싶은 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;정책&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Allow(기본값)&lt;/td&gt;
&lt;td&gt;동시 실행에 대한 제한 X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Forbid&lt;/td&gt;
&lt;td&gt;이전 잡이 종료되지 않은 경우 다음 잡 실행 X (동시 실행 X)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Replace&lt;/td&gt;
&lt;td&gt;이전 잡 취소 후 잡 시작(이전 잡의 레플리카 수를 0으로 변경)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;실행-시작-기한-제어&#34;&gt;실행 시작 기한 제어&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;쿠버네티스 마스터가 일시적으로 정지되는 경우와 같이 시작 시간 지연시, 이 지연 시간을 허용하는 시간&lt;/li&gt;
&lt;li&gt;기본값은 아무리 늦어져도 잡을 생성&lt;/li&gt;
&lt;li&gt;예) 매시 00분 시작 잡을 &amp;lsquo;매시 00~05분에만 실행 가능&amp;rsquo; 설정 시 300초로 설정&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;크론잡-이력&#34;&gt;크론잡 이력&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;설정 항목&lt;/th&gt;
&lt;th&gt;개요&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;spec.successfulJobsHistoryLimit&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;성공한 잡을 저장하는 개수&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;spec.failedJobsHistoryLimit&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;실패한 잡을 저장하는 개수&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;실제 운영 환경에서는 컨테이너 로그를 외부 로그 시스템을 통해 운영하는 것이 좋음&lt;/li&gt;
&lt;li&gt;둘 다 0으로 설정시 잡은 종료시 즉시 삭제&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;매니페스트-사용하지-않고-크론잡-생성&#34;&gt;매니페스트 사용하지 않고 크론잡 생성&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ kubectl create cronjob sample-cronjob-by-cli &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--image amsy810/random-exit:v2.0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--schedule &lt;span class=&#34;s2&#34;&gt;&amp;#34;*/1 * * * *&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--restart Never
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;정리&#34;&gt;정리&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;파드나 레플리카셋 생성 시 처음부터 디플로이먼트로 생성하는 것이 좋음
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;리소스 종류&lt;/th&gt;
&lt;th&gt;사용 방법&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;파드&lt;/td&gt;
&lt;td&gt;디버깅이나 확인 용도&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;레플리카셋&lt;/td&gt;
&lt;td&gt;파드 스케일링, 관리&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;디플로이먼트&lt;/td&gt;
&lt;td&gt;스케일링할 워크로드에 사용&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;데몬셋&lt;/td&gt;
&lt;td&gt;각 노드에 파드 하나씩 배포할 때&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;스테이트풀셋&lt;/td&gt;
&lt;td&gt;영속성 데이터 등의 상태를 가진 워크로드에 사용&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;잡&lt;/td&gt;
&lt;td&gt;작업 큐나 태스크 등 컨테이너 종료가 필요한 워크로드에 사용&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;크론잡&lt;/td&gt;
&lt;td&gt;정기적으로 잡을 생성하고 싶은 경우&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Docker 내용 정리</title>
        <link>https://Haebuk.github.io/p/docker-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC/</link>
        <pubDate>Fri, 03 Jun 2022 17:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/docker-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC/</guid>
        <description>&lt;h1 id=&#34;docker-내용-정리&#34;&gt;Docker 내용 정리&lt;/h1&gt;
&lt;h2 id=&#34;도커-컨테이너-설계&#34;&gt;도커 컨테이너 설계&lt;/h2&gt;
&lt;p&gt;도커 컨테이너 생성 시 주의해야 할 점 네 가지&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1 컨테이너당 1 프로세스&lt;/li&gt;
&lt;li&gt;변경 불가능한 인프라(Immutable Infrastructure) 이미지로 생성&lt;/li&gt;
&lt;li&gt;경량의 도커 이미지로 생성&lt;/li&gt;
&lt;li&gt;실행 계정은 root 이외의 사용자로 설정&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-1-컨테이너당-1-프로세스&#34;&gt;1. 1 컨테이너당 1 프로세스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;기존 VM처럼 하나의 이미지 안에 여러 프로세스는 비추&lt;/li&gt;
&lt;li&gt;여러 프로세스 기동 시 주변 에코 시스템과 맞지 않거나 관리가 힘들어짐&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-변경-불가능한-인프라를-구현하는-이미지로-생성&#34;&gt;2. 변경 불가능한 인프라를 구현하는 이미지로 생성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;변경 불가능한 인프라: &amp;ldquo;환경 변경 시 오래된 환경은 없애고 새로운 환경 생성&amp;rdquo; 또는 &amp;ldquo;한번 만든 환경은 절대 불변하게&amp;rdquo;&lt;/li&gt;
&lt;li&gt;전자의 경우 쿠버네티스는 자동으로 만들어주지만 후자는 컨테이너 이미지 관리자가 고려해야 함&lt;/li&gt;
&lt;li&gt;도커 컨테이너는 버전 관리 가능하므로, 컨테이너 이미지 내에 애플리케이션 실행 바이너리 또는 관련 리소스를 가능한 포함시켜야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-도커-이미지-경량화&#34;&gt;3. 도커 이미지 경량화&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너 실행 시 최초 1회는 이미지를 외부에서 pull해야 함&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dnf&lt;/code&gt;, &lt;code&gt;yum&lt;/code&gt;, &lt;code&gt;apt&lt;/code&gt;로 패키지 설치 후 저장소 패키지 목록 등의 캐시파일 삭제&lt;/li&gt;
&lt;li&gt;멀티 스테이지 빌드 활용하여 이미지에 필요한 파일만 추가&lt;/li&gt;
&lt;li&gt;기본 이미지가 경량인 배포판 이미지 사용 (ex. alpine linux, distorless 등)&lt;/li&gt;
&lt;li&gt;도커 파일 최적화에 따라 레이어 줄이기&lt;/li&gt;
&lt;li&gt;도커 이미지 생성시 squash 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-실행-계정-권한-최소화&#34;&gt;4. 실행 계정 권한 최소화&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;root 사용자는 최대한 사용하지 않도록 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;entrypoint와-cmd&#34;&gt;&lt;code&gt;ENTRYPOINT&lt;/code&gt;와 &lt;code&gt;CMD&lt;/code&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;컨테이너가 기동할 때 실행하는 명령어를 지정할 때 사용&lt;/li&gt;
&lt;li&gt;아주 간단히 설명하면 &lt;code&gt;$ENTRYOINT $CMD&lt;/code&gt;가 실행된다고 볼 수 있음&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ENTRYPOINT&lt;/code&gt;에 바꿀 필요가 없는 부분을 정의하고 &lt;code&gt;CMD&lt;/code&gt;에 기본값 인수 등을 정의하는 것이 일반적
&lt;ul&gt;
&lt;li&gt;예) &lt;code&gt;ENTRYPOINT&lt;/code&gt;에 /bin/sleep 지정, &lt;code&gt;CMD&lt;/code&gt;에 sleep 시간 지정&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Dask 튜토리얼</title>
        <link>https://Haebuk.github.io/p/dask-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/</link>
        <pubDate>Mon, 10 Jan 2022 17:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/dask-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/</guid>
        <description>&lt;h2 id=&#34;들어가며&#34;&gt;들어가며&lt;/h2&gt;
&lt;p&gt;현업에서 간단하게 로컬에서 데이터를 뽑아보려해도 수 GB는 훌쩍 넘어가는 경우가 다반사기 때문에, Pandas로는 한계가 있음을 느꼈습니다.&lt;/p&gt;
&lt;p&gt;Dask를 사용하여 기초적인 병렬 계산, 데이터프레임 다루기, 간단한 신경망을 통해 학습하는 과정을 살펴보겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=Alwgx_1qsj4&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.youtube.com/watch?v=Alwgx_1qsj4&lt;/a&gt;를 참고했습니다.&lt;/p&gt;
&lt;p&gt;예전에 촬영되어서 그대로 코드를 작성하면 작동하지 않는 코드가 여럿 있습니다. 2022년 1월 10일 기준으로 작동하도록 수정했습니다.&lt;/p&gt;
&lt;h2 id=&#34;pre-required&#34;&gt;Pre-required&lt;/h2&gt;
&lt;p&gt;dask와 함께 진행에는 영향이 없지만 아래에서 제공하는 시각화를 위해서는 graphviz 라이브러리를 설치해야합니다.&lt;/p&gt;
&lt;p&gt;또한 Machine Learning 파트에서 Tensorflow를 사용합니다. M1 맥북에서 실행했기 때문에 출력문에 약간의 차이가 발생할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&#34;basic&#34;&gt;Basic&lt;/h2&gt;
&lt;p&gt;첫번째로 dask가 제공하는 병렬 계산에 대해 살펴보도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;아래와 같이 함수가 작동할 때 마다 1초씩 대기하는 코드가 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;한번 실행시켜 보겠습니다. x와 y에 1과 2를 할당하고 x와 y를 더합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CPU times: user 451 µs, sys: 697 µs, total: 1.15 ms
Wall time: 3.01 s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1초, 1초, 1초 3번을 대기 했기때문에 총 실행시간이 약 3초가 나왔음을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;이를 Dask를 이용하여 기다리지 않고 계산하게 만들 수 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;dask&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;이를 위해서 Dask의 &lt;code&gt;delayed&lt;/code&gt; 모듈을 임포트합니다. delayed 모듈은 병렬로 계산하고자 하는 것이 있을 때 매우 효과적입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@delayed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delayed_inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@delayed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delayed_add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;위에서 정의했던 &lt;code&gt;inc&lt;/code&gt;와 &lt;code&gt;add&lt;/code&gt;의 함수와 동일합니다. 단지 함수 위에 &lt;code&gt;@delayed&lt;/code&gt; 데코레이터를 붙여주기만 하면 끝입니다.&lt;/p&gt;
&lt;p&gt;한 번 시간을 측정해보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delayed_inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delayed_inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delayed_add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;delayed&lt;/code&gt;메서드 안에 위에서 정의한 함수를 넣고 바깥에 함수 값을 할당합니다.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CPU times: user 116 µs, sys: 20 µs, total: 136 µs
Wall time: 130 µs
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;놀랍게도 1초도 안걸려 모든 계산이 끝났습니다. (정확한 결론은 아래를 참조해주세요.)&lt;/p&gt;
&lt;p&gt;dask가 어떤 병렬 계산을 수행했는지 시각적으로 확인할 수 있습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;visualize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/images/dask-tutorial_files/dask-tutorial_7_0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;위에서부터 차례로 코드를 실행하는 것이 아닌 병렬로 계산한다는 것을 알 수 있습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;dask의 메서드로 정의한 값을 알아보려면 평소와는 다른 방법을 써야하는데요, 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;z&lt;/code&gt;값 (2+3=5)가 나오길 기대했지만, 엉뚱한 값이 나옵니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;Delayed(&#39;delayed_add-0e54f9e1-941d-49e9-903f-34e96b0dba54&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;이는 실제 계산이 수행된 것이 아닌 어떤 메타데이터를 가르키고 있다고 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;우리가 원하는 계산을 수행하려면 &lt;code&gt;compute()&lt;/code&gt;를 사용해야 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CPU times: user 1.76 ms, sys: 1.56 ms, total: 3.32 ms
Wall time: 2.01 s

5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;z&lt;/code&gt;의 값은 5가 나왔고, 실행 시간은 2초가 나왔습니다.
각 &lt;code&gt;inc(x)&lt;/code&gt; &lt;code&gt;inc(y)&lt;/code&gt;가 병렬로 수행되는 데 1초, &lt;code&gt;add(x+y)&lt;/code&gt;에서 1초가 소요되었기 때문입니다.&lt;/p&gt;
&lt;h2 id=&#34;for-loop&#34;&gt;For loop&lt;/h2&gt;
&lt;p&gt;조금 더 오래걸리는 예제를 살펴보겠습니다.&lt;/p&gt;
&lt;p&gt;파이썬의 for문은 악명이 자자한데요, 데이터 수를 무자비하게 늘리기보다는 앞에서 사용했던 함수를 사용해 시간을 늘려보겠습니다.&lt;/p&gt;
&lt;p&gt;1부터 8까지 담겨져 있는 파이썬 리스트를 선언합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;리스트에서 값을 뽑아 &lt;code&gt;inc&lt;/code&gt;함수에 삽입하고 결과를 빈 리스트에 담아 최종 합을 산출하는 코드입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;total&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CPU times: user 1.19 ms, sys: 1.2 ms, total: 2.38 ms
Wall time: 8.03 s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;inc&lt;/code&gt;가 총 8번 호출됐기 때문에 실행시간이 8초가 나왔습니다.&lt;/p&gt;
&lt;p&gt;이를 dask의 delayed 메서드로 병렬화시켜보겠습니다. 과연 모든 &lt;code&gt;inc&lt;/code&gt;가 병렬로 계산되어 1초 남짓한 시간이 걸릴까요?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delayed_inc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;total&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delayed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;results&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;total&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CPU times: user 3.28 ms, sys: 2.15 ms, total: 5.43 ms
Wall time: 1.01 s

44
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1부터 8까지 모두 더한 44가 결과값으로 나왔고, 실행시간은 예상한대로 1초가 나왔습니다. 모든 &lt;code&gt;inc&lt;/code&gt; 함수가 병렬로 수행됐음이 분명합니다.&lt;/p&gt;
&lt;p&gt;검증을 위해 시각화해보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;total&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;visualize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/images/dask-tutorial_files/dask-tutorial_13_0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;처음에 이 그래프를 보고 감탄했던 기억이(&amp;hellip;) 아름답게 병렬 계산을 하는 것을 알 수 있습니다.&lt;/p&gt;
&lt;h2 id=&#34;dataframe&#34;&gt;DataFrame&lt;/h2&gt;
&lt;p&gt;dask하면 생각나는 것이 바로 대용량 dataframe입니다. dask를 이용해 빠르게 로드하고 집계하는 방법에 대해 살펴보겠습니다.&lt;/p&gt;
&lt;p&gt;먼저 데이터는 약 200MB의 데이터로 뉴욕 공항의 항공기 이착륙 관련 데이터입니다.&lt;/p&gt;
&lt;p&gt;아래와 같이 데이터를 다운로드 하고 로드합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;urllib&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;- Downloading NYC Flights dataset... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://storage.googleapis.com/dask-tutorial-data/nycflights.tar.gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;urllib&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urlretrieve&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;nycflights.tar.gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;- Downloading NYC Flights dataset... 
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tarfile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tarfile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;r:gz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flights&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;flights&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;extractall&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;여기까지 했다면 data폴더 안에 10개의 csv파일이 생성된 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;pandas를 사용할 경우 이를 반복문을 통해 &lt;code&gt;pd.concat&lt;/code&gt;으로 순차적으로 데이터프레임을 합치는 방법으로 접근하는데요, dask는 아래와 같이 분할된 파일을 한번에 로드할 수 있는 기능을 제공합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;dask.dataframe&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;dd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;nycflights&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;*.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parse_dates&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Date&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- raw HTML omitted --&gt;
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;pandas와는 다르게 모든 값이 감춰져있습니다. 이를 살펴보는 방법은 조금 후에 살펴보도록 하고, dask 데이터프레임 로드시 주의해야할 점에 대해 먼저 설명하겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- raw HTML omitted --&gt;
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;&lt;code&gt;head()&lt;/code&gt;메서드는 pandas와 동일한 기능을 제공합니다. &lt;code&gt;tail()&lt;/code&gt;도 한 번 살펴볼까요?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

/var/folders/xm/8mvqw44j1md_q70lrkm9_wh00000gn/T/ipykernel_47466/281403043.py in &amp;lt;module&amp;gt;
----&amp;gt; 1 df.tail()


/opt/homebrew/Caskroom/miniforge/base/envs/tensorflow/lib/python3.9/site-packages/dask/dataframe/core.py in tail(self, n, compute)
   1143 
   1144         if compute:
-&amp;gt; 1145             result = result.compute()
   1146         return result
   1147 

... 중략 ...

ValueError: Mismatched dtypes found in `pd.read_csv`/`pd.read_table`.

+----------------+---------+----------+
| Column         | Found   | Expected |
+----------------+---------+----------+
| CRSElapsedTime | float64 | int64    |
| TailNum        | object  | float64  |
+----------------+---------+----------+

The following columns also raised exceptions on conversion:

- TailNum
  ValueError(&amp;quot;could not convert string to float: &#39;N54711&#39;&amp;quot;)

Usually this is due to dask&#39;s dtype inference failing, and
*may* be fixed by specifying dtypes manually by adding:

dtype={&#39;CRSElapsedTime&#39;: &#39;float64&#39;,
       &#39;TailNum&#39;: &#39;object&#39;}

to the call to `read_csv`/`read_table`.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;tail()&lt;/code&gt;은 &lt;code&gt;head()&lt;/code&gt;와 다르게 오류가 발생합니다. 이는 dask가 dataframe을 생성할 때 데이터타입을 데이터의 초반 행을 통해 추론하기 때문입니다.&lt;/p&gt;
&lt;p&gt;오류문을 살펴보면 &lt;code&gt;CRSElapsedTime&lt;/code&gt;은 int64를 기대했는데 float64였고, &lt;code&gt;TailNum&lt;/code&gt;은 float64를 기대했는데 object가 나타났다고 합니다.&lt;/p&gt;
&lt;p&gt;이를 해결하기 위해서는 dask dataframe을 정의할 때 데이터타입을 명시해줘야 합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read_csv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;nycflights&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;*.csv&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;parse_dates&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Date&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;dtype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;TailNum&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;CRSElapsedTime&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;Cancelled&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;CRSElapsedTime&lt;/code&gt;과 &lt;code&gt;TailNum&lt;/code&gt;의 데이터 타입을 명시하고, 이따가 사용할 &lt;code&gt;Cancelled&lt;/code&gt;열도 미리 데이터 타입을 선언해주겠습니다.&lt;/p&gt;
&lt;p&gt;다시 한 번 마지막 값을 살펴보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- raw HTML omitted --&gt;
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;정상적으로 값이 출력됨을 알 수 있습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이번에는 간단한 집계함수를 사용해보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DepDelay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CPU times: user 3.18 s, sys: 526 ms, total: 3.71 s
Wall time: 1.61 s

1435.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;매우 빠르게 최대값을 산출해냄을 알 수 있습니다. dask는 이를 어떻게 계산했을까요?&lt;/p&gt;
&lt;p&gt;시각적으로 살펴보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DepDelay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;visualize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rankdir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;LR&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;12, 12!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://Haebuk.github.io/images/dask-tutorial_files/dask-tutorial_23_0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;각각의 파티션(총 10개)에서 최대값 후보를 선정한다음에 최종 최대값을 선출해냄을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;단순하게 생각하면 pandas 집계보다 10배 빠르다고 볼 수도 있겠습니다.&lt;/p&gt;
&lt;h2 id=&#34;ml-with-dask&#34;&gt;ML with Dask&lt;/h2&gt;
&lt;p&gt;마지막으로 간단한 신경망을 통해 학습하는 방법을 살펴보고 마치겠습니다.&lt;/p&gt;
&lt;p&gt;먼저 학습에 사용할 데이터를 정의하고 정보를 확인합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;CRSDepTime&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;CRSArrTime&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Cancelled&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;array([[1540, 1701],
       [1540, 1701],
       [1540, 1701],
       ...,
       [1645, 1901],
       [1645, 1901],
       [1645, 1901]])
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;array([False, False, False, ..., False, False, False])
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;(Delayed(&#39;int-94ab9ac8-9432-4a95-b40f-abdaca09c41e&#39;), 3)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0번째 값은 dask delayed객체로 나오고, 1번째 값은 총 열 개수인 3이 나오는 것이 특징입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isnull&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;CRSDepTime    0
CRSArrTime    0
Cancelled     0
dtype: int64
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;결측치는 없습니다. 아주 간단한 신경망을 정의하고 학습시켜보겠습니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tensorflow&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;keras.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Sequential&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;keras.layers&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Dense&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Sequential&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Dense&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;input_dim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Dense&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sigmoid&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;loss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;binary_crossentropy&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;optimizer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sgd&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;from_tensor_slices&lt;/code&gt;를 사용해 데이터프레임을 변환합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;dataset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Dataset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_tensor_slices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;df_train&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[:,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;batch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;512&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dataset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;epochs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;pre&gt;&lt;code&gt;Epoch 1/5
10203/10203 [==============================] - 38s 4ms/step - loss: 239.6750
Epoch 2/5
10203/10203 [==============================] - 38s 4ms/step - loss: 0.1011
Epoch 3/5
10203/10203 [==============================] - 38s 4ms/step - loss: 0.1006
Epoch 4/5
10203/10203 [==============================] - 39s 4ms/step - loss: 0.1006
Epoch 5/5
10203/10203 [==============================] - 39s 4ms/step - loss: 0.1006

&amp;lt;keras.callbacks.History at 0x298c5f040&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;여기서는 학습을 할 수 있다에 초점을 맞췄기 때문에, 성능 검증은 다루지 않습니다.&lt;/p&gt;
&lt;h2 id=&#34;마치며&#34;&gt;마치며&lt;/h2&gt;
&lt;p&gt;대용량 데이터에 적합한 라이브러리인 dask에 대해 기초를 다뤄봤습니다. 심화된 기능은 공식 홈페이지에 상세히 나와있습니다.&lt;/p&gt;
&lt;p&gt;dask의 기능을 좀 더 숙지한다면 매우 많은 부분에서 pandas를 대체할 수 있을것이라 기대합니다.&lt;/p&gt;
&lt;p&gt;더 소개할만한 기능을 수집해서 다음 포스팅에 공유하도록 하겠습니다. 감사합니다.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>파이썬으로 엘라스틱 서치 쿼리하기</title>
        <link>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9C%BC%EB%A1%9C-%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1-%EC%84%9C%EC%B9%98-%EC%BF%BC%EB%A6%AC%ED%95%98%EA%B8%B0/</link>
        <pubDate>Sun, 19 Dec 2021 17:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9C%BC%EB%A1%9C-%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1-%EC%84%9C%EC%B9%98-%EC%BF%BC%EB%A6%AC%ED%95%98%EA%B8%B0/</guid>
        <description>&lt;p&gt;엘라스틱 서치를 파이썬으로 쿼리하는 방법에 대해 알아보겠습니다.&lt;/p&gt;
&lt;p&gt;현업에서 엘라스틱 서치를 통해 정보를 받고 Kibana를 통해 시각화를 많이 하고 있는데요, 이러한 로그 정보들을 파이썬을 통해 분석하고 싶은 경우가 있습니다. 예를 든다면 dau(daily activate user)의 정보를 수집하고 있는데 몇시에 가장 많이 접속하는지, 이런 정보를 가공해 다른 곳에 사용한다던지 말이죠.&lt;/p&gt;
&lt;p&gt;이러한 정보를 키바나를 통해 확인할 수 있지만, 별도의 레포트를 만들 경우 seaborn이나 matplotlib을 통해 시각화를 진행할때가 많습니다. 그렇다면 어떻게 엘라스틱 서치로 저장된 정보를 파이썬으로 쿼리할 수 있을 지 알아보겠습니다.&lt;/p&gt;
&lt;p&gt;여기서는 &lt;code&gt;scroll&lt;/code&gt; 메서드를 사용해 순차적으로 저장된 &lt;strong&gt;모든&lt;/strong&gt; 정보를 불러오고 json 파일로 저장하는 방법을 살펴봅니다.&lt;/p&gt;
&lt;h2 id=&#34;예제&#34;&gt;예제&lt;/h2&gt;
&lt;p&gt;아래 예제에서는 &lt;code&gt;dau&lt;/code&gt; 라는 이름을 가진 인덱스에서 &lt;code&gt;product_id=2021&lt;/code&gt; 인 정보를 모두 쿼리합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;elasticsearch&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Elasticsearch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;받아올 엘라스틱 서치 URI&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;es&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Elasticsearch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;indices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;dau&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 인덱스 명&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# 한 번에 받아올 데이터 갯수&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;여기서 &lt;code&gt;host&lt;/code&gt; 는 본인이 사용하고 있는 엘라스틱 서치 서비스의 URI입니다. &lt;code&gt;size=10000&lt;/code&gt; 은 한 번에 1만개씩 받아오겠다는 의미입니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;doc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;size&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;query&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;match&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s1&#34;&gt;&amp;#39;product_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;doc&lt;/code&gt;에 쿼리 정보를 담아줍니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 이전 스크롤 1초 저장&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;es&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;doc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1s&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_scroll_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;code&gt;response&lt;/code&gt; 에 엘라스틱 서치 &lt;code&gt;search&lt;/code&gt; 메서드를 정의합니다. &lt;code&gt;old_scroll_id&lt;/code&gt; 에 초기 스크롤 id를 정의하고 결과를 받을 빈 리스트를 정의합니다.(&lt;code&gt;result&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_source&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;가장 처음 쿼리를 저장합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;es&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scroll_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1s&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_source&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_scroll_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# scroll id 초기화&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Result Length: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;이후 반복문을 통해 더 이상 받아올 정보가 없을 때 까지 탐색하여 정보를 저장합니다.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# save file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;es_dau.json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;마지막으로 &lt;code&gt;result&lt;/code&gt; 를 json 형식의 파일로 저장하면 이후 자유롭게 어디서나 쿼리한 정보를 받아올 수 있습니다.&lt;/p&gt;
&lt;h2 id=&#34;전체코드&#34;&gt;전체코드&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;elasticsearch&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Elasticsearch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;사용할 엘라스틱 서치 URL&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;es&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Elasticsearch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;indices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;dau&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;doc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;size&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;query&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;match&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s1&#34;&gt;&amp;#39;product_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 이전 스크롤 1초 저장&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;es&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;doc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1s&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_scroll_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_source&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;es&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scroll_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scroll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1s&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hits&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_source&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;old_scroll_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;_scroll_id&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# scroll id 초기화&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Result Length: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# save file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;es_dau.json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>AWS Data Analysis Fundamentals 후기</title>
        <link>https://Haebuk.github.io/p/aws-data-analysis-fundamentals-%ED%9B%84%EA%B8%B0/</link>
        <pubDate>Sat, 09 Jan 2021 17:12:39 +0900</pubDate>
        
        <guid>https://Haebuk.github.io/p/aws-data-analysis-fundamentals-%ED%9B%84%EA%B8%B0/</guid>
        <description>&lt;p&gt;지난번 포스팅에서 data analytics learning plan을 수강한다고 언급했었는데요,(참조: &lt;a class=&#34;link&#34; href=&#34;https://haebuk.github.io/aws/AWS-Data-Analytics-Learning-Plan2/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;[AWS] Data Analytics Learning Plan을 시작하며&lt;/a&gt;) 아무래도 영어로 된 강의다보니 첫 수강에 부담이 있었습니다.&lt;/p&gt;
&lt;p&gt;한국어로 된 유사한 강의가 있나 찾아보던 중 발견하게 되어 먼저 수강하기로 결정했습니다. (링크: &lt;a class=&#34;link&#34; href=&#34;https://explore.skillbuilder.aws/learn/course/636/data-analytics-fundamentals-korean&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Data Analytics Fundamentals (Korean)&lt;/a&gt;, 수강신청을 하지 않았을 경우 접속이 되지 않을 수 있습니다. 먼저 aws skill builder에서 등록을 진행해주세요.)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/68543150/148673775-845754fe-34d2-4120-a41a-f2f7f237d14b.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;강의-구성&#34;&gt;강의 구성&lt;/h2&gt;
&lt;p&gt;강의는 약 3시간 30분으로 이루어져 있습니다. 강의 구성은 5V에 대해 소개하는데요, 볼륨(Volume), 속도(Velocity), 다양성(Variety), 정확성(Veracity),  가치(Value)의 5V입니다.&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;데이터 분석 과정에서 직면한 5V의 문제를 어떤식으로 접근해야하는지, AWS의 어떤 서비스를 이용하면 되는지에 대해 소개합니다.&lt;/p&gt;
&lt;h2 id=&#34;후기&#34;&gt;후기&lt;/h2&gt;
&lt;p&gt;솔직히 별로..라고 생각했습니다.&lt;/p&gt;
&lt;p&gt;기초강의다보니 실무적으로 사용하는 방법보다는, 이런 문제는 우리의 어떤 서비스를 통해 해결할 수 있어~ 에서 마치는 느낌입니다.&lt;/p&gt;
&lt;p&gt;AWS에 어느정도 관심있으신 분들은 다 아시는 내용일거라고 생각합니다.&lt;/p&gt;
&lt;h2 id=&#34;아무튼-수료&#34;&gt;아무튼 수료&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/68543150/148674132-d5d7336f-457e-4ec8-8fb2-edc6614db078.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Archives</title>
        <link>https://Haebuk.github.io/archives/</link>
        <pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate>
        
        <guid>https://Haebuk.github.io/archives/</guid>
        <description></description>
        </item>
        <item>
        <title>About</title>
        <link>https://Haebuk.github.io/about/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://Haebuk.github.io/about/</guid>
        <description></description>
        </item>
        <item>
        <title>Search</title>
        <link>https://Haebuk.github.io/search/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>https://Haebuk.github.io/search/</guid>
        <description></description>
        </item>
        
    </channel>
</rss>
